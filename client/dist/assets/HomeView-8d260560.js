import{u as gt,i as Fi,t as Ci,c as Bi,g as _i,o as Mi,r as Pe,a as kt,w as Ni,d as Br,b as Fe,F as xt,e as bt,f as qt,h as Ce,j as Te,k as st,l as Si,m as ar,n as vt,p as xr,q as xi,s as bi,v as Ti,x as Oi}from"./index-a7416c57.js";function Ii(e){return _i()?(Mi(e),!0):!1}function He(e){return typeof e=="function"?e():gt(e)}const Kr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Pi=Object.prototype.toString,Ri=e=>Pi.call(e)==="[object Object]",zi=()=>{};function $i(e,t={}){if(!Fi(e))return Ci(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const i in e.value)n[i]=Bi(()=>({get(){return e.value[i]},set(r){var a;if((a=He(t.replaceRef))!=null?a:!0)if(Array.isArray(e.value)){const l=[...e.value];l[i]=r,e.value=l}else{const l={...e.value,[i]:r};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[i]=r}}));return n}function Li(e){var t;const n=He(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Qr=Kr?window:void 0;function fr(...e){let t,n,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,r]=e,t=Qr):[t,n,i,r]=e,!t)return zi;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],f=()=>{a.forEach(s=>s()),a.length=0},l=(s,u,o,p)=>(s.addEventListener(u,o,p),()=>s.removeEventListener(u,o,p)),c=Ni(()=>[Li(t),He(r)],([s,u])=>{if(f(),!s)return;const o=Ri(u)?{...u}:u;a.push(...n.flatMap(p=>i.map(A=>l(s,p,A,o))))},{immediate:!0,flush:"post"}),D=()=>{c(),f()};return Ii(D),D}function br(e,t={}){var n,i;const{pointerTypes:r,preventDefault:a,stopPropagation:f,exact:l,onMove:c,onEnd:D,onStart:s,initialValue:u,axis:o="both",draggingElement:p=Qr,containerElement:A,handle:h=e}=t,g=Pe((n=He(u))!=null?n:{x:0,y:0}),w=Pe(),m=I=>r?r.includes(I.pointerType):!0,F=I=>{He(a)&&I.preventDefault(),He(f)&&I.stopPropagation()},O=I=>{var d;if(!m(I)||He(l)&&I.target!==He(e))return;const v=He(A),y=(d=v==null?void 0:v.getBoundingClientRect)==null?void 0:d.call(v),C=He(e).getBoundingClientRect(),E={x:I.clientX-(v?C.left-y.left:C.left),y:I.clientY-(v?C.top-y.top:C.top)};(s==null?void 0:s(E,I))!==!1&&(w.value=E,F(I))},S=I=>{var d;if(!m(I)||!w.value)return;const v=He(A),y=(d=v==null?void 0:v.getBoundingClientRect)==null?void 0:d.call(v),C=He(e).getBoundingClientRect();let{x:E,y:N}=g.value;(o==="x"||o==="both")&&(E=I.clientX-w.value.x,v&&(E=Math.min(Math.max(0,E),y.width-C.width))),(o==="y"||o==="both")&&(N=I.clientY-w.value.y,v&&(N=Math.min(Math.max(0,N),y.height-C.height))),g.value={x:E,y:N},c==null||c(g.value,I),F(I)},b=I=>{m(I)&&w.value&&(w.value=void 0,D==null||D(g.value,I),F(I))};if(Kr){const I={capture:(i=t.capture)!=null?i:!0};fr(h,"pointerdown",O,I),fr(p,"pointermove",S,I),fr(p,"pointerup",b,I)}return{...$i(g),position:g,isDragging:kt(()=>!!w.value),style:kt(()=>`left:${g.value.x}px;top:${g.value.y}px;`)}}var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qi=Ui;function Ui(e){for(var t=e.length,n=new Array(t),i=new Array(t),r=new Array(t),a=new Array(t),f=new Array(t),l=new Array(t),c=0;c<t;++c)n[c]=-1,i[c]=0,r[c]=!1,a[c]=0,f[c]=-1,l[c]=[];var D=0,s=[],u=[];function o(g){var w=[g],m=[g];for(n[g]=i[g]=D,r[g]=!0,D+=1;m.length>0;){g=m[m.length-1];var F=e[g];if(a[g]<F.length){for(var O=a[g];O<F.length;++O){var S=F[O];if(n[S]<0){n[S]=i[S]=D,r[S]=!0,D+=1,w.push(S),m.push(S);break}else r[S]&&(i[g]=Math.min(i[g],i[S])|0);f[S]>=0&&l[g].push(f[S])}a[g]=O}else{if(i[g]===n[g]){for(var b=[],I=[],d=0,O=w.length-1;O>=0;--O){var v=w[O];if(r[v]=!1,b.push(v),I.push(l[v]),d+=l[v].length,f[v]=s.length,v===g){w.length=O;break}}s.push(b);for(var y=new Array(d),O=0;O<I.length;O++)for(var C=0;C<I[O].length;C++)y[--d]=I[O][C];u.push(y)}m.pop()}}}for(var c=0;c<t;++c)n[c]<0&&o(c);for(var p,c=0;c<u.length;c++){var A=u[c];if(A.length!==0){A.sort(function(w,m){return w-m}),p=[A[0]];for(var h=1;h<A.length;h++)A[h]!==A[h-1]&&p.push(A[h]);u[c]=p}}return{components:s,adjacencyList:u}}const ki=er(qi);var en={exports:{}},tn={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(jr,function(){var n=function(r){throw new Error("linear-algebra: "+r)},i=function(r,a,f){n("["+r+"] op1 is "+a.rows+" x "+a.cols+" and op2 is "+f.rows+" x "+f.cols)};return function(r){r=r||{};var a={},f=a.Matrix=function(l){Array.isArray(l[0])?(this.data=l,this.rows=l.length,this.cols=l[0].length):(this.data=[l],this.rows=1,this.cols=l.length)};return f.prototype.clone=function(){return new f(this.toArray())},f.prototype.toArray=function(){for(var l=this.data,c=this.rows,D=this.cols,s=new Array(c),u=0;u<c;++u)s[u]=l[u].slice(0,D);return s},f.identity=function(l){return f.scalar(l,1)},f.scalar=function(l,c){var D=new Array(l),s,u;for(s=0;s<l;++s){for(D[s]=new Array(l),u=0;u<l;++u)D[s][u]=0;D[s][s]=c}return new f(D)},f.zero=function(l,c){for(var D=new Array(l),s=0;s<l;++s){D[s]=new Array(c);for(var u=0;u<c;++u)D[s][u]=0}return new f(D)},f.reshapeFrom=function(l,c,D){l.length!==c*D&&n("cannot reshape array of length "+l.length+" into "+c+"x"+D+" matrix");for(var s=[],u=0;u<l.length;u+=D)s.push(l.slice(u,D+u));return new f(s)},a.Vector={zero:function(l){for(var c=new Array(l),D=0;D<l;++D)c[D]=0;return new f(c)}},r.add&&console.warn("linear-algebra: adder (options.add) will not be used in non-precision version"),f.prototype.trans=function(){var l=this.data,c=this.rows,D=this.cols,s,u,o=new Array(D);for(u=0;u<D;++u)for(o[u]=new Array(c),s=0;s<c;++s)o[u][s]=l[s][u];return new f(o)},f.prototype.trans_=function(){var l=this.data,c=this.rows,D=this.cols,s,u,o,p=D===c,A=D>c?c:D;for(s=0;s<A;++s)for(u=s+1;u<A;++u)o=l[u][s],l[u][s]=l[s][u],l[s][u]=o;if(!p){if(D>c)for(u=c;D>u;++u)for(Array.isArray(l[u])||(l[u]=new Array(c)),s=0;s<c;++s)l[u][s]=l[s][u];else for(s=D;c>s;++s)for(u=0;D>u;++u)l[u][s]=l[s][u];o=c,this.rows=D,this.cols=o}return this},f.prototype.div=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("div",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]/u[A][h];return new f(g)},f.prototype.div_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("div_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]/u[A][h];return this},f.prototype.mul=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("mul",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]*u[A][h];return new f(g)},f.prototype.mul_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("mul_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]*u[A][h];return this},f.prototype.plus=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("plus",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]+u[A][h];return new f(g)},f.prototype.plus_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("plus_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]+u[A][h];return this},f.prototype.minus=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("minus",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]-u[A][h];return new f(g)},f.prototype.minus_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("minus_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]-u[A][h];return this},f.prototype.dot=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;s!==o&&i("dot",this,l);var A,h,g,w=new Array(D);for(A=0;A<D;++A)for(w[A]=new Array(p),g=0;g<p;++g)for(w[A][g]=0,h=0;h<o;++h)w[A][g]+=c[A][h]*u[h][g];return new f(w)},f.prototype.dot_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;s!==o&&i("dot_",this,l);var A,h,g,w;for(A=0;A<D;++A)for(w=c[A].slice(0,s),g=0;g<p;++g)for(c[A][g]=0,h=0;h<o;++h)c[A][g]+=w[h]*u[h][g];return this.cols=p,this},f.prototype.getSum=function(){for(var l=this.data,c=this.rows,D=this.cols,s=0,u=0;u<c;++u)for(var o=0;o<D;++o)s+=l[u][o];return s},f.prototype.map=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=l(c[u][o]);return new f(p)},f.prototype.map_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=l(c[u][o]);return this},f.prototype.log=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=Math.log(c[u][o]);return new f(p)},f.prototype.log_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=Math.log(c[u][o]);return this},f.prototype.sigmoid=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=1/(1+Math.exp(-c[u][o]));return new f(p)},f.prototype.sigmoid_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=1/(1+Math.exp(-c[u][o]));return this},f.prototype.mulEach=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=c[u][o]*l;return new f(p)},f.prototype.mulEach_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=c[u][o]*l;return this},f.prototype.plusEach=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=c[u][o]+l;return new f(p)},f.prototype.plusEach_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=c[u][o]+l;return this},f.prototype.eleMap=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=l(c[u][o],u,o);return new f(p)},f.prototype.eleMap_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=l(c[u][o],u,o);return this},a}})})(tn);var Vi=tn.exports,rn={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(jr,function(){var n=function(r){throw new Error("linear-algebra: "+r)},i=function(r,a,f){n("["+r+"] op1 is "+a.rows+" x "+a.cols+" and op2 is "+f.rows+" x "+f.cols)};return function(r){r=r||{};var a={},f=a.Matrix=function(c){Array.isArray(c[0])?(this.data=c,this.rows=c.length,this.cols=c[0].length):(this.data=[c],this.rows=1,this.cols=c.length)};f.prototype.clone=function(){return new f(this.toArray())},f.prototype.toArray=function(){for(var c=this.data,D=this.rows,s=this.cols,u=new Array(D),o=0;o<D;++o)u[o]=c[o].slice(0,s);return u},f.identity=function(c){return f.scalar(c,1)},f.scalar=function(c,D){var s=new Array(c),u,o;for(u=0;u<c;++u){for(s[u]=new Array(c),o=0;o<c;++o)s[u][o]=0;s[u][u]=D}return new f(s)},f.zero=function(c,D){for(var s=new Array(c),u=0;u<c;++u){s[u]=new Array(D);for(var o=0;o<D;++o)s[u][o]=0}return new f(s)},f.reshapeFrom=function(c,D,s){c.length!==D*s&&n("cannot reshape array of length "+c.length+" into "+D+"x"+s+" matrix");for(var u=[],o=0;o<c.length;o+=s)u.push(c.slice(o,s+o));return new f(u)},a.Vector={zero:function(c){for(var D=new Array(c),s=0;s<c;++s)D[s]=0;return new f(D)}};var l=r.add;return l||n("options.add must be set for precision calculation"),f.prototype.trans=function(){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(s);for(o=0;o<s;++o)for(p[o]=new Array(D),u=0;u<D;++u)p[o][u]=c[u][o];return new f(p)},f.prototype.trans_=function(){var c=this.data,D=this.rows,s=this.cols,u,o,p,A=s===D,h=s>D?D:s;for(u=0;u<h;++u)for(o=u+1;o<h;++o)p=c[o][u],c[o][u]=c[u][o],c[u][o]=p;if(!A){if(s>D)for(o=D;s>o;++o)for(Array.isArray(c[o])||(c[o]=new Array(D)),u=0;u<D;++u)c[o][u]=c[u][o];else for(u=s;D>u;++u)for(o=0;s>o;++o)c[o][u]=c[u][o];p=D,this.rows=s,this.cols=p}return this},f.prototype.div=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("div",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]/o[h][g];return new f(w)},f.prototype.div_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("div_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]/o[h][g];return this},f.prototype.mul=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("mul",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]*o[h][g];return new f(w)},f.prototype.mul_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("mul_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]*o[h][g];return this},f.prototype.plus=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("plus",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]+o[h][g];return new f(w)},f.prototype.plus_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("plus_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]+o[h][g];return this},f.prototype.minus=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("minus",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]-o[h][g];return new f(w)},f.prototype.minus_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("minus_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]-o[h][g];return this},f.prototype.dot=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;u!==p&&i("dot",this,c);var h,g,w,m,F=new Array(s);for(h=0;h<s;++h)for(F[h]=new Array(A),w=0;w<A;++w){for(m=new Array(p),g=0;g<p;++g)m[g]=D[h][g]*o[g][w];F[h][w]=l(m)}return new f(F)},f.prototype.dot_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;u!==p&&i("dot_",this,c);var h,g,w,m,F;for(h=0;h<s;++h)for(m=D[h].slice(0,u),w=0;w<A;++w){for(F=new Array(p),g=0;g<c.rows;++g)F[g]=m[g]*o[g][w];D[h][w]=l(F)}return this.cols=A,this},f.prototype.getSum=function(c){for(var D=this.data,s=this.rows,u=this.cols,o=new Array(s*u),p=0,A=0;p<s;++p,A+=u)for(var h=0;h<u;++h)o[A+h]=D[p][h];return l(o)},f.prototype.map=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=c(D[o][p]);return new f(A)},f.prototype.map_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=c(D[o][p]);return this},f.prototype.log=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=Math.log(D[o][p]);return new f(A)},f.prototype.log_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=Math.log(D[o][p]);return this},f.prototype.sigmoid=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=1/(1+Math.exp(-D[o][p]));return new f(A)},f.prototype.sigmoid_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=1/(1+Math.exp(-D[o][p]));return this},f.prototype.mulEach=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=D[o][p]*c;return new f(A)},f.prototype.mulEach_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=D[o][p]*c;return this},f.prototype.plusEach=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=D[o][p]+c;return new f(A)},f.prototype.plusEach_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=D[o][p]+c;return this},f.prototype.eleMap=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=c(D[o][p],o,p);return new f(A)},f.prototype.eleMap_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=c(D[o][p],o,p);return this},a}})})(rn);var Zi=rn.exports,Gi=Vi,Hi=Zi,Vt=en.exports=function(e){return e=e||{},e.add?Vt._precision(e):Vt._normal(e)};Vt._normal=Gi;Vt._precision=Hi;var Wi=en.exports;const Yi=er(Wi);var Xi=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,cr=Math.ceil,Ze=Math.floor,Le="[BigNumber Error] ",Tr=Le+"Number primitive has more than 15 significant digits: ",Ke=1e14,ue=14,lr=9007199254740991,hr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],lt=1e7,Me=1e9;function nn(e){var t,n,i,r=m.prototype={constructor:m,toString:null,valueOf:null},a=new m(1),f=20,l=4,c=-7,D=21,s=-1e7,u=1e7,o=!1,p=1,A=0,h={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},g="0123456789abcdefghijklmnopqrstuvwxyz",w=!0;function m(d,v){var y,C,E,N,P,M,_,R,B=this;if(!(B instanceof m))return new m(d,v);if(v==null){if(d&&d._isBigNumber===!0){B.s=d.s,!d.c||d.e>u?B.c=B.e=null:d.e<s?B.c=[B.e=0]:(B.e=d.e,B.c=d.c.slice());return}if((M=typeof d=="number")&&d*0==0){if(B.s=1/d<0?(d=-d,-1):1,d===~~d){for(N=0,P=d;P>=10;P/=10,N++);N>u?B.c=B.e=null:(B.e=N,B.c=[d]);return}R=String(d)}else{if(!Xi.test(R=String(d)))return i(B,R,M);B.s=R.charCodeAt(0)==45?(R=R.slice(1),-1):1}(N=R.indexOf("."))>-1&&(R=R.replace(".","")),(P=R.search(/e/i))>0?(N<0&&(N=P),N+=+R.slice(P+1),R=R.substring(0,P)):N<0&&(N=R.length)}else{if(ge(v,2,g.length,"Base"),v==10&&w)return B=new m(d),b(B,f+B.e+1,l);if(R=String(d),M=typeof d=="number"){if(d*0!=0)return i(B,R,M,v);if(B.s=1/d<0?(R=R.slice(1),-1):1,m.DEBUG&&R.replace(/^0\.0*|\./,"").length>15)throw Error(Tr+d)}else B.s=R.charCodeAt(0)===45?(R=R.slice(1),-1):1;for(y=g.slice(0,v),N=P=0,_=R.length;P<_;P++)if(y.indexOf(C=R.charAt(P))<0){if(C=="."){if(P>N){N=_;continue}}else if(!E&&(R==R.toUpperCase()&&(R=R.toLowerCase())||R==R.toLowerCase()&&(R=R.toUpperCase()))){E=!0,P=-1,N=0;continue}return i(B,String(d),M,v)}M=!1,R=n(R,v,10,B.s),(N=R.indexOf("."))>-1?R=R.replace(".",""):N=R.length}for(P=0;R.charCodeAt(P)===48;P++);for(_=R.length;R.charCodeAt(--_)===48;);if(R=R.slice(P,++_)){if(_-=P,M&&m.DEBUG&&_>15&&(d>lr||d!==Ze(d)))throw Error(Tr+B.s*d);if((N=N-P-1)>u)B.c=B.e=null;else if(N<s)B.c=[B.e=0];else{if(B.e=N,B.c=[],P=(N+1)%ue,N<0&&(P+=ue),P<_){for(P&&B.c.push(+R.slice(0,P)),_-=ue;P<_;)B.c.push(+R.slice(P,P+=ue));P=ue-(R=R.slice(P)).length}else P-=_;for(;P--;R+="0");B.c.push(+R)}}else B.c=[B.e=0]}m.clone=nn,m.ROUND_UP=0,m.ROUND_DOWN=1,m.ROUND_CEIL=2,m.ROUND_FLOOR=3,m.ROUND_HALF_UP=4,m.ROUND_HALF_DOWN=5,m.ROUND_HALF_EVEN=6,m.ROUND_HALF_CEIL=7,m.ROUND_HALF_FLOOR=8,m.EUCLID=9,m.config=m.set=function(d){var v,y;if(d!=null)if(typeof d=="object"){if(d.hasOwnProperty(v="DECIMAL_PLACES")&&(y=d[v],ge(y,0,Me,v),f=y),d.hasOwnProperty(v="ROUNDING_MODE")&&(y=d[v],ge(y,0,8,v),l=y),d.hasOwnProperty(v="EXPONENTIAL_AT")&&(y=d[v],y&&y.pop?(ge(y[0],-Me,0,v),ge(y[1],0,Me,v),c=y[0],D=y[1]):(ge(y,-Me,Me,v),c=-(D=y<0?-y:y))),d.hasOwnProperty(v="RANGE"))if(y=d[v],y&&y.pop)ge(y[0],-Me,-1,v),ge(y[1],1,Me,v),s=y[0],u=y[1];else if(ge(y,-Me,Me,v),y)s=-(u=y<0?-y:y);else throw Error(Le+v+" cannot be zero: "+y);if(d.hasOwnProperty(v="CRYPTO"))if(y=d[v],y===!!y)if(y)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))o=y;else throw o=!y,Error(Le+"crypto unavailable");else o=y;else throw Error(Le+v+" not true or false: "+y);if(d.hasOwnProperty(v="MODULO_MODE")&&(y=d[v],ge(y,0,9,v),p=y),d.hasOwnProperty(v="POW_PRECISION")&&(y=d[v],ge(y,0,Me,v),A=y),d.hasOwnProperty(v="FORMAT"))if(y=d[v],typeof y=="object")h=y;else throw Error(Le+v+" not an object: "+y);if(d.hasOwnProperty(v="ALPHABET"))if(y=d[v],typeof y=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(y))w=y.slice(0,10)=="0123456789",g=y;else throw Error(Le+v+" invalid: "+y)}else throw Error(Le+"Object expected: "+d);return{DECIMAL_PLACES:f,ROUNDING_MODE:l,EXPONENTIAL_AT:[c,D],RANGE:[s,u],CRYPTO:o,MODULO_MODE:p,POW_PRECISION:A,FORMAT:h,ALPHABET:g}},m.isBigNumber=function(d){if(!d||d._isBigNumber!==!0)return!1;if(!m.DEBUG)return!0;var v,y,C=d.c,E=d.e,N=d.s;e:if({}.toString.call(C)=="[object Array]"){if((N===1||N===-1)&&E>=-Me&&E<=Me&&E===Ze(E)){if(C[0]===0){if(E===0&&C.length===1)return!0;break e}if(v=(E+1)%ue,v<1&&(v+=ue),String(C[0]).length==v){for(v=0;v<C.length;v++)if(y=C[v],y<0||y>=Ke||y!==Ze(y))break e;if(y!==0)return!0}}}else if(C===null&&E===null&&(N===null||N===1||N===-1))return!0;throw Error(Le+"Invalid BigNumber: "+d)},m.maximum=m.max=function(){return O(arguments,-1)},m.minimum=m.min=function(){return O(arguments,1)},m.random=function(){var d=9007199254740992,v=Math.random()*d&2097151?function(){return Ze(Math.random()*d)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(y){var C,E,N,P,M,_=0,R=[],B=new m(a);if(y==null?y=f:ge(y,0,Me),P=cr(y/ue),o)if(crypto.getRandomValues){for(C=crypto.getRandomValues(new Uint32Array(P*=2));_<P;)M=C[_]*131072+(C[_+1]>>>11),M>=9e15?(E=crypto.getRandomValues(new Uint32Array(2)),C[_]=E[0],C[_+1]=E[1]):(R.push(M%1e14),_+=2);_=P/2}else if(crypto.randomBytes){for(C=crypto.randomBytes(P*=7);_<P;)M=(C[_]&31)*281474976710656+C[_+1]*1099511627776+C[_+2]*4294967296+C[_+3]*16777216+(C[_+4]<<16)+(C[_+5]<<8)+C[_+6],M>=9e15?crypto.randomBytes(7).copy(C,_):(R.push(M%1e14),_+=7);_=P/7}else throw o=!1,Error(Le+"crypto unavailable");if(!o)for(;_<P;)M=v(),M<9e15&&(R[_++]=M%1e14);for(P=R[--_],y%=ue,P&&y&&(M=hr[ue-y],R[_]=Ze(P/M)*M);R[_]===0;R.pop(),_--);if(_<0)R=[N=0];else{for(N=-1;R[0]===0;R.splice(0,1),N-=ue);for(_=1,M=R[0];M>=10;M/=10,_++);_<ue&&(N-=ue-_)}return B.e=N,B.c=R,B}}(),m.sum=function(){for(var d=1,v=arguments,y=new m(v[0]);d<v.length;)y=y.plus(v[d++]);return y},n=function(){var d="0123456789";function v(y,C,E,N){for(var P,M=[0],_,R=0,B=y.length;R<B;){for(_=M.length;_--;M[_]*=C);for(M[0]+=N.indexOf(y.charAt(R++)),P=0;P<M.length;P++)M[P]>E-1&&(M[P+1]==null&&(M[P+1]=0),M[P+1]+=M[P]/E|0,M[P]%=E)}return M.reverse()}return function(y,C,E,N,P){var M,_,R,B,T,L,$,H,G=y.indexOf("."),K=f,Q=l;for(G>=0&&(B=A,A=0,y=y.replace(".",""),H=new m(C),L=H.pow(y.length-G),A=B,H.c=v(ut(ke(L.c),L.e,"0"),10,E,d),H.e=H.c.length),$=v(y,C,E,P?(M=g,d):(M=d,g)),R=B=$.length;$[--B]==0;$.pop());if(!$[0])return M.charAt(0);if(G<0?--R:(L.c=$,L.e=R,L.s=N,L=t(L,H,K,Q,E),$=L.c,T=L.r,R=L.e),_=R+K+1,G=$[_],B=E/2,T=T||_<0||$[_+1]!=null,T=Q<4?(G!=null||T)&&(Q==0||Q==(L.s<0?3:2)):G>B||G==B&&(Q==4||T||Q==6&&$[_-1]&1||Q==(L.s<0?8:7)),_<1||!$[0])y=T?ut(M.charAt(1),-K,M.charAt(0)):M.charAt(0);else{if($.length=_,T)for(--E;++$[--_]>E;)$[_]=0,_||(++R,$=[1].concat($));for(B=$.length;!$[--B];);for(G=0,y="";G<=B;y+=M.charAt($[G++]));y=ut(y,R,M.charAt(0))}return y}}(),t=function(){function d(C,E,N){var P,M,_,R,B=0,T=C.length,L=E%lt,$=E/lt|0;for(C=C.slice();T--;)_=C[T]%lt,R=C[T]/lt|0,P=$*_+R*L,M=L*_+P%lt*lt+B,B=(M/N|0)+(P/lt|0)+$*R,C[T]=M%N;return B&&(C=[B].concat(C)),C}function v(C,E,N,P){var M,_;if(N!=P)_=N>P?1:-1;else for(M=_=0;M<N;M++)if(C[M]!=E[M]){_=C[M]>E[M]?1:-1;break}return _}function y(C,E,N,P){for(var M=0;N--;)C[N]-=M,M=C[N]<E[N]?1:0,C[N]=M*P+C[N]-E[N];for(;!C[0]&&C.length>1;C.splice(0,1));}return function(C,E,N,P,M){var _,R,B,T,L,$,H,G,K,Q,ee,re,de,oe,fe,ce,le,ie=C.s==E.s?1:-1,se=C.c,ae=E.c;if(!se||!se[0]||!ae||!ae[0])return new m(!C.s||!E.s||(se?ae&&se[0]==ae[0]:!ae)?NaN:se&&se[0]==0||!ae?ie*0:ie/0);for(G=new m(ie),K=G.c=[],R=C.e-E.e,ie=N+R+1,M||(M=Ke,R=Ge(C.e/ue)-Ge(E.e/ue),ie=ie/ue|0),B=0;ae[B]==(se[B]||0);B++);if(ae[B]>(se[B]||0)&&R--,ie<0)K.push(1),T=!0;else{for(oe=se.length,ce=ae.length,B=0,ie+=2,L=Ze(M/(ae[0]+1)),L>1&&(ae=d(ae,L,M),se=d(se,L,M),ce=ae.length,oe=se.length),de=ce,Q=se.slice(0,ce),ee=Q.length;ee<ce;Q[ee++]=0);le=ae.slice(),le=[0].concat(le),fe=ae[0],ae[1]>=M/2&&fe++;do{if(L=0,_=v(ae,Q,ce,ee),_<0){if(re=Q[0],ce!=ee&&(re=re*M+(Q[1]||0)),L=Ze(re/fe),L>1)for(L>=M&&(L=M-1),$=d(ae,L,M),H=$.length,ee=Q.length;v($,Q,H,ee)==1;)L--,y($,ce<H?le:ae,H,M),H=$.length,_=1;else L==0&&(_=L=1),$=ae.slice(),H=$.length;if(H<ee&&($=[0].concat($)),y(Q,$,ee,M),ee=Q.length,_==-1)for(;v(ae,Q,ce,ee)<1;)L++,y(Q,ce<ee?le:ae,ee,M),ee=Q.length}else _===0&&(L++,Q=[0]);K[B++]=L,Q[0]?Q[ee++]=se[de]||0:(Q=[se[de]],ee=1)}while((de++<oe||Q[0]!=null)&&ie--);T=Q[0]!=null,K[0]||K.splice(0,1)}if(M==Ke){for(B=1,ie=K[0];ie>=10;ie/=10,B++);b(G,N+(G.e=B+R*ue-1)+1,P,T)}else G.e=R,G.r=+T;return G}}();function F(d,v,y,C){var E,N,P,M,_;if(y==null?y=l:ge(y,0,8),!d.c)return d.toString();if(E=d.c[0],P=d.e,v==null)_=ke(d.c),_=C==1||C==2&&(P<=c||P>=D)?$t(_,P):ut(_,P,"0");else if(d=b(new m(d),v,y),N=d.e,_=ke(d.c),M=_.length,C==1||C==2&&(v<=N||N<=c)){for(;M<v;_+="0",M++);_=$t(_,N)}else if(v-=P,_=ut(_,N,"0"),N+1>M){if(--v>0)for(_+=".";v--;_+="0");}else if(v+=N-M,v>0)for(N+1==M&&(_+=".");v--;_+="0");return d.s<0&&E?"-"+_:_}function O(d,v){for(var y,C,E=1,N=new m(d[0]);E<d.length;E++)C=new m(d[E]),(!C.s||(y=wt(N,C))===v||y===0&&N.s===v)&&(N=C);return N}function S(d,v,y){for(var C=1,E=v.length;!v[--E];v.pop());for(E=v[0];E>=10;E/=10,C++);return(y=C+y*ue-1)>u?d.c=d.e=null:y<s?d.c=[d.e=0]:(d.e=y,d.c=v),d}i=function(){var d=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,y=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,P,M,_){var R,B=M?P:P.replace(E,"");if(C.test(B))N.s=isNaN(B)?null:B<0?-1:1;else{if(!M&&(B=B.replace(d,function(T,L,$){return R=($=$.toLowerCase())=="x"?16:$=="b"?2:8,!_||_==R?L:T}),_&&(R=_,B=B.replace(v,"$1").replace(y,"0.$1")),P!=B))return new m(B,R);if(m.DEBUG)throw Error(Le+"Not a"+(_?" base "+_:"")+" number: "+P);N.s=null}N.c=N.e=null}}();function b(d,v,y,C){var E,N,P,M,_,R,B,T=d.c,L=hr;if(T){e:{for(E=1,M=T[0];M>=10;M/=10,E++);if(N=v-E,N<0)N+=ue,P=v,_=T[R=0],B=Ze(_/L[E-P-1]%10);else if(R=cr((N+1)/ue),R>=T.length)if(C){for(;T.length<=R;T.push(0));_=B=0,E=1,N%=ue,P=N-ue+1}else break e;else{for(_=M=T[R],E=1;M>=10;M/=10,E++);N%=ue,P=N-ue+E,B=P<0?0:Ze(_/L[E-P-1]%10)}if(C=C||v<0||T[R+1]!=null||(P<0?_:_%L[E-P-1]),C=y<4?(B||C)&&(y==0||y==(d.s<0?3:2)):B>5||B==5&&(y==4||C||y==6&&(N>0?P>0?_/L[E-P]:0:T[R-1])%10&1||y==(d.s<0?8:7)),v<1||!T[0])return T.length=0,C?(v-=d.e+1,T[0]=L[(ue-v%ue)%ue],d.e=-v||0):T[0]=d.e=0,d;if(N==0?(T.length=R,M=1,R--):(T.length=R+1,M=L[ue-N],T[R]=P>0?Ze(_/L[E-P]%L[P])*M:0),C)for(;;)if(R==0){for(N=1,P=T[0];P>=10;P/=10,N++);for(P=T[0]+=M,M=1;P>=10;P/=10,M++);N!=M&&(d.e++,T[0]==Ke&&(T[0]=1));break}else{if(T[R]+=M,T[R]!=Ke)break;T[R--]=0,M=1}for(N=T.length;T[--N]===0;T.pop());}d.e>u?d.c=d.e=null:d.e<s&&(d.c=[d.e=0])}return d}function I(d){var v,y=d.e;return y===null?d.toString():(v=ke(d.c),v=y<=c||y>=D?$t(v,y):ut(v,y,"0"),d.s<0?"-"+v:v)}return r.absoluteValue=r.abs=function(){var d=new m(this);return d.s<0&&(d.s=1),d},r.comparedTo=function(d,v){return wt(this,new m(d,v))},r.decimalPlaces=r.dp=function(d,v){var y,C,E,N=this;if(d!=null)return ge(d,0,Me),v==null?v=l:ge(v,0,8),b(new m(N),d+N.e+1,v);if(!(y=N.c))return null;if(C=((E=y.length-1)-Ge(this.e/ue))*ue,E=y[E])for(;E%10==0;E/=10,C--);return C<0&&(C=0),C},r.dividedBy=r.div=function(d,v){return t(this,new m(d,v),f,l)},r.dividedToIntegerBy=r.idiv=function(d,v){return t(this,new m(d,v),0,1)},r.exponentiatedBy=r.pow=function(d,v){var y,C,E,N,P,M,_,R,B,T=this;if(d=new m(d),d.c&&!d.isInteger())throw Error(Le+"Exponent not an integer: "+I(d));if(v!=null&&(v=new m(v)),M=d.e>14,!T.c||!T.c[0]||T.c[0]==1&&!T.e&&T.c.length==1||!d.c||!d.c[0])return B=new m(Math.pow(+I(T),M?d.s*(2-zt(d)):+I(d))),v?B.mod(v):B;if(_=d.s<0,v){if(v.c?!v.c[0]:!v.s)return new m(NaN);C=!_&&T.isInteger()&&v.isInteger(),C&&(T=T.mod(v))}else{if(d.e>9&&(T.e>0||T.e<-1||(T.e==0?T.c[0]>1||M&&T.c[1]>=24e7:T.c[0]<8e13||M&&T.c[0]<=9999975e7)))return N=T.s<0&&zt(d)?-0:0,T.e>-1&&(N=1/N),new m(_?1/N:N);A&&(N=cr(A/ue+2))}for(M?(y=new m(.5),_&&(d.s=1),R=zt(d)):(E=Math.abs(+I(d)),R=E%2),B=new m(a);;){if(R){if(B=B.times(T),!B.c)break;N?B.c.length>N&&(B.c.length=N):C&&(B=B.mod(v))}if(E){if(E=Ze(E/2),E===0)break;R=E%2}else if(d=d.times(y),b(d,d.e+1,1),d.e>14)R=zt(d);else{if(E=+I(d),E===0)break;R=E%2}T=T.times(T),N?T.c&&T.c.length>N&&(T.c.length=N):C&&(T=T.mod(v))}return C?B:(_&&(B=a.div(B)),v?B.mod(v):N?b(B,A,l,P):B)},r.integerValue=function(d){var v=new m(this);return d==null?d=l:ge(d,0,8),b(v,v.e+1,d)},r.isEqualTo=r.eq=function(d,v){return wt(this,new m(d,v))===0},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(d,v){return wt(this,new m(d,v))>0},r.isGreaterThanOrEqualTo=r.gte=function(d,v){return(v=wt(this,new m(d,v)))===1||v===0},r.isInteger=function(){return!!this.c&&Ge(this.e/ue)>this.c.length-2},r.isLessThan=r.lt=function(d,v){return wt(this,new m(d,v))<0},r.isLessThanOrEqualTo=r.lte=function(d,v){return(v=wt(this,new m(d,v)))===-1||v===0},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return this.s>0},r.isZero=function(){return!!this.c&&this.c[0]==0},r.minus=function(d,v){var y,C,E,N,P=this,M=P.s;if(d=new m(d,v),v=d.s,!M||!v)return new m(NaN);if(M!=v)return d.s=-v,P.plus(d);var _=P.e/ue,R=d.e/ue,B=P.c,T=d.c;if(!_||!R){if(!B||!T)return B?(d.s=-v,d):new m(T?P:NaN);if(!B[0]||!T[0])return T[0]?(d.s=-v,d):new m(B[0]?P:l==3?-0:0)}if(_=Ge(_),R=Ge(R),B=B.slice(),M=_-R){for((N=M<0)?(M=-M,E=B):(R=_,E=T),E.reverse(),v=M;v--;E.push(0));E.reverse()}else for(C=(N=(M=B.length)<(v=T.length))?M:v,M=v=0;v<C;v++)if(B[v]!=T[v]){N=B[v]<T[v];break}if(N&&(E=B,B=T,T=E,d.s=-d.s),v=(C=T.length)-(y=B.length),v>0)for(;v--;B[y++]=0);for(v=Ke-1;C>M;){if(B[--C]<T[C]){for(y=C;y&&!B[--y];B[y]=v);--B[y],B[C]+=Ke}B[C]-=T[C]}for(;B[0]==0;B.splice(0,1),--R);return B[0]?S(d,B,R):(d.s=l==3?-1:1,d.c=[d.e=0],d)},r.modulo=r.mod=function(d,v){var y,C,E=this;return d=new m(d,v),!E.c||!d.s||d.c&&!d.c[0]?new m(NaN):!d.c||E.c&&!E.c[0]?new m(E):(p==9?(C=d.s,d.s=1,y=t(E,d,0,3),d.s=C,y.s*=C):y=t(E,d,0,p),d=E.minus(y.times(d)),!d.c[0]&&p==1&&(d.s=E.s),d)},r.multipliedBy=r.times=function(d,v){var y,C,E,N,P,M,_,R,B,T,L,$,H,G,K,Q=this,ee=Q.c,re=(d=new m(d,v)).c;if(!ee||!re||!ee[0]||!re[0])return!Q.s||!d.s||ee&&!ee[0]&&!re||re&&!re[0]&&!ee?d.c=d.e=d.s=null:(d.s*=Q.s,!ee||!re?d.c=d.e=null:(d.c=[0],d.e=0)),d;for(C=Ge(Q.e/ue)+Ge(d.e/ue),d.s*=Q.s,_=ee.length,T=re.length,_<T&&(H=ee,ee=re,re=H,E=_,_=T,T=E),E=_+T,H=[];E--;H.push(0));for(G=Ke,K=lt,E=T;--E>=0;){for(y=0,L=re[E]%K,$=re[E]/K|0,P=_,N=E+P;N>E;)R=ee[--P]%K,B=ee[P]/K|0,M=$*R+B*L,R=L*R+M%K*K+H[N]+y,y=(R/G|0)+(M/K|0)+$*B,H[N--]=R%G;H[N]=y}return y?++C:H.splice(0,1),S(d,H,C)},r.negated=function(){var d=new m(this);return d.s=-d.s||null,d},r.plus=function(d,v){var y,C=this,E=C.s;if(d=new m(d,v),v=d.s,!E||!v)return new m(NaN);if(E!=v)return d.s=-v,C.minus(d);var N=C.e/ue,P=d.e/ue,M=C.c,_=d.c;if(!N||!P){if(!M||!_)return new m(E/0);if(!M[0]||!_[0])return _[0]?d:new m(M[0]?C:E*0)}if(N=Ge(N),P=Ge(P),M=M.slice(),E=N-P){for(E>0?(P=N,y=_):(E=-E,y=M),y.reverse();E--;y.push(0));y.reverse()}for(E=M.length,v=_.length,E-v<0&&(y=_,_=M,M=y,v=E),E=0;v;)E=(M[--v]=M[v]+_[v]+E)/Ke|0,M[v]=Ke===M[v]?0:M[v]%Ke;return E&&(M=[E].concat(M),++P),S(d,M,P)},r.precision=r.sd=function(d,v){var y,C,E,N=this;if(d!=null&&d!==!!d)return ge(d,1,Me),v==null?v=l:ge(v,0,8),b(new m(N),d,v);if(!(y=N.c))return null;if(E=y.length-1,C=E*ue+1,E=y[E]){for(;E%10==0;E/=10,C--);for(E=y[0];E>=10;E/=10,C++);}return d&&N.e+1>C&&(C=N.e+1),C},r.shiftedBy=function(d){return ge(d,-lr,lr),this.times("1e"+d)},r.squareRoot=r.sqrt=function(){var d,v,y,C,E,N=this,P=N.c,M=N.s,_=N.e,R=f+4,B=new m("0.5");if(M!==1||!P||!P[0])return new m(!M||M<0&&(!P||P[0])?NaN:P?N:1/0);if(M=Math.sqrt(+I(N)),M==0||M==1/0?(v=ke(P),(v.length+_)%2==0&&(v+="0"),M=Math.sqrt(+v),_=Ge((_+1)/2)-(_<0||_%2),M==1/0?v="5e"+_:(v=M.toExponential(),v=v.slice(0,v.indexOf("e")+1)+_),y=new m(v)):y=new m(M+""),y.c[0]){for(_=y.e,M=_+R,M<3&&(M=0);;)if(E=y,y=B.times(E.plus(t(N,E,R,1))),ke(E.c).slice(0,M)===(v=ke(y.c)).slice(0,M))if(y.e<_&&--M,v=v.slice(M-3,M+1),v=="9999"||!C&&v=="4999"){if(!C&&(b(E,E.e+f+2,0),E.times(E).eq(N))){y=E;break}R+=4,M+=4,C=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(b(y,y.e+f+2,1),d=!y.times(y).eq(N));break}}return b(y,y.e+f+1,l,d)},r.toExponential=function(d,v){return d!=null&&(ge(d,0,Me),d++),F(this,d,v,1)},r.toFixed=function(d,v){return d!=null&&(ge(d,0,Me),d=d+this.e+1),F(this,d,v)},r.toFormat=function(d,v,y){var C,E=this;if(y==null)d!=null&&v&&typeof v=="object"?(y=v,v=null):d&&typeof d=="object"?(y=d,d=v=null):y=h;else if(typeof y!="object")throw Error(Le+"Argument not an object: "+y);if(C=E.toFixed(d,v),E.c){var N,P=C.split("."),M=+y.groupSize,_=+y.secondaryGroupSize,R=y.groupSeparator||"",B=P[0],T=P[1],L=E.s<0,$=L?B.slice(1):B,H=$.length;if(_&&(N=M,M=_,_=N,H-=N),M>0&&H>0){for(N=H%M||M,B=$.substr(0,N);N<H;N+=M)B+=R+$.substr(N,M);_>0&&(B+=R+$.slice(N)),L&&(B="-"+B)}C=T?B+(y.decimalSeparator||"")+((_=+y.fractionGroupSize)?T.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&"+(y.fractionGroupSeparator||"")):T):B}return(y.prefix||"")+C+(y.suffix||"")},r.toFraction=function(d){var v,y,C,E,N,P,M,_,R,B,T,L,$=this,H=$.c;if(d!=null&&(M=new m(d),!M.isInteger()&&(M.c||M.s!==1)||M.lt(a)))throw Error(Le+"Argument "+(M.isInteger()?"out of range: ":"not an integer: ")+I(M));if(!H)return new m($);for(v=new m(a),R=y=new m(a),C=_=new m(a),L=ke(H),N=v.e=L.length-$.e-1,v.c[0]=hr[(P=N%ue)<0?ue+P:P],d=!d||M.comparedTo(v)>0?N>0?v:R:M,P=u,u=1/0,M=new m(L),_.c[0]=0;B=t(M,v,0,1),E=y.plus(B.times(C)),E.comparedTo(d)!=1;)y=C,C=E,R=_.plus(B.times(E=R)),_=E,v=M.minus(B.times(E=v)),M=E;return E=t(d.minus(y),C,0,1),_=_.plus(E.times(R)),y=y.plus(E.times(C)),_.s=R.s=$.s,N=N*2,T=t(R,C,N,l).minus($).abs().comparedTo(t(_,y,N,l).minus($).abs())<1?[R,C]:[_,y],u=P,T},r.toNumber=function(){return+I(this)},r.toPrecision=function(d,v){return d!=null&&ge(d,1,Me),F(this,d,v,2)},r.toString=function(d){var v,y=this,C=y.s,E=y.e;return E===null?C?(v="Infinity",C<0&&(v="-"+v)):v="NaN":(d==null?v=E<=c||E>=D?$t(ke(y.c),E):ut(ke(y.c),E,"0"):d===10&&w?(y=b(new m(y),f+E+1,l),v=ut(ke(y.c),y.e,"0")):(ge(d,2,g.length,"Base"),v=n(ut(ke(y.c),E,"0"),10,d,C,!0)),C<0&&y.c[0]&&(v="-"+v)),v},r.valueOf=r.toJSON=function(){return I(this)},r._isBigNumber=!0,r[Symbol.toStringTag]="BigNumber",r[Symbol.for("nodejs.util.inspect.custom")]=r.valueOf,e!=null&&m.set(e),m}function Ge(e){var t=e|0;return e>0||e===t?t:t-1}function ke(e){for(var t,n,i=1,r=e.length,a=e[0]+"";i<r;){for(t=e[i++]+"",n=ue-t.length;n--;t="0"+t);a+=t}for(r=a.length;a.charCodeAt(--r)===48;);return a.slice(0,r+1||1)}function wt(e,t){var n,i,r=e.c,a=t.c,f=e.s,l=t.s,c=e.e,D=t.e;if(!f||!l)return null;if(n=r&&!r[0],i=a&&!a[0],n||i)return n?i?0:-l:f;if(f!=l)return f;if(n=f<0,i=c==D,!r||!a)return i?0:!r^n?1:-1;if(!i)return c>D^n?1:-1;for(l=(c=r.length)<(D=a.length)?c:D,f=0;f<l;f++)if(r[f]!=a[f])return r[f]>a[f]^n?1:-1;return c==D?0:c>D^n?1:-1}function ge(e,t,n,i){if(e<t||e>n||e!==Ze(e))throw Error(Le+(i||"Argument")+(typeof e=="number"?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function zt(e){var t=e.c.length-1;return Ge(e.e/ue)==t&&e.c[t]%2!=0}function $t(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ut(e,t,n){var i,r;if(t<0){for(r=n+".";++t;r+=n);e=r+e}else if(i=e.length,++t>i){for(r=n,t-=i;--t;r+=n);e+=r}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}var un=nn();function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zt.apply(this,arguments)}var on={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function ye(e){return typeof e=="number"}function We(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function sn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function an(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function fn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function rt(e){return typeof e=="string"}var me=Array.isArray;function Re(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Gt(e){return Array.isArray(e)||Re(e)}function Ji(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Ki(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Qi(e){return e&&e.constructor.prototype.isRange===!0||!1}function _r(e){return e&&e.constructor.prototype.isIndex===!0||!1}function ji(e){return typeof e=="boolean"}function eu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function tu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ru(e){return typeof e=="function"}function nu(e){return e instanceof Date}function iu(e){return e instanceof RegExp}function cn(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!sn(e)&&!an(e))}function uu(e){return e===null}function ou(e){return e===void 0}function su(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function au(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function fu(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function cu(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function lu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function hu(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function pu(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Du(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function du(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function vu(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function wu(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function gu(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function mu(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Au(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function yu(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Eu(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fu(e){return e&&e.constructor.prototype.isChain===!0||!1}function Tt(e){var t=typeof e;return t==="object"?e===null?"null":We(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Se(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Se(n)});if(e instanceof Date)return new Date(e.valueOf());if(We(e))return e;if(cn(e))return Cu(e,Se);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Cu(e,t){var n={};for(var i in e)Ht(e,i)&&(n[i]=t(e[i]));return n}function Ct(e,t){var n,i,r;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(i=0,r=e.length;i<r;i++)if(!Ct(e[i],t[i]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Ct(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function Ht(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Bu(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i],a=e[r];a!==void 0&&(n[r]=a)}return n}var _u=["Matrix","Array"],Mu=["number","BigNumber","Fraction"],tr=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(on)};Zt(tr,on,{MATRIX_OPTIONS:_u,NUMBER_OPTIONS:Mu});function Or(){return!0}function Ve(){return!1}function yt(){}const Ir="Argument is not a typed-function.";function ln(){function e(x){return typeof x=="object"&&x!==null&&x.constructor===Object}const t=[{name:"number",test:function(x){return typeof x=="number"}},{name:"string",test:function(x){return typeof x=="string"}},{name:"boolean",test:function(x){return typeof x=="boolean"}},{name:"Function",test:function(x){return typeof x=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(x){return x instanceof Date}},{name:"RegExp",test:function(x){return x instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(x){return x===null}},{name:"undefined",test:function(x){return x===void 0}}],n={name:"any",test:Or,isAny:!0};let i,r,a=0,f={createCount:0};function l(x){const z=i.get(x);if(z)return z;let q='Unknown type "'+x+'"';const U=x.toLowerCase();let Z;for(Z of r)if(Z.toLowerCase()===U){q+='. Did you mean "'+Z+'" ?';break}throw new TypeError(q)}function c(x){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const q=z?l(z).index:r.length,U=[];for(let k=0;k<x.length;++k){if(!x[k]||typeof x[k].name!="string"||typeof x[k].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const X=x[k].name;if(i.has(X))throw new TypeError('Duplicate type name "'+X+'"');U.push(X),i.set(X,{name:X,test:x[k].test,isAny:x[k].isAny,index:q+k,conversionsTo:[]})}const Z=r.slice(q);r=r.slice(0,q).concat(U).concat(Z);for(let k=q+U.length;k<r.length;++k)i.get(r[k]).index=k}function D(){i=new Map,r=[],a=0,c([n],!1)}D(),c(t);function s(){let x;for(x of r)i.get(x).conversionsTo=[];a=0}function u(x){const z=r.filter(q=>{const U=i.get(q);return!U.isAny&&U.test(x)});return z.length?z:["any"]}function o(x){return x&&typeof x=="function"&&"_typedFunctionData"in x}function p(x,z,q){if(!o(x))throw new TypeError(Ir);const U=q&&q.exact,Z=Array.isArray(z)?z.join(","):z,k=O(Z),X=g(k);if(!U||X in x.signatures){const pe=x._typedFunctionData.signatureMap.get(X);if(pe)return pe}const Y=k.length;let J;if(U){J=[];let pe;for(pe in x.signatures)J.push(x._typedFunctionData.signatureMap.get(pe))}else J=x._typedFunctionData.signatures;for(let pe=0;pe<Y;++pe){const ve=k[pe],Ee=[];let ze;for(ze of J){const Ie=d(ze.params,pe);if(!(!Ie||ve.restParam&&!Ie.restParam)){if(!Ie.hasAny){const Xe=F(Ie);if(ve.types.some(Je=>!Xe.has(Je.name)))continue}Ee.push(ze)}}if(J=Ee,J.length===0)break}let W;for(W of J)if(W.params.length<=Y)return W;throw new TypeError("Signature not found (signature: "+(x.name||"unnamed")+"("+g(k,", ")+"))")}function A(x,z,q){return p(x,z,q).implementation}function h(x,z){const q=l(z);if(q.test(x))return x;const U=q.conversionsTo;if(U.length===0)throw new Error("There are no conversions to "+z+" defined.");for(let Z=0;Z<U.length;Z++)if(l(U[Z].from).test(x))return U[Z].convert(x);throw new Error("Cannot convert "+x+" to "+z)}function g(x){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return x.map(q=>q.name).join(z)}function w(x){const z=x.indexOf("...")===0,U=(z?x.length>3?x.slice(3):"any":x).split("|").map(Y=>l(Y.trim()));let Z=!1,k=z?"...":"";return{types:U.map(function(Y){return Z=Y.isAny||Z,k+=Y.name+"|",{name:Y.name,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:null,conversionIndex:-1}}),name:k.slice(0,-1),hasAny:Z,hasConversion:!1,restParam:z}}function m(x){const z=x.types.map(X=>X.name),q=R(z);let U=x.hasAny,Z=x.name;const k=q.map(function(X){const Y=l(X.from);return U=Y.isAny||U,Z+="|"+X.from,{name:X.from,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:X,conversionIndex:X.index}});return{types:x.types.concat(k),name:Z,hasAny:U,hasConversion:k.length>0,restParam:x.restParam}}function F(x){return x.typeSet||(x.typeSet=new Set,x.types.forEach(z=>x.typeSet.add(z.name))),x.typeSet}function O(x){const z=[];if(typeof x!="string")throw new TypeError("Signatures must be strings");const q=x.trim();if(q==="")return z;const U=q.split(",");for(let Z=0;Z<U.length;++Z){const k=w(U[Z].trim());if(k.restParam&&Z!==U.length-1)throw new SyntaxError('Unexpected rest parameter "'+U[Z]+'": only allowed for the last parameter');if(k.types.length===0)return null;z.push(k)}return z}function S(x){const z=oe(x);return z?z.restParam:!1}function b(x){if(!x||x.types.length===0)return Or;if(x.types.length===1)return l(x.types[0].name).test;if(x.types.length===2){const z=l(x.types[0].name).test,q=l(x.types[1].name).test;return function(Z){return z(Z)||q(Z)}}else{const z=x.types.map(function(q){return l(q.name).test});return function(U){for(let Z=0;Z<z.length;Z++)if(z[Z](U))return!0;return!1}}}function I(x){let z,q,U;if(S(x)){z=de(x).map(b);const Z=z.length,k=b(oe(x)),X=function(Y){for(let J=Z;J<Y.length;J++)if(!k(Y[J]))return!1;return!0};return function(J){for(let W=0;W<z.length;W++)if(!z[W](J[W]))return!1;return X(J)&&J.length>=Z+1}}else return x.length===0?function(k){return k.length===0}:x.length===1?(q=b(x[0]),function(k){return q(k[0])&&k.length===1}):x.length===2?(q=b(x[0]),U=b(x[1]),function(k){return q(k[0])&&U(k[1])&&k.length===2}):(z=x.map(b),function(k){for(let X=0;X<z.length;X++)if(!z[X](k[X]))return!1;return k.length===z.length})}function d(x,z){return z<x.length?x[z]:S(x)?oe(x):null}function v(x,z){const q=d(x,z);return q?F(q):new Set}function y(x){return x.conversion===null||x.conversion===void 0}function C(x,z){const q=new Set;return x.forEach(U=>{const Z=v(U.params,z);let k;for(k of Z)q.add(k)}),q.has("any")?["any"]:Array.from(q)}function E(x,z,q){let U,Z;const k=x||"unnamed";let X=q,Y;for(Y=0;Y<z.length;Y++){const ve=[];if(X.forEach(Ee=>{const ze=d(Ee.params,Y),Ie=b(ze);(Y<Ee.params.length||S(Ee.params))&&Ie(z[Y])&&ve.push(Ee)}),ve.length===0){if(Z=C(X,Y),Z.length>0){const Ee=u(z[Y]);return U=new TypeError("Unexpected type of argument in function "+k+" (expected: "+Z.join(" or ")+", actual: "+Ee.join(" | ")+", index: "+Y+")"),U.data={category:"wrongType",fn:k,index:Y,actual:Ee,expected:Z},U}}else X=ve}const J=X.map(function(ve){return S(ve.params)?1/0:ve.params.length});if(z.length<Math.min.apply(null,J))return Z=C(X,Y),U=new TypeError("Too few arguments in function "+k+" (expected: "+Z.join(" or ")+", index: "+z.length+")"),U.data={category:"tooFewArgs",fn:k,index:z.length,expected:Z},U;const W=Math.max.apply(null,J);if(z.length>W)return U=new TypeError("Too many arguments in function "+k+" (expected: "+W+", actual: "+z.length+")"),U.data={category:"tooManyArgs",fn:k,index:z.length,expectedLength:W},U;const pe=[];for(let ve=0;ve<z.length;++ve)pe.push(u(z[ve]).join("|"));return U=new TypeError('Arguments of type "'+pe.join(", ")+'" do not match any of the defined signatures of function '+k+"."),U.data={category:"mismatch",actual:pe},U}function N(x){let z=r.length+1;for(let q=0;q<x.types.length;q++)y(x.types[q])&&(z=Math.min(z,x.types[q].typeIndex));return z}function P(x){let z=a+1;for(let q=0;q<x.types.length;q++)y(x.types[q])||(z=Math.min(z,x.types[q].conversionIndex));return z}function M(x,z){if(x.hasAny){if(!z.hasAny)return 1}else if(z.hasAny)return-1;if(x.restParam){if(!z.restParam)return 1}else if(z.restParam)return-1;if(x.hasConversion){if(!z.hasConversion)return 1}else if(z.hasConversion)return-1;const q=N(x)-N(z);if(q<0)return-1;if(q>0)return 1;const U=P(x)-P(z);return U<0?-1:U>0?1:0}function _(x,z){const q=x.params,U=z.params,Z=oe(q),k=oe(U),X=S(q),Y=S(U);if(X&&Z.hasAny){if(!Y||!k.hasAny)return 1}else if(Y&&k.hasAny)return-1;let J=0,W=0,pe;for(pe of q)pe.hasAny&&++J,pe.hasConversion&&++W;let ve=0,Ee=0;for(pe of U)pe.hasAny&&++ve,pe.hasConversion&&++Ee;if(J!==ve)return J-ve;if(X&&Z.hasConversion){if(!Y||!k.hasConversion)return 1}else if(Y&&k.hasConversion)return-1;if(W!==Ee)return W-Ee;if(X){if(!Y)return 1}else if(Y)return-1;const ze=(q.length-U.length)*(X?-1:1);if(ze!==0)return ze;const Ie=[];let Xe=0;for(let At=0;At<q.length;++At){const Pt=M(q[At],U[At]);Ie.push(Pt),Xe+=Pt}if(Xe!==0)return Xe;let Je;for(Je of Ie)if(Je!==0)return Je;return 0}function R(x){if(x.length===0)return[];const z=x.map(l);x.length>1&&z.sort((Z,k)=>Z.index-k.index);let q=z[0].conversionsTo;if(x.length===1)return q;q=q.concat([]);const U=new Set(x);for(let Z=1;Z<z.length;++Z){let k;for(k of z[Z].conversionsTo)U.has(k.from)||(q.push(k),U.add(k.from))}return q}function B(x,z){let q=z;if(x.some(Z=>Z.hasConversion)){const Z=S(x),k=x.map(T);q=function(){const Y=[],J=Z?arguments.length-1:arguments.length;for(let W=0;W<J;W++)Y[W]=k[W](arguments[W]);return Z&&(Y[J]=arguments[J].map(k[J])),z.apply(this,Y)}}let U=q;if(S(x)){const Z=x.length-1;U=function(){return q.apply(this,fe(arguments,0,Z).concat([fe(arguments,Z)]))}}return U}function T(x){let z,q,U,Z;const k=[],X=[];switch(x.types.forEach(function(Y){Y.conversion&&(k.push(l(Y.conversion.from).test),X.push(Y.conversion.convert))}),X.length){case 0:return function(J){return J};case 1:return z=k[0],U=X[0],function(J){return z(J)?U(J):J};case 2:return z=k[0],q=k[1],U=X[0],Z=X[1],function(J){return z(J)?U(J):q(J)?Z(J):J};default:return function(J){for(let W=0;W<X.length;W++)if(k[W](J))return X[W](J);return J}}}function L(x){function z(q,U,Z){if(U<q.length){const k=q[U];let X=[];if(k.restParam){const Y=k.types.filter(y);Y.length<k.types.length&&X.push({types:Y,name:"..."+Y.map(J=>J.name).join("|"),hasAny:Y.some(J=>J.isAny),hasConversion:!1,restParam:!0}),X.push(k)}else X=k.types.map(function(Y){return{types:[Y],name:Y.name,hasAny:Y.isAny,hasConversion:Y.conversion,restParam:!1}});return le(X,function(Y){return z(q,U+1,Z.concat([Y]))})}else return[Z]}return z(x,0,[])}function $(x,z){const q=Math.max(x.length,z.length);for(let Y=0;Y<q;Y++){const J=v(x,Y),W=v(z,Y);let pe=!1,ve;for(ve of W)if(J.has(ve)){pe=!0;break}if(!pe)return!1}const U=x.length,Z=z.length,k=S(x),X=S(z);return k?X?U===Z:Z>=U:X?U>=Z:U===Z}function H(x){return x.map(z=>tt(z)?ae(z.referToSelf.callback):Ye(z)?se(z.referTo.references,z.referTo.callback):z)}function G(x,z,q){const U=[];let Z;for(Z of x){let k=q[Z];if(typeof k!="number")throw new TypeError('No definition for referenced signature "'+Z+'"');if(k=z[k],typeof k!="function")return!1;U.push(k)}return U}function K(x,z,q){const U=H(x),Z=new Array(U.length).fill(!1);let k=!0;for(;k;){k=!1;let X=!0;for(let Y=0;Y<U.length;++Y){if(Z[Y])continue;const J=U[Y];if(tt(J))U[Y]=J.referToSelf.callback(q),U[Y].referToSelf=J.referToSelf,Z[Y]=!0,X=!1;else if(Ye(J)){const W=G(J.referTo.references,U,z);W?(U[Y]=J.referTo.callback.apply(this,W),U[Y].referTo=J.referTo,Z[Y]=!0,X=!1):k=!0}}if(X&&k)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return U}function Q(x){const z=/\bthis(\(|\.signatures\b)/;Object.keys(x).forEach(q=>{const U=x[q];if(z.test(U.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ee(x,z){if(f.createCount++,Object.keys(z).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&Q(z);const q=[],U=[],Z={},k=[];let X;for(X in z){if(!Object.prototype.hasOwnProperty.call(z,X))continue;const he=O(X);if(!he)continue;q.forEach(function(St){if($(St,he))throw new TypeError('Conflicting signatures "'+g(St)+'" and "'+g(he)+'".')}),q.push(he);const $e=U.length;U.push(z[X]);const yi=he.map(m);let Rt;for(Rt of L(yi)){const St=g(Rt);k.push({params:Rt,name:St,fn:$e}),Rt.every(Ei=>!Ei.hasConversion)&&(Z[St]=$e)}}k.sort(_);const Y=K(U,Z,Nt);let J;for(J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&(Z[J]=Y[Z[J]]);const W=[],pe=new Map;for(J of k)pe.has(J.name)||(J.fn=Y[J.fn],W.push(J),pe.set(J.name,J));const ve=W[0]&&W[0].params.length<=2&&!S(W[0].params),Ee=W[1]&&W[1].params.length<=2&&!S(W[1].params),ze=W[2]&&W[2].params.length<=2&&!S(W[2].params),Ie=W[3]&&W[3].params.length<=2&&!S(W[3].params),Xe=W[4]&&W[4].params.length<=2&&!S(W[4].params),Je=W[5]&&W[5].params.length<=2&&!S(W[5].params),At=ve&&Ee&&ze&&Ie&&Xe&&Je;for(let he=0;he<W.length;++he)W[he].test=I(W[he].params);const Pt=ve?b(W[0].params[0]):Ve,Wn=Ee?b(W[1].params[0]):Ve,Yn=ze?b(W[2].params[0]):Ve,Xn=Ie?b(W[3].params[0]):Ve,Jn=Xe?b(W[4].params[0]):Ve,Kn=Je?b(W[5].params[0]):Ve,Qn=ve?b(W[0].params[1]):Ve,jn=Ee?b(W[1].params[1]):Ve,ei=ze?b(W[2].params[1]):Ve,ti=Ie?b(W[3].params[1]):Ve,ri=Xe?b(W[4].params[1]):Ve,ni=Je?b(W[5].params[1]):Ve;for(let he=0;he<W.length;++he)W[he].implementation=B(W[he].params,W[he].fn);const ii=ve?W[0].implementation:yt,ui=Ee?W[1].implementation:yt,oi=ze?W[2].implementation:yt,si=Ie?W[3].implementation:yt,ai=Xe?W[4].implementation:yt,fi=Je?W[5].implementation:yt,ci=ve?W[0].params.length:-1,li=Ee?W[1].params.length:-1,hi=ze?W[2].params.length:-1,pi=Ie?W[3].params.length:-1,Di=Xe?W[4].params.length:-1,di=Je?W[5].params.length:-1,vi=At?6:0,wi=W.length,gi=W.map(he=>he.test),mi=W.map(he=>he.implementation),Ai=function(){for(let $e=vi;$e<wi;$e++)if(gi[$e](arguments))return mi[$e].apply(this,arguments);return f.onMismatch(x,arguments,W)};function Nt(he,$e){return arguments.length===ci&&Pt(he)&&Qn($e)?ii.apply(this,arguments):arguments.length===li&&Wn(he)&&jn($e)?ui.apply(this,arguments):arguments.length===hi&&Yn(he)&&ei($e)?oi.apply(this,arguments):arguments.length===pi&&Xn(he)&&ti($e)?si.apply(this,arguments):arguments.length===Di&&Jn(he)&&ri($e)?ai.apply(this,arguments):arguments.length===di&&Kn(he)&&ni($e)?fi.apply(this,arguments):Ai.apply(this,arguments)}try{Object.defineProperty(Nt,"name",{value:x})}catch{}return Nt.signatures=Z,Nt._typedFunctionData={signatures:W,signatureMap:pe},Nt}function re(x,z,q){throw E(x,z,q)}function de(x){return fe(x,0,x.length-1)}function oe(x){return x[x.length-1]}function fe(x,z,q){return Array.prototype.slice.call(x,z,q)}function ce(x,z){for(let q=0;q<x.length;q++)if(z(x[q]))return x[q]}function le(x,z){return Array.prototype.concat.apply([],x.map(z))}function ie(){const x=de(arguments).map(q=>g(O(q))),z=oe(arguments);if(typeof z!="function")throw new TypeError("Callback function expected as last argument");return se(x,z)}function se(x,z){return{referTo:{references:x,callback:z}}}function ae(x){if(typeof x!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:x}}}function Ye(x){return x&&typeof x.referTo=="object"&&Array.isArray(x.referTo.references)&&typeof x.referTo.callback=="function"}function tt(x){return x&&typeof x.referToSelf=="object"&&typeof x.referToSelf.callback=="function"}function ct(x,z){if(!x)return z;if(z&&z!==x){const q=new Error("Function names do not match (expected: "+x+", actual: "+z+")");throw q.data={actual:z,expected:x},q}return x}function it(x){let z;for(const q in x)Object.prototype.hasOwnProperty.call(x,q)&&(o(x[q])||typeof x[q].signature=="string")&&(z=ct(z,x[q].name));return z}function mt(x,z){let q;for(q in z)if(Object.prototype.hasOwnProperty.call(z,q)){if(q in x&&z[q]!==x[q]){const U=new Error('Signature "'+q+'" is defined twice');throw U.data={signature:q,sourceFunction:z[q],destFunction:x[q]},U}x[q]=z[q]}}const sr=f;f=function(x){const z=typeof x=="string",q=z?1:0;let U=z?x:"";const Z={};for(let k=q;k<arguments.length;++k){const X=arguments[k];let Y={},J;if(typeof X=="function"?(J=X.name,typeof X.signature=="string"?Y[X.signature]=X:o(X)&&(Y=X.signatures)):e(X)&&(Y=X,z||(J=it(X))),Object.keys(Y).length===0){const W=new TypeError("Argument to 'typed' at index "+k+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw W.data={index:k,argument:X},W}z||(U=ct(U,J)),mt(Z,Y)}return ee(U||"",Z)},f.create=ln,f.createCount=sr.createCount,f.onMismatch=re,f.throwMismatchError=re,f.createError=E,f.clear=D,f.clearConversions=s,f.addTypes=c,f._findType=l,f.referTo=ie,f.referToSelf=ae,f.convert=h,f.findSignature=p,f.find=A,f.isTypedFunction=o,f.warnAgainstDeprecatedThis=!0,f.addType=function(x,z){let q="any";z!==!1&&i.has("Object")&&(q="Object"),f.addTypes([x],q)};function It(x){if(!x||typeof x.from!="string"||typeof x.to!="string"||typeof x.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(x.to===x.from)throw new SyntaxError('Illegal to define conversion from "'+x.from+'" to itself.')}return f.addConversion=function(x){It(x);const z=l(x.to);if(z.conversionsTo.every(function(q){return q.from!==x.from}))z.conversionsTo.push({from:x.from,convert:x.convert,index:a++});else throw new Error('There is already a conversion from "'+x.from+'" to "'+z.name+'"')},f.addConversions=function(x){x.forEach(f.addConversion)},f.removeConversion=function(x){It(x);const z=l(x.to),q=ce(z.conversionsTo,Z=>Z.from===x.from);if(!q)throw new Error("Attempt to remove nonexistent conversion from "+x.from+" to "+x.to);if(q.convert!==x.convert)throw new Error("Conversion to remove does not match existing conversion");const U=z.conversionsTo.indexOf(q);z.conversionsTo.splice(U,1)},f.resolve=function(x,z){if(!o(x))throw new TypeError(Ir);const q=x._typedFunctionData.signatures;for(let U=0;U<q.length;++U)if(q[U].test(z))return q[U];return null},f}const Pr=ln();function xe(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function pr(e,t,n){var i={2:"0b",8:"0o",16:"0x"},r=i[t],a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!xe(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!xe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),a="i".concat(n)}var f="";return e<0&&(e=-e,f="-"),"".concat(f).concat(r).concat(e.toString(t)).concat(a)}function gr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",i,r;if(t&&(t.notation&&(n=t.notation),ye(t)?i=t:ye(t.precision)&&(i=t.precision),t.wordSize&&(r=t.wordSize,typeof r!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Su(e,i);case"exponential":return hn(e,i);case"engineering":return Nu(e,i);case"bin":return pr(e,2,r);case"oct":return pr(e,8,r);case"hex":return pr(e,16,r);case"auto":return xu(e,i,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function rr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],i=t[2],r=parseFloat(t[4]||"0"),a=i.indexOf(".");r+=a!==-1?a-1:i.length-1;var f=i.replace(".","").replace(/^0*/,function(l){return r-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return f.length===0&&(f.push(0),r++),{sign:n,coefficients:f,exponent:r}}function Nu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=rr(e),i=nr(n,t),r=i.exponent,a=i.coefficients,f=r%3===0?r:r<0?r-3-r%3:r-r%3;if(ye(t))for(;t>a.length||r-f+1>a.length;)a.push(0);else for(var l=Math.abs(r-f)-(a.length-1),c=0;c<l;c++)a.push(0);for(var D=Math.abs(r-f),s=1;D>0;)s++,D--;var u=a.slice(s).join(""),o=ye(t)&&u.length||u.match(/[1-9]/)?"."+u:"",p=a.slice(0,s).join("")+o+"e"+(r>=0?"+":"")+f.toString();return i.sign+p}function Su(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=rr(e),i=typeof t=="number"?nr(n,n.exponent+1+t):n,r=i.coefficients,a=i.exponent+1,f=a+(t||0);return r.length<f&&(r=r.concat(Ft(f-r.length))),a<0&&(r=Ft(-a+1).concat(r),a=1),a<r.length&&r.splice(a,0,a===0?"0.":"."),i.sign+r.join("")}function hn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=rr(e),i=t?nr(n,t):n,r=i.coefficients,a=i.exponent;r.length<t&&(r=r.concat(Ft(t-r.length)));var f=r.shift();return i.sign+f+(r.length>0?"."+r.join(""):"")+"e"+(a>=0?"+":"")+a}function xu(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var i=n&&n.lowerExp!==void 0?n.lowerExp:-3,r=n&&n.upperExp!==void 0?n.upperExp:5,a=rr(e),f=t?nr(a,t):a;if(f.exponent<i||f.exponent>=r)return hn(e,t);var l=f.coefficients,c=f.exponent;l.length<t&&(l=l.concat(Ft(t-l.length))),l=l.concat(Ft(c-l.length+1+(l.length<t?t-l.length:0))),l=Ft(-c).concat(l);var D=c>0?c:0;return D<l.length-1&&l.splice(D+1,0,"."),f.sign+l.join("")}function nr(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=n.coefficients;t<=0;)i.unshift(0),n.exponent++,t++;if(i.length>t){var r=i.splice(t,i.length-t);if(r[0]>=5){var a=t-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),n.exponent++,a++),a--,i[a]++}}return n}function Ft(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function bu(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Tu=Number.EPSILON||2220446049250313e-31;function Wt(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<=Tu?!0:i<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function Dr(e,t,n){var i=e.constructor,r=new i(2),a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!xe(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),a="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function Ou(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",i,r;if(t!==void 0&&(t.notation&&(n=t.notation),typeof t=="number"?i=t:t.precision!==void 0&&(i=t.precision),t.wordSize&&(r=t.wordSize,typeof r!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Pu(e,i);case"exponential":return Rr(e,i);case"engineering":return Iu(e,i);case"bin":return Dr(e,2,r);case"oct":return Dr(e,8,r);case"hex":return Dr(e,16,r);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,f=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var l,c=e.toSignificantDigits(i),D=c.e;return D>=a&&D<f?l=c.toFixed():l=Rr(e,i),l.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],u=arguments[4];return s!=="."?s+u:u})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Iu(e,t){var n=e.e,i=n%3===0?n:n<0?n-3-n%3:n-n%3,r=e.mul(Math.pow(10,-i)),a=r.toPrecision(t);if(a.indexOf("e")!==-1){var f=e.constructor;a=new f(a).toFixed()}return a+"e"+(n>=0?"+":"")+i.toString()}function Rr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Pu(e,t){return e.toFixed(t)}function qe(e,t){var n=Ru(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function Ru(e,t){if(typeof e=="number")return gr(e,t);if(We(e))return Ou(e,t);if(zu(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return pn(e,t);if(rt(e))return zr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(i=>zr(i)+": "+qe(e[i],t));return"{"+n.join(", ")+"}"}return String(e)}function zr(e){for(var t=String(e),n="",i=0;i<t.length;){var r=t.charAt(i);n+=r in $r?$r[r]:r,i++}return'"'+n+'"'}var $r={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function pn(e,t){if(Array.isArray(e)){for(var n="[",i=e.length,r=0;r<i;r++)r!==0&&(n+=", "),n+=pn(e[r],t);return n+="]",n}else return qe(e,t)}function zu(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function we(e,t,n){if(!(this instanceof we))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}we.prototype=new RangeError;we.prototype.constructor=RangeError;we.prototype.name="DimensionError";we.prototype.isDimensionError=!0;function Mt(e,t,n){if(!(this instanceof Mt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Mt.prototype=new RangeError;Mt.prototype.constructor=RangeError;Mt.prototype.name="IndexError";Mt.prototype.isIndexError=!0;function je(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Dn(e,t,n){var i,r=e.length;if(r!==t[n])throw new we(r,t[n]);if(n<t.length-1){var a=n+1;for(i=0;i<r;i++){var f=e[i];if(!Array.isArray(f))throw new we(t.length-1,t.length,"<");Dn(e[i],t,a)}}else for(i=0;i<r;i++)if(Array.isArray(e[i]))throw new we(t.length+1,t.length,">")}function Lr(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new we(e.length,0)}else Dn(e,t,0)}function Ae(e,t){if(e!==void 0){if(!ye(e)||!xe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Mt(e,t)}}function qr(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(r){if(!ye(r)||!xe(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+qe(t)+")")}),(ye(e)||We(e))&&(e=[e]);var i=n!==void 0?n:0;return mr(e,t,0,i),e}function mr(e,t,n,i){var r,a,f=e.length,l=t[n],c=Math.min(f,l);if(e.length=l,n<t.length-1){var D=n+1;for(r=0;r<c;r++)a=e[r],Array.isArray(a)||(a=[a],e[r]=a),mr(a,t,D,i);for(r=c;r<l;r++)a=[],e[r]=a,mr(a,t,D,i)}else{for(r=0;r<c;r++)for(;Array.isArray(e[r]);)e[r]=e[r][0];for(r=c;r<l;r++)e[r]=i}}function dn(e,t){var n=Lu(e),i=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new we(0,i,"!=");t=Mr(t,i);var r=vn(t);if(i!==r)throw new we(r,i,"!=");try{return $u(n,t)}catch(a){throw a instanceof we?new we(r,i,"!="):a}}function Mr(e,t){var n=vn(e),i=e.slice(),r=-1,a=e.indexOf(r),f=e.indexOf(r,a+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var l=a>=0,c=t%n===0;if(l)if(c)i[a]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return i}function vn(e){return e.reduce((t,n)=>t*n,1)}function $u(e,t){for(var n=e,i,r=t.length-1;r>0;r--){var a=t[r];i=[];for(var f=n.length/a,l=0;l<f;l++)i.push(n.slice(l*a,(l+1)*a));n=i}return n}function wn(e,t,n,i){var r=i||je(e);if(n)for(var a=0;a<n;a++)e=[e],r.unshift(1);for(e=gn(e,t,0);r.length<t;)r.push(1);return e}function gn(e,t,n){var i,r;if(Array.isArray(e)){var a=n+1;for(i=0,r=e.length;i<r;i++)e[i]=gn(e[i],t,a)}else for(var f=n;f<t;f++)e=[e];return e}function Lu(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(i){Array.isArray(i)?i.forEach(n):t.push(i)}),t}function Yt(e,t){for(var n,i=0,r=0;r<e.length;r++){var a=e[r],f=Array.isArray(a);if(r===0&&f&&(i=a.length),f&&a.length!==i)return;var l=f?Yt(a,t):t(a);if(n===void 0)n=l;else if(n!==l)return"mixed"}return n}function mn(e,t,n,i){if(i<n){if(e.length!==t.length)throw new we(e.length,t.length);for(var r=[],a=0;a<e.length;a++)r[a]=mn(e[a],t[a],n,i+1);return r}else return e.concat(t)}function qu(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,i){return mn(n,i,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Uu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t.map(o=>o.length),r=Math.max(...i),a=new Array(r).fill(null),f=0;f<t.length;f++)for(var l=t[f],c=i[f],D=0;D<c;D++){var s=r-c+D;l[D]>a[s]&&(a[s]=l[D])}for(var u=0;u<t.length;u++)An(t[u],a);return a}function An(e,t){for(var n=t.length,i=e.length,r=0;r<i;r++){var a=n-i+r;if(e[r]<t[a]&&e[r]>1||e[r]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(i," with size ").concat(e[r]," to size ").concat(t[a]))}}function Ur(e,t){var n=je(e);if(Ct(n,t))return e;An(n,t);var i=Uu(n,t),r=i.length,a=[...Array(r-n.length).fill(1),...n],f=Vu(e);n.length<r&&(f=dn(f,a),n=je(f));for(var l=0;l<r;l++)n[l]<i[l]&&(f=ku(f,i[l],l),n=je(f));return f}function ku(e,t,n){return qu(...Array(t).fill(e),n)}function Vu(e){return Zt([],e)}function _e(e,t,n,i){function r(a){var f=Bu(a,t.map(Hu));return Zu(e,t,a),n(f)}return r.isFactory=!0,r.fn=e,r.dependencies=t.slice().sort(),i&&(r.meta=i),r}function Zu(e,t,n){var i=t.filter(a=>!Gu(a)).every(a=>n[a]!==void 0);if(!i){var r=t.filter(a=>n[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Gu(e){return e&&e[0]==="?"}function Hu(e){return e&&e[0]==="?"?e.slice(1):e}function Wu(e,t){if(En(e)&&yn(e,t))return e[t];throw typeof e[t]=="function"&&Ju(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Yu(e,t,n){if(En(e)&&yn(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Xu(e,t){return t in e}function yn(e,t){return!e||typeof e!="object"?!1:Ht(Ku,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Ju(e,t){return e==null||typeof e[t]!="function"||Ht(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Ht(Qu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function En(e){return typeof e=="object"&&e&&e.constructor===Object}var Ku={length:!0,name:!0},Qu={toString:!0,valueOf:!0,toLocaleString:!0};class ju{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Wu(this.wrappedObject,t)}set(t,n){return Yu(this.wrappedObject,t,n),this}has(t){return Xu(this.wrappedObject,t)}}function eo(e){return e?e instanceof Map||e instanceof ju||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Fn=function(){return Fn=Pr.create,Pr},to=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ro=_e("typed",to,function(t){var{BigNumber:n,Complex:i,DenseMatrix:r,Fraction:a}=t,f=Fn();return f.clear(),f.addTypes([{name:"number",test:ye},{name:"Complex",test:sn},{name:"BigNumber",test:We},{name:"Fraction",test:an},{name:"Unit",test:fn},{name:"identifier",test:l=>rt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:rt},{name:"Chain",test:Fu},{name:"Array",test:me},{name:"Matrix",test:Re},{name:"DenseMatrix",test:Ji},{name:"SparseMatrix",test:Ki},{name:"Range",test:Qi},{name:"Index",test:_r},{name:"boolean",test:ji},{name:"ResultSet",test:eu},{name:"Help",test:tu},{name:"function",test:ru},{name:"Date",test:nu},{name:"RegExp",test:iu},{name:"null",test:uu},{name:"undefined",test:ou},{name:"AccessorNode",test:su},{name:"ArrayNode",test:au},{name:"AssignmentNode",test:fu},{name:"BlockNode",test:cu},{name:"ConditionalNode",test:lu},{name:"ConstantNode",test:hu},{name:"FunctionNode",test:Du},{name:"FunctionAssignmentNode",test:pu},{name:"IndexNode",test:du},{name:"Node",test:vu},{name:"ObjectNode",test:wu},{name:"OperatorNode",test:gu},{name:"ParenthesisNode",test:mu},{name:"RangeNode",test:Au},{name:"RelationalNode",test:yu},{name:"SymbolNode",test:Eu},{name:"Map",test:eo},{name:"Object",test:cn}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(n||dr(c),bu(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new n(c)}},{from:"number",to:"Complex",convert:function(c){return i||Lt(c),new i(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return i||Lt(c),new i(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return i||Lt(c),new i(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){a||vr(c);var D=new a(c);if(D.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return D}},{from:"string",to:"number",convert:function(c){var D=Number(c);if(isNaN(D))throw new Error('Cannot convert "'+c+'" to a number');return D}},{from:"string",to:"BigNumber",convert:function(c){n||dr(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){a||vr(c);try{return new a(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){i||Lt(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return n||dr(c),new n(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return a||vr(c),new a(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return r||no(),new r(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),f.onMismatch=(l,c,D)=>{var s=f.createError(l,c,D);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Gt(c[0])&&D.some(o=>!o.params.includes(","))){var u=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw u.data=s.data,u}throw s},f.onMismatch=(l,c,D)=>{var s=f.createError(l,c,D);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Gt(c[0])&&D.some(o=>!o.params.includes(","))){var u=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw u.data=s.data,u}throw s},f});function dr(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Lt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function no(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function vr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Et=9e15,dt=1e9,Ar="0123456789abcdef",Xt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Jt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",yr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Et,maxE:Et,crypto:!1},Cn,at,ne=!0,ir="[DecimalError] ",Dt=ir+"Invalid argument: ",Bn=ir+"Precision limit exceeded",_n=ir+"crypto unavailable",Mn="[object Decimal]",Oe=Math.floor,Be=Math.pow,io=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,uo=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,oo=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Nn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,et=1e7,te=7,so=9007199254740991,ao=Xt.length-1,Er=Jt.length-1,V={toStringTag:Mn};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),j(e)};V.ceil=function(){return j(new this.constructor(this),this.e+1,2)};V.clampedTo=V.clamp=function(e,t){var n,i=this,r=i.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Dt+t);return n=i.cmp(e),n<0?e:i.cmp(t)>0?t:new r(i)};V.comparedTo=V.cmp=function(e){var t,n,i,r,a=this,f=a.d,l=(e=new a.constructor(e)).d,c=a.s,D=e.s;if(!f||!l)return!c||!D?NaN:c!==D?c:f===l?0:!f^c<0?1:-1;if(!f[0]||!l[0])return f[0]?c:l[0]?-D:0;if(c!==D)return c;if(a.e!==e.e)return a.e>e.e^c<0?1:-1;for(i=f.length,r=l.length,t=0,n=i<r?i:r;t<n;++t)if(f[t]!==l[t])return f[t]>l[t]^c<0?1:-1;return i===r?0:i>r^c<0?1:-1};V.cosine=V.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+te,i.rounding=1,n=fo(i,On(i,n)),i.precision=e,i.rounding=t,j(at==2||at==3?n.neg():n,e,t,!0)):new i(1):new i(NaN)};V.cubeRoot=V.cbrt=function(){var e,t,n,i,r,a,f,l,c,D,s=this,u=s.constructor;if(!s.isFinite()||s.isZero())return new u(s);for(ne=!1,a=s.s*Be(s.s*s,1/3),!a||Math.abs(a)==1/0?(n=be(s.d),e=s.e,(a=(e-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=Be(n,1/3),e=Oe((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?n="5e"+e:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new u(n),i.s=s.s):i=new u(a.toString()),f=(e=u.precision)+3;;)if(l=i,c=l.times(l).times(l),D=c.plus(s),i=De(D.plus(s).times(l),D.plus(c),f+2,1),be(l.d).slice(0,f)===(n=be(i.d)).slice(0,f))if(n=n.slice(f-3,f+1),n=="9999"||!r&&n=="4999"){if(!r&&(j(l,e+1,0),l.times(l).times(l).eq(s))){i=l;break}f+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(j(i,e+1,1),t=!i.times(i).times(i).eq(s));break}return ne=!0,j(i,e,u.rounding,t)};V.decimalPlaces=V.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-Oe(this.e/te))*te,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};V.dividedBy=V.div=function(e){return De(this,new this.constructor(e))};V.dividedToIntegerBy=V.divToInt=function(e){var t=this,n=t.constructor;return j(De(t,new n(e),0,1,1),n.precision,n.rounding)};V.equals=V.eq=function(e){return this.cmp(e)===0};V.floor=function(){return j(new this.constructor(this),this.e+1,3)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){var t=this.cmp(e);return t==1||t===0};V.hyperbolicCosine=V.cosh=function(){var e,t,n,i,r,a=this,f=a.constructor,l=new f(1);if(!a.isFinite())return new f(a.s?1/0:NaN);if(a.isZero())return l;n=f.precision,i=f.rounding,f.precision=n+Math.max(a.e,a.sd())+4,f.rounding=1,r=a.d.length,r<32?(e=Math.ceil(r/3),t=(1/or(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=Bt(f,1,a.times(t),new f(1),!0);for(var c,D=e,s=new f(8);D--;)c=a.times(a),a=l.minus(c.times(s.minus(c.times(s))));return j(a,f.precision=n,f.rounding=i,!0)};V.hyperbolicSine=V.sinh=function(){var e,t,n,i,r=this,a=r.constructor;if(!r.isFinite()||r.isZero())return new a(r);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(r.e,r.sd())+4,a.rounding=1,i=r.d.length,i<3)r=Bt(a,2,r,r,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,r=r.times(1/or(5,e)),r=Bt(a,2,r,r,!0);for(var f,l=new a(5),c=new a(16),D=new a(20);e--;)f=r.times(r),r=r.times(l.plus(f.times(c.times(f).plus(D))))}return a.precision=t,a.rounding=n,j(r,t,n,!0)};V.hyperbolicTangent=V.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,De(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)};V.inverseCosine=V.acos=function(){var e,t=this,n=t.constructor,i=t.abs().cmp(1),r=n.precision,a=n.rounding;return i!==-1?i===0?t.isNeg()?Qe(n,r,a):new n(0):new n(NaN):t.isZero()?Qe(n,r+4,a).times(.5):(n.precision=r+6,n.rounding=1,t=t.asin(),e=Qe(n,r+4,a).times(.5),n.precision=r,n.rounding=a,e.minus(t))};V.inverseHyperbolicCosine=V.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,ne=!1,n=n.times(n).minus(1).sqrt().plus(n),ne=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)};V.inverseHyperbolicSine=V.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,ne=!1,n=n.times(n).plus(1).sqrt().plus(n),ne=!0,i.precision=e,i.rounding=t,n.ln())};V.inverseHyperbolicTangent=V.atanh=function(){var e,t,n,i,r=this,a=r.constructor;return r.isFinite()?r.e>=0?new a(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=a.precision,t=a.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?j(new a(r),e,t,!0):(a.precision=n=i-r.e,r=De(r.plus(1),new a(1).minus(r),n+e,1),a.precision=e+4,a.rounding=1,r=r.ln(),a.precision=e,a.rounding=t,r.times(.5))):new a(NaN)};V.inverseSine=V.asin=function(){var e,t,n,i,r=this,a=r.constructor;return r.isZero()?new a(r):(t=r.abs().cmp(1),n=a.precision,i=a.rounding,t!==-1?t===0?(e=Qe(a,n+4,i).times(.5),e.s=r.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,r=r.div(new a(1).minus(r.times(r)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=i,r.times(2)))};V.inverseTangent=V.atan=function(){var e,t,n,i,r,a,f,l,c,D=this,s=D.constructor,u=s.precision,o=s.rounding;if(D.isFinite()){if(D.isZero())return new s(D);if(D.abs().eq(1)&&u+4<=Er)return f=Qe(s,u+4,o).times(.25),f.s=D.s,f}else{if(!D.s)return new s(NaN);if(u+4<=Er)return f=Qe(s,u+4,o).times(.5),f.s=D.s,f}for(s.precision=l=u+10,s.rounding=1,n=Math.min(28,l/te+2|0),e=n;e;--e)D=D.div(D.times(D).plus(1).sqrt().plus(1));for(ne=!1,t=Math.ceil(l/te),i=1,c=D.times(D),f=new s(D),r=D;e!==-1;)if(r=r.times(c),a=f.minus(r.div(i+=2)),r=r.times(c),f=a.plus(r.div(i+=2)),f.d[t]!==void 0)for(e=t;f.d[e]===a.d[e]&&e--;);return n&&(f=f.times(2<<n-1)),ne=!0,j(f,s.precision=u,s.rounding=o,!0)};V.isFinite=function(){return!!this.d};V.isInteger=V.isInt=function(){return!!this.d&&Oe(this.e/te)>this.d.length-2};V.isNaN=function(){return!this.s};V.isNegative=V.isNeg=function(){return this.s<0};V.isPositive=V.isPos=function(){return this.s>0};V.isZero=function(){return!!this.d&&this.d[0]===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,n,i,r,a,f,l,c,D=this,s=D.constructor,u=s.precision,o=s.rounding,p=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(n=D.d,D.s<0||!n||!n[0]||D.eq(1))return new s(n&&!n[0]?-1/0:D.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(r=n[0];r%10===0;)r/=10;a=r!==1}if(ne=!1,l=u+p,f=pt(D,l),i=t?Kt(s,l+10):pt(e,l),c=De(f,i,l,1),Ot(c.d,r=u,o))do if(l+=10,f=pt(D,l),i=t?Kt(s,l+10):pt(e,l),c=De(f,i,l,1),!a){+be(c.d).slice(r+1,r+15)+1==1e14&&(c=j(c,u+1,0));break}while(Ot(c.d,r+=10,o));return ne=!0,j(c,u,o)};V.minus=V.sub=function(e){var t,n,i,r,a,f,l,c,D,s,u,o,p=this,A=p.constructor;if(e=new A(e),!p.d||!e.d)return!p.s||!e.s?e=new A(NaN):p.d?e.s=-e.s:e=new A(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(D=p.d,o=e.d,l=A.precision,c=A.rounding,!D[0]||!o[0]){if(o[0])e.s=-e.s;else if(D[0])e=new A(p);else return new A(c===3?-0:0);return ne?j(e,l,c):e}if(n=Oe(e.e/te),s=Oe(p.e/te),D=D.slice(),a=s-n,a){for(u=a<0,u?(t=D,a=-a,f=o.length):(t=o,n=s,f=D.length),i=Math.max(Math.ceil(l/te),f)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=D.length,f=o.length,u=i<f,u&&(f=i),i=0;i<f;i++)if(D[i]!=o[i]){u=D[i]<o[i];break}a=0}for(u&&(t=D,D=o,o=t,e.s=-e.s),f=D.length,i=o.length-f;i>0;--i)D[f++]=0;for(i=o.length;i>a;){if(D[--i]<o[i]){for(r=i;r&&D[--r]===0;)D[r]=et-1;--D[r],D[i]+=et}D[i]-=o[i]}for(;D[--f]===0;)D.pop();for(;D[0]===0;D.shift())--n;return D[0]?(e.d=D,e.e=ur(D,n),ne?j(e,l,c):e):new A(c===3?-0:0)};V.modulo=V.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?j(new i(n),i.precision,i.rounding):(ne=!1,i.modulo==9?(t=De(n,e.abs(),0,3,1),t.s*=e.s):t=De(n,e,0,i.modulo,1),t=t.times(e),ne=!0,n.minus(t))};V.naturalExponential=V.exp=function(){return Fr(this)};V.naturalLogarithm=V.ln=function(){return pt(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s,j(e)};V.plus=V.add=function(e){var t,n,i,r,a,f,l,c,D,s,u=this,o=u.constructor;if(e=new o(e),!u.d||!e.d)return!u.s||!e.s?e=new o(NaN):u.d||(e=new o(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(D=u.d,s=e.d,l=o.precision,c=o.rounding,!D[0]||!s[0])return s[0]||(e=new o(u)),ne?j(e,l,c):e;if(a=Oe(u.e/te),i=Oe(e.e/te),D=D.slice(),r=a-i,r){for(r<0?(n=D,r=-r,f=s.length):(n=s,i=a,f=D.length),a=Math.ceil(l/te),f=a>f?a+1:f+1,r>f&&(r=f,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(f=D.length,r=s.length,f-r<0&&(r=f,n=s,s=D,D=n),t=0;r;)t=(D[--r]=D[r]+s[r]+t)/et|0,D[r]%=et;for(t&&(D.unshift(t),++i),f=D.length;D[--f]==0;)D.pop();return e.d=D,e.e=ur(D,i),ne?j(e,l,c):e};V.precision=V.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dt+e);return n.d?(t=Sn(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};V.round=function(){var e=this,t=e.constructor;return j(new t(e),e.e+1,t.rounding)};V.sine=V.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+te,i.rounding=1,n=lo(i,On(i,n)),i.precision=e,i.rounding=t,j(at>2?n.neg():n,e,t,!0)):new i(NaN)};V.squareRoot=V.sqrt=function(){var e,t,n,i,r,a,f=this,l=f.d,c=f.e,D=f.s,s=f.constructor;if(D!==1||!l||!l[0])return new s(!D||D<0&&(!l||l[0])?NaN:l?f:1/0);for(ne=!1,D=Math.sqrt(+f),D==0||D==1/0?(t=be(l),(t.length+c)%2==0&&(t+="0"),D=Math.sqrt(t),c=Oe((c+1)/2)-(c<0||c%2),D==1/0?t="5e"+c:(t=D.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),i=new s(t)):i=new s(D.toString()),n=(c=s.precision)+3;;)if(a=i,i=a.plus(De(f,a,n+2,1)).times(.5),be(a.d).slice(0,n)===(t=be(i.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!r&&t=="4999"){if(!r&&(j(a,c+1,0),a.times(a).eq(f))){i=a;break}n+=4,r=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(j(i,c+1,1),e=!i.times(i).eq(f));break}return ne=!0,j(i,c,s.rounding,e)};V.tangent=V.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=De(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,j(at==2||at==4?n.neg():n,e,t,!0)):new i(NaN)};V.times=V.mul=function(e){var t,n,i,r,a,f,l,c,D,s=this,u=s.constructor,o=s.d,p=(e=new u(e)).d;if(e.s*=s.s,!o||!o[0]||!p||!p[0])return new u(!e.s||o&&!o[0]&&!p||p&&!p[0]&&!o?NaN:!o||!p?e.s/0:e.s*0);for(n=Oe(s.e/te)+Oe(e.e/te),c=o.length,D=p.length,c<D&&(a=o,o=p,p=a,f=c,c=D,D=f),a=[],f=c+D,i=f;i--;)a.push(0);for(i=D;--i>=0;){for(t=0,r=c+i;r>i;)l=a[r]+p[i]*o[r-i-1]+t,a[r--]=l%et|0,t=l/et|0;a[r]=(a[r]+t)%et|0}for(;!a[--f];)a.pop();return t?++n:a.shift(),e.d=a,e.e=ur(a,n),ne?j(e,u.precision,u.rounding):e};V.toBinary=function(e,t){return Nr(this,2,e,t)};V.toDecimalPlaces=V.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(Ue(e,0,dt),t===void 0?t=i.rounding:Ue(t,0,8),j(n,e+n.e+1,t))};V.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=nt(i,!0):(Ue(e,0,dt),t===void 0?t=r.rounding:Ue(t,0,8),i=j(new r(i),e+1,t),n=nt(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};V.toFixed=function(e,t){var n,i,r=this,a=r.constructor;return e===void 0?n=nt(r):(Ue(e,0,dt),t===void 0?t=a.rounding:Ue(t,0,8),i=j(new a(r),e+r.e+1,t),n=nt(i,!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};V.toFraction=function(e){var t,n,i,r,a,f,l,c,D,s,u,o,p=this,A=p.d,h=p.constructor;if(!A)return new h(p);if(D=n=new h(1),i=c=new h(0),t=new h(i),a=t.e=Sn(A)-p.e-1,f=a%te,t.d[0]=Be(10,f<0?te+f:f),e==null)e=a>0?t:D;else{if(l=new h(e),!l.isInt()||l.lt(D))throw Error(Dt+l);e=l.gt(t)?a>0?t:D:l}for(ne=!1,l=new h(be(A)),s=h.precision,h.precision=a=A.length*te*2;u=De(l,t,0,1,1),r=n.plus(u.times(i)),r.cmp(e)!=1;)n=i,i=r,r=D,D=c.plus(u.times(r)),c=r,r=t,t=l.minus(u.times(r)),l=r;return r=De(e.minus(n),i,0,1,1),c=c.plus(r.times(D)),n=n.plus(r.times(i)),c.s=D.s=p.s,o=De(D,i,a,1).minus(p).abs().cmp(De(c,n,a,1).minus(p).abs())<1?[D,i]:[c,n],h.precision=s,ne=!0,o};V.toHexadecimal=V.toHex=function(e,t){return Nr(this,16,e,t)};V.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:Ue(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ne=!1,n=De(n,e,0,t,1).times(e),ne=!0,j(n)):(e.s=n.s,n=e),n};V.toNumber=function(){return+this};V.toOctal=function(e,t){return Nr(this,8,e,t)};V.toPower=V.pow=function(e){var t,n,i,r,a,f,l=this,c=l.constructor,D=+(e=new c(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new c(Be(+l,D));if(l=new c(l),l.eq(1))return l;if(i=c.precision,a=c.rounding,e.eq(1))return j(l,i,a);if(t=Oe(e.e/te),t>=e.d.length-1&&(n=D<0?-D:D)<=so)return r=xn(c,l,n,i),e.s<0?new c(1).div(r):j(r,i,a);if(f=l.s,f<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(f=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=f,l}return n=Be(+l,D),t=n==0||!isFinite(n)?Oe(D*(Math.log("0."+be(l.d))/Math.LN10+l.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?f/0:0):(ne=!1,c.rounding=l.s=1,n=Math.min(12,(t+"").length),r=Fr(e.times(pt(l,i+n)),i),r.d&&(r=j(r,i+5,1),Ot(r.d,i,a)&&(t=i+10,r=j(Fr(e.times(pt(l,t+n)),t),t+5,1),+be(r.d).slice(i+1,i+15)+1==1e14&&(r=j(r,i+1,0)))),r.s=f,ne=!0,c.rounding=a,j(r,i,a))};V.toPrecision=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=nt(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(Ue(e,1,dt),t===void 0?t=r.rounding:Ue(t,0,8),i=j(new r(i),e,t),n=nt(i,e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};V.toSignificantDigits=V.toSD=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Ue(e,1,dt),t===void 0?t=i.rounding:Ue(t,0,8)),j(new i(n),e,t)};V.toString=function(){var e=this,t=e.constructor,n=nt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};V.truncated=V.trunc=function(){return j(new this.constructor(this),this.e+1,1)};V.valueOf=V.toJSON=function(){var e=this,t=e.constructor,n=nt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function be(e){var t,n,i,r=e.length-1,a="",f=e[0];if(r>0){for(a+=f,t=1;t<r;t++)i=e[t]+"",n=te-i.length,n&&(a+=ht(n)),a+=i;f=e[t],i=f+"",n=te-i.length,n&&(a+=ht(n))}else if(f===0)return"0";for(;f%10===0;)f/=10;return a+f}function Ue(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Dt+e)}function Ot(e,t,n,i){var r,a,f,l;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=te,r=0):(r=Math.ceil((t+1)/te),t%=te),a=Be(10,te-t),l=e[r]%a|0,i==null?t<3?(t==0?l=l/100|0:t==1&&(l=l/10|0),f=n<4&&l==99999||n>3&&l==49999||l==5e4||l==0):f=(n<4&&l+1==a||n>3&&l+1==a/2)&&(e[r+1]/a/100|0)==Be(10,t-2)-1||(l==a/2||l==0)&&(e[r+1]/a/100|0)==0:t<4?(t==0?l=l/1e3|0:t==1?l=l/100|0:t==2&&(l=l/10|0),f=(i||n<4)&&l==9999||!i&&n>3&&l==4999):f=((i||n<4)&&l+1==a||!i&&n>3&&l+1==a/2)&&(e[r+1]/a/1e3|0)==Be(10,t-3)-1,f}function Ut(e,t,n){for(var i,r=[0],a,f=0,l=e.length;f<l;){for(a=r.length;a--;)r[a]*=t;for(r[0]+=Ar.indexOf(e.charAt(f++)),i=0;i<r.length;i++)r[i]>n-1&&(r[i+1]===void 0&&(r[i+1]=0),r[i+1]+=r[i]/n|0,r[i]%=n)}return r.reverse()}function fo(e,t){var n,i,r;if(t.isZero())return t;i=t.d.length,i<32?(n=Math.ceil(i/3),r=(1/or(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=Bt(e,1,t.times(r),new e(1));for(var a=n;a--;){var f=t.times(t);t=f.times(f).minus(f).times(8).plus(1)}return e.precision-=n,t}var De=function(){function e(i,r,a){var f,l=0,c=i.length;for(i=i.slice();c--;)f=i[c]*r+l,i[c]=f%a|0,l=f/a|0;return l&&i.unshift(l),i}function t(i,r,a,f){var l,c;if(a!=f)c=a>f?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=r[l]){c=i[l]>r[l]?1:-1;break}return c}function n(i,r,a,f){for(var l=0;a--;)i[a]-=l,l=i[a]<r[a]?1:0,i[a]=l*f+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,f,l,c){var D,s,u,o,p,A,h,g,w,m,F,O,S,b,I,d,v,y,C,E,N=i.constructor,P=i.s==r.s?1:-1,M=i.d,_=r.d;if(!M||!M[0]||!_||!_[0])return new N(!i.s||!r.s||(M?_&&M[0]==_[0]:!_)?NaN:M&&M[0]==0||!_?P*0:P/0);for(c?(p=1,s=i.e-r.e):(c=et,p=te,s=Oe(i.e/p)-Oe(r.e/p)),C=_.length,v=M.length,w=new N(P),m=w.d=[],u=0;_[u]==(M[u]||0);u++);if(_[u]>(M[u]||0)&&s--,a==null?(b=a=N.precision,f=N.rounding):l?b=a+(i.e-r.e)+1:b=a,b<0)m.push(1),A=!0;else{if(b=b/p+2|0,u=0,C==1){for(o=0,_=_[0],b++;(u<v||o)&&b--;u++)I=o*c+(M[u]||0),m[u]=I/_|0,o=I%_|0;A=o||u<v}else{for(o=c/(_[0]+1)|0,o>1&&(_=e(_,o,c),M=e(M,o,c),C=_.length,v=M.length),d=C,F=M.slice(0,C),O=F.length;O<C;)F[O++]=0;E=_.slice(),E.unshift(0),y=_[0],_[1]>=c/2&&++y;do o=0,D=t(_,F,C,O),D<0?(S=F[0],C!=O&&(S=S*c+(F[1]||0)),o=S/y|0,o>1?(o>=c&&(o=c-1),h=e(_,o,c),g=h.length,O=F.length,D=t(h,F,g,O),D==1&&(o--,n(h,C<g?E:_,g,c))):(o==0&&(D=o=1),h=_.slice()),g=h.length,g<O&&h.unshift(0),n(F,h,O,c),D==-1&&(O=F.length,D=t(_,F,C,O),D<1&&(o++,n(F,C<O?E:_,O,c))),O=F.length):D===0&&(o++,F=[0]),m[u++]=o,D&&F[0]?F[O++]=M[d]||0:(F=[M[d]],O=1);while((d++<v||F[0]!==void 0)&&b--);A=F[0]!==void 0}m[0]||m.shift()}if(p==1)w.e=s,Cn=A;else{for(u=1,o=m[0];o>=10;o/=10)u++;w.e=u+s*p-1,j(w,l?a+w.e+1:a,f,A)}return w}}();function j(e,t,n,i){var r,a,f,l,c,D,s,u,o,p=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(r=1,l=u[0];l>=10;l/=10)r++;if(a=t-r,a<0)a+=te,f=t,s=u[o=0],c=s/Be(10,r-f-1)%10|0;else if(o=Math.ceil((a+1)/te),l=u.length,o>=l)if(i){for(;l++<=o;)u.push(0);s=c=0,r=1,a%=te,f=a-te+1}else break e;else{for(s=l=u[o],r=1;l>=10;l/=10)r++;a%=te,f=a-te+r,c=f<0?0:s/Be(10,r-f-1)%10|0}if(i=i||t<0||u[o+1]!==void 0||(f<0?s:s%Be(10,r-f-1)),D=n<4?(c||i)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||i||n==6&&(a>0?f>0?s/Be(10,r-f):0:u[o-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,D?(t-=e.e+1,u[0]=Be(10,(te-t%te)%te),e.e=-t||0):u[0]=e.e=0,e;if(a==0?(u.length=o,l=1,o--):(u.length=o+1,l=Be(10,te-a),u[o]=f>0?(s/Be(10,r-f)%Be(10,f)|0)*l:0),D)for(;;)if(o==0){for(a=1,f=u[0];f>=10;f/=10)a++;for(f=u[0]+=l,l=1;f>=10;f/=10)l++;a!=l&&(e.e++,u[0]==et&&(u[0]=1));break}else{if(u[o]+=l,u[o]!=et)break;u[o--]=0,l=1}for(a=u.length;u[--a]===0;)u.pop()}return ne&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function nt(e,t,n){if(!e.isFinite())return Tn(e);var i,r=e.e,a=be(e.d),f=a.length;return t?(n&&(i=n-f)>0?a=a.charAt(0)+"."+a.slice(1)+ht(i):f>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):r<0?(a="0."+ht(-r-1)+a,n&&(i=n-f)>0&&(a+=ht(i))):r>=f?(a+=ht(r+1-f),n&&(i=n-r-1)>0&&(a=a+"."+ht(i))):((i=r+1)<f&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-f)>0&&(r+1===f&&(a+="."),a+=ht(i))),a}function ur(e,t){var n=e[0];for(t*=te;n>=10;n/=10)t++;return t}function Kt(e,t,n){if(t>ao)throw ne=!0,n&&(e.precision=n),Error(Bn);return j(new e(Xt),t,1,!0)}function Qe(e,t,n){if(t>Er)throw Error(Bn);return j(new e(Jt),t,n,!0)}function Sn(e){var t=e.length-1,n=t*te+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function ht(e){for(var t="";e--;)t+="0";return t}function xn(e,t,n,i){var r,a=new e(1),f=Math.ceil(i/te+4);for(ne=!1;;){if(n%2&&(a=a.times(t),Vr(a.d,f)&&(r=!0)),n=Oe(n/2),n===0){n=a.d.length-1,r&&a.d[n]===0&&++a.d[n];break}t=t.times(t),Vr(t.d,f)}return ne=!0,a}function kr(e){return e.d[e.d.length-1]&1}function bn(e,t,n){for(var i,r=new e(t[0]),a=0;++a<t.length;)if(i=new e(t[a]),i.s)r[n](i)&&(r=i);else{r=i;break}return r}function Fr(e,t){var n,i,r,a,f,l,c,D=0,s=0,u=0,o=e.constructor,p=o.rounding,A=o.precision;if(!e.d||!e.d[0]||e.e>17)return new o(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(ne=!1,c=A):c=t,l=new o(.03125);e.e>-2;)e=e.times(l),u+=5;for(i=Math.log(Be(2,u))/Math.LN10*2+5|0,c+=i,n=a=f=new o(1),o.precision=c;;){if(a=j(a.times(e),c,1),n=n.times(++s),l=f.plus(De(a,n,c,1)),be(l.d).slice(0,c)===be(f.d).slice(0,c)){for(r=u;r--;)f=j(f.times(f),c,1);if(t==null)if(D<3&&Ot(f.d,c-i,p,D))o.precision=c+=10,n=a=l=new o(1),s=0,D++;else return j(f,o.precision=A,p,ne=!0);else return o.precision=A,f}f=l}}function pt(e,t){var n,i,r,a,f,l,c,D,s,u,o,p=1,A=10,h=e,g=h.d,w=h.constructor,m=w.rounding,F=w.precision;if(h.s<0||!g||!g[0]||!h.e&&g[0]==1&&g.length==1)return new w(g&&!g[0]?-1/0:h.s!=1?NaN:g?0:h);if(t==null?(ne=!1,s=F):s=t,w.precision=s+=A,n=be(g),i=n.charAt(0),Math.abs(a=h.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)h=h.times(e),n=be(h.d),i=n.charAt(0),p++;a=h.e,i>1?(h=new w("0."+n),a++):h=new w(i+"."+n.slice(1))}else return D=Kt(w,s+2,F).times(a+""),h=pt(new w(i+"."+n.slice(1)),s-A).plus(D),w.precision=F,t==null?j(h,F,m,ne=!0):h;for(u=h,c=f=h=De(h.minus(1),h.plus(1),s,1),o=j(h.times(h),s,1),r=3;;){if(f=j(f.times(o),s,1),D=c.plus(De(f,new w(r),s,1)),be(D.d).slice(0,s)===be(c.d).slice(0,s))if(c=c.times(2),a!==0&&(c=c.plus(Kt(w,s+2,F).times(a+""))),c=De(c,new w(p),s,1),t==null)if(Ot(c.d,s-A,m,l))w.precision=s+=A,D=f=h=De(u.minus(1),u.plus(1),s,1),o=j(h.times(h),s,1),r=l=1;else return j(c,w.precision=F,m,ne=!0);else return w.precision=F,c;c=D,r+=2}}function Tn(e){return String(e.s*e.s/0)}function Cr(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;i++);for(r=t.length;t.charCodeAt(r-1)===48;--r);if(t=t.slice(i,r),t){if(r-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%te,n<0&&(i+=te),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=te;i<r;)e.d.push(+t.slice(i,i+=te));t=t.slice(i),i=te-t.length}else i-=r;for(;i--;)t+="0";e.d.push(+t),ne&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function co(e,t){var n,i,r,a,f,l,c,D,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Nn.test(t))return Cr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(uo.test(t))n=16,t=t.toLowerCase();else if(io.test(t))n=2;else if(oo.test(t))n=8;else throw Error(Dt+t);for(a=t.search(/p/i),a>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),f=a>=0,i=e.constructor,f&&(t=t.replace(".",""),l=t.length,a=l-a,r=xn(i,new i(n),a,a*2)),D=Ut(t,n,et),s=D.length-1,a=s;D[a]===0;--a)D.pop();return a<0?new i(e.s*0):(e.e=ur(D,s),e.d=D,ne=!1,f&&(e=De(e,r,l*4)),c&&(e=e.times(Math.abs(c)<54?Be(2,c):_t.pow(2,c))),ne=!0,e)}function lo(e,t){var n,i=t.d.length;if(i<3)return t.isZero()?t:Bt(e,2,t,t);n=1.4*Math.sqrt(i),n=n>16?16:n|0,t=t.times(1/or(5,n)),t=Bt(e,2,t,t);for(var r,a=new e(5),f=new e(16),l=new e(20);n--;)r=t.times(t),t=t.times(a.plus(r.times(f.times(r).minus(l))));return t}function Bt(e,t,n,i,r){var a,f,l,c,D=e.precision,s=Math.ceil(D/te);for(ne=!1,c=n.times(n),l=new e(i);;){if(f=De(l.times(c),new e(t++*t++),D,1),l=r?i.plus(f):i.minus(f),i=De(f.times(c),new e(t++*t++),D,1),f=l.plus(i),f.d[s]!==void 0){for(a=s;f.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=i,i=f,f=a}return ne=!0,f.d.length=s+1,f}function or(e,t){for(var n=e;--t;)n*=e;return n}function On(e,t){var n,i=t.s<0,r=Qe(e,e.precision,1),a=r.times(.5);if(t=t.abs(),t.lte(a))return at=i?4:1,t;if(n=t.divToInt(r),n.isZero())at=i?3:2;else{if(t=t.minus(n.times(r)),t.lte(a))return at=kr(n)?i?2:3:i?4:1,t;at=kr(n)?i?1:4:i?3:2}return t.minus(r).abs()}function Nr(e,t,n,i){var r,a,f,l,c,D,s,u,o,p=e.constructor,A=n!==void 0;if(A?(Ue(n,1,dt),i===void 0?i=p.rounding:Ue(i,0,8)):(n=p.precision,i=p.rounding),!e.isFinite())s=Tn(e);else{for(s=nt(e),f=s.indexOf("."),A?(r=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):r=t,f>=0&&(s=s.replace(".",""),o=new p(1),o.e=s.length-f,o.d=Ut(nt(o),10,r),o.e=o.d.length),u=Ut(s,10,r),a=c=u.length;u[--c]==0;)u.pop();if(!u[0])s=A?"0p+0":"0";else{if(f<0?a--:(e=new p(e),e.d=u,e.e=a,e=De(e,o,n,i,0,r),u=e.d,a=e.e,D=Cn),f=u[n],l=r/2,D=D||u[n+1]!==void 0,D=i<4?(f!==void 0||D)&&(i===0||i===(e.s<0?3:2)):f>l||f===l&&(i===4||D||i===6&&u[n-1]&1||i===(e.s<0?8:7)),u.length=n,D)for(;++u[--n]>r-1;)u[n]=0,n||(++a,u.unshift(1));for(c=u.length;!u[c-1];--c);for(f=0,s="";f<c;f++)s+=Ar.charAt(u[f]);if(A){if(c>1)if(t==16||t==8){for(f=t==16?4:3,--c;c%f;c++)s+="0";for(u=Ut(s,r,t),c=u.length;!u[c-1];--c);for(f=1,s="1.";f<c;f++)s+=Ar.charAt(u[f])}else s=s.charAt(0)+"."+s.slice(1);s=s+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)s="0"+s;s="0."+s}else if(++a>c)for(a-=c;a--;)s+="0";else a<c&&(s=s.slice(0,a)+"."+s.slice(a))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function Vr(e,t){if(e.length>t)return e.length=t,!0}function ho(e){return new this(e).abs()}function po(e){return new this(e).acos()}function Do(e){return new this(e).acosh()}function vo(e,t){return new this(e).plus(t)}function wo(e){return new this(e).asin()}function go(e){return new this(e).asinh()}function mo(e){return new this(e).atan()}function Ao(e){return new this(e).atanh()}function yo(e,t){e=new this(e),t=new this(t);var n,i=this.precision,r=this.rounding,a=i+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Qe(this,a,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Qe(this,i,r):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Qe(this,a,1).times(.5),n.s=e.s):t.s<0?(this.precision=a,this.rounding=1,n=this.atan(De(e,t,a,1)),t=Qe(this,a,1),this.precision=i,this.rounding=r,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(De(e,t,a,1)),n}function Eo(e){return new this(e).cbrt()}function Fo(e){return j(e=new this(e),e.e+1,2)}function Co(e,t,n){return new this(e).clamp(t,n)}function Bo(e){if(!e||typeof e!="object")throw Error(ir+"Object expected");var t,n,i,r=e.defaults===!0,a=["precision",1,dt,"rounding",0,8,"toExpNeg",-Et,0,"toExpPos",0,Et,"maxE",0,Et,"minE",-Et,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],r&&(this[n]=yr[n]),(i=e[n])!==void 0)if(Oe(i)===i&&i>=a[t+1]&&i<=a[t+2])this[n]=i;else throw Error(Dt+n+": "+i);if(n="crypto",r&&(this[n]=yr[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(_n);else this[n]=!1;else throw Error(Dt+n+": "+i);return this}function _o(e){return new this(e).cos()}function Mo(e){return new this(e).cosh()}function In(e){var t,n,i;function r(a){var f,l,c,D=this;if(!(D instanceof r))return new r(a);if(D.constructor=r,Zr(a)){D.s=a.s,ne?!a.d||a.e>r.maxE?(D.e=NaN,D.d=null):a.e<r.minE?(D.e=0,D.d=[0]):(D.e=a.e,D.d=a.d.slice()):(D.e=a.e,D.d=a.d?a.d.slice():a.d);return}if(c=typeof a,c==="number"){if(a===0){D.s=1/a<0?-1:1,D.e=0,D.d=[0];return}if(a<0?(a=-a,D.s=-1):D.s=1,a===~~a&&a<1e7){for(f=0,l=a;l>=10;l/=10)f++;ne?f>r.maxE?(D.e=NaN,D.d=null):f<r.minE?(D.e=0,D.d=[0]):(D.e=f,D.d=[a]):(D.e=f,D.d=[a]);return}else if(a*0!==0){a||(D.s=NaN),D.e=NaN,D.d=null;return}return Cr(D,a.toString())}else if(c!=="string")throw Error(Dt+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),D.s=-1):(l===43&&(a=a.slice(1)),D.s=1),Nn.test(a)?Cr(D,a):co(D,a)}if(r.prototype=V,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=Bo,r.clone=In,r.isDecimal=Zr,r.abs=ho,r.acos=po,r.acosh=Do,r.add=vo,r.asin=wo,r.asinh=go,r.atan=mo,r.atanh=Ao,r.atan2=yo,r.cbrt=Eo,r.ceil=Fo,r.clamp=Co,r.cos=_o,r.cosh=Mo,r.div=No,r.exp=So,r.floor=xo,r.hypot=bo,r.ln=To,r.log=Oo,r.log10=Po,r.log2=Io,r.max=Ro,r.min=zo,r.mod=$o,r.mul=Lo,r.pow=qo,r.random=Uo,r.round=ko,r.sign=Vo,r.sin=Zo,r.sinh=Go,r.sqrt=Ho,r.sub=Wo,r.sum=Yo,r.tan=Xo,r.tanh=Jo,r.trunc=Ko,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}function No(e,t){return new this(e).div(t)}function So(e){return new this(e).exp()}function xo(e){return j(e=new this(e),e.e+1,3)}function bo(){var e,t,n=new this(0);for(ne=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ne=!0,new this(1/0);n=t}return ne=!0,n.sqrt()}function Zr(e){return e instanceof _t||e&&e.toStringTag===Mn||!1}function To(e){return new this(e).ln()}function Oo(e,t){return new this(e).log(t)}function Io(e){return new this(e).log(2)}function Po(e){return new this(e).log(10)}function Ro(){return bn(this,arguments,"lt")}function zo(){return bn(this,arguments,"gt")}function $o(e,t){return new this(e).mod(t)}function Lo(e,t){return new this(e).mul(t)}function qo(e,t){return new this(e).pow(t)}function Uo(e){var t,n,i,r,a=0,f=new this(1),l=[];if(e===void 0?e=this.precision:Ue(e,1,dt),i=Math.ceil(e/te),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)r=t[a],r>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=r%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)r=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(t,a):(l.push(r%1e7),a+=4);a=i/4}else throw Error(_n);else for(;a<i;)l[a++]=Math.random()*1e7|0;for(i=l[--a],e%=te,i&&e&&(r=Be(10,te-e),l[a]=(i/r|0)*r);l[a]===0;a--)l.pop();if(a<0)n=0,l=[0];else{for(n=-1;l[0]===0;n-=te)l.shift();for(i=1,r=l[0];r>=10;r/=10)i++;i<te&&(n-=te-i)}return f.e=n,f.d=l,f}function ko(e){return j(e=new this(e),e.e+1,this.rounding)}function Vo(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Zo(e){return new this(e).sin()}function Go(e){return new this(e).sinh()}function Ho(e){return new this(e).sqrt()}function Wo(e,t){return new this(e).sub(t)}function Yo(){var e=0,t=arguments,n=new this(t[e]);for(ne=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return ne=!0,j(n,this.precision,this.rounding)}function Xo(e){return new this(e).tan()}function Jo(e){return new this(e).tanh()}function Ko(e){return j(e=new this(e),e.e+1,1)}V[Symbol.for("nodejs.util.inspect.custom")]=V.toString;V[Symbol.toStringTag]="Decimal";var _t=V.constructor=In(yr);Xt=new _t(Xt);Jt=new _t(Jt);var Qo="BigNumber",jo=["?on","config"],es=_e(Qo,jo,e=>{var{on:t,config:n}=e,i=_t.clone({precision:n.precision,modulo:_t.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(r){return new i(r.value)},t&&t("config",function(r,a){r.precision!==a.precision&&i.config({precision:r.precision})}),i},{isClass:!0}),Pn={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var i=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},r=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var o=Math.PI/4;if(-o>u||u>o)return Math.cos(u)-1;var p=u*u;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},f=function(u,o){var p=Math.abs(u),A=Math.abs(o);return p<3e3&&A<3e3?Math.sqrt(p*p+A*A):(p<A?(p=A,A=u/o):A=o/u,p*Math.sqrt(1+A*A))},l=function(){throw SyntaxError("Invalid Param")};function c(u,o){var p=Math.abs(u),A=Math.abs(o);return u===0?Math.log(A):o===0?Math.log(p):p<3e3&&A<3e3?Math.log(u*u+o*o)*.5:(u=u/2,o=o/2,.5*Math.log(u*u+o*o)+Math.LN2)}var D=function(u,o){var p={re:0,im:0};if(u==null)p.re=p.im=0;else if(o!==void 0)p.re=u,p.im=o;else switch(typeof u){case"object":if("im"in u&&"re"in u)p.re=u.re,p.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return s.INFINITY;p.re=u.abs*Math.cos(u.arg),p.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return s.INFINITY;p.re=u.r*Math.cos(u.phi),p.im=u.r*Math.sin(u.phi)}else u.length===2?(p.re=u[0],p.im=u[1]):l();break;case"string":p.im=p.re=0;var A=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,g=0;A===null&&l();for(var w=0;w<A.length;w++){var m=A[w];m===" "||m==="	"||m===`
`||(m==="+"?h++:m==="-"?g++:m==="i"||m==="I"?(h+g===0&&l(),A[w+1]!==" "&&!isNaN(A[w+1])?(p.im+=parseFloat((g%2?"-":"")+A[w+1]),w++):p.im+=parseFloat((g%2?"-":"")+"1"),h=g=0):((h+g===0||isNaN(m))&&l(),A[w+1]==="i"||A[w+1]==="I"?(p.im+=parseFloat((g%2?"-":"")+m),w++):p.re+=parseFloat((g%2?"-":"")+m),h=g=0))}h+g>0&&l();break;case"number":p.im=0,p.re=u;break;default:l()}return isNaN(p.re)||isNaN(p.im),p};function s(u,o){if(!(this instanceof s))return new s(u,o);var p=D(u,o);this.re=p.re,this.im=p.im}s.prototype={re:0,im:0,sign:function(){var u=this.abs();return new s(this.re/u,this.im/u)},add:function(u,o){var p=new s(u,o);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re+p.re,this.im+p.im)},sub:function(u,o){var p=new s(u,o);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re-p.re,this.im-p.im)},mul:function(u,o){var p=new s(u,o);return this.isInfinite()&&p.isZero()||this.isZero()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:p.im===0&&this.im===0?new s(this.re*p.re,0):new s(this.re*p.re-this.im*p.im,this.re*p.im+this.im*p.re)},div:function(u,o){var p=new s(u,o);if(this.isZero()&&p.isZero()||this.isInfinite()&&p.isInfinite())return s.NAN;if(this.isInfinite()||p.isZero())return s.INFINITY;if(this.isZero()||p.isInfinite())return s.ZERO;u=this.re,o=this.im;var A=p.re,h=p.im,g,w;return h===0?new s(u/A,o/A):Math.abs(A)<Math.abs(h)?(w=A/h,g=A*w+h,new s((u*w+o)/g,(o*w-u)/g)):(w=h/A,g=h*w+A,new s((u+o*w)/g,(o-u*w)/g))},pow:function(u,o){var p=new s(u,o);if(u=this.re,o=this.im,p.isZero())return s.ONE;if(p.im===0){if(o===0&&u>0)return new s(Math.pow(u,p.re),0);if(u===0)switch((p.re%4+4)%4){case 0:return new s(Math.pow(o,p.re),0);case 1:return new s(0,Math.pow(o,p.re));case 2:return new s(-Math.pow(o,p.re),0);case 3:return new s(0,-Math.pow(o,p.re))}}if(u===0&&o===0&&p.re>0&&p.im>=0)return s.ZERO;var A=Math.atan2(o,u),h=c(u,o);return u=Math.exp(p.re*h-p.im*A),o=p.im*h+p.re*A,new s(u*Math.cos(o),u*Math.sin(o))},sqrt:function(){var u=this.re,o=this.im,p=this.abs(),A,h;if(u>=0){if(o===0)return new s(Math.sqrt(u),0);A=.5*Math.sqrt(2*(p+u))}else A=Math.abs(o)/Math.sqrt(2*(p-u));return u<=0?h=.5*Math.sqrt(2*(p-u)):h=Math.abs(o)/Math.sqrt(2*(p+u)),new s(A,o<0?-h:h)},exp:function(){var u=Math.exp(this.re);return this.im,new s(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,o=this.im;return new s(Math.expm1(u)*Math.cos(o)+a(o),Math.exp(u)*Math.sin(o))},log:function(){var u=this.re,o=this.im;return new s(c(u,o),Math.atan2(o,u))},abs:function(){return f(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,o=this.im;return new s(Math.sin(u)*i(o),Math.cos(u)*r(o))},cos:function(){var u=this.re,o=this.im;return new s(Math.cos(u)*i(o),-Math.sin(u)*r(o))},tan:function(){var u=2*this.re,o=2*this.im,p=Math.cos(u)+i(o);return new s(Math.sin(u)/p,r(o)/p)},cot:function(){var u=2*this.re,o=2*this.im,p=Math.cos(u)-i(o);return new s(-Math.sin(u)/p,r(o)/p)},sec:function(){var u=this.re,o=this.im,p=.5*i(2*o)+.5*Math.cos(2*u);return new s(Math.cos(u)*i(o)/p,Math.sin(u)*r(o)/p)},csc:function(){var u=this.re,o=this.im,p=.5*i(2*o)-.5*Math.cos(2*u);return new s(Math.sin(u)*i(o)/p,-Math.cos(u)*r(o)/p)},asin:function(){var u=this.re,o=this.im,p=new s(o*o-u*u+1,-2*u*o).sqrt(),A=new s(p.re-o,p.im+u).log();return new s(A.im,-A.re)},acos:function(){var u=this.re,o=this.im,p=new s(o*o-u*u+1,-2*u*o).sqrt(),A=new s(p.re-o,p.im+u).log();return new s(Math.PI/2-A.im,A.re)},atan:function(){var u=this.re,o=this.im;if(u===0){if(o===1)return new s(0,1/0);if(o===-1)return new s(0,-1/0)}var p=u*u+(1-o)*(1-o),A=new s((1-o*o-u*u)/p,-2*u/p).log();return new s(-.5*A.im,.5*A.re)},acot:function(){var u=this.re,o=this.im;if(o===0)return new s(Math.atan2(1,u),0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).atan():new s(u!==0?u/0:0,o!==0?-o/0:0).atan()},asec:function(){var u=this.re,o=this.im;if(u===0&&o===0)return new s(0,1/0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).acos():new s(u!==0?u/0:0,o!==0?-o/0:0).acos()},acsc:function(){var u=this.re,o=this.im;if(u===0&&o===0)return new s(Math.PI/2,1/0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).asin():new s(u!==0?u/0:0,o!==0?-o/0:0).asin()},sinh:function(){var u=this.re,o=this.im;return new s(r(u)*Math.cos(o),i(u)*Math.sin(o))},cosh:function(){var u=this.re,o=this.im;return new s(i(u)*Math.cos(o),r(u)*Math.sin(o))},tanh:function(){var u=2*this.re,o=2*this.im,p=i(u)+Math.cos(o);return new s(r(u)/p,Math.sin(o)/p)},coth:function(){var u=2*this.re,o=2*this.im,p=i(u)-Math.cos(o);return new s(r(u)/p,-Math.sin(o)/p)},csch:function(){var u=this.re,o=this.im,p=Math.cos(2*o)-i(2*u);return new s(-2*r(u)*Math.cos(o)/p,2*i(u)*Math.sin(o)/p)},sech:function(){var u=this.re,o=this.im,p=Math.cos(2*o)+i(2*u);return new s(2*i(u)*Math.cos(o)/p,-2*r(u)*Math.sin(o)/p)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var o=this.asin();return this.re=-this.im,this.im=u,u=o.re,o.re=-o.im,o.im=u,o},acosh:function(){var u=this.acos();if(u.im<=0){var o=u.re;u.re=-u.im,u.im=o}else{var o=u.im;u.im=-u.re,u.re=o}return u},atanh:function(){var u=this.re,o=this.im,p=u>1&&o===0,A=1-u,h=1+u,g=A*A+o*o,w=g!==0?new s((h*A-o*o)/g,(o*A+h*o)/g):new s(u!==-1?u/0:0,o!==0?o/0:0),m=w.re;return w.re=c(w.re,w.im)/2,w.im=Math.atan2(w.im,m)/2,p&&(w.im=-w.im),w},acoth:function(){var u=this.re,o=this.im;if(u===0&&o===0)return new s(0,Math.PI/2);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).atanh():new s(u!==0?u/0:0,o!==0?-o/0:0).atanh()},acsch:function(){var u=this.re,o=this.im;if(o===0)return new s(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).asinh():new s(u!==0?u/0:0,o!==0?-o/0:0).asinh()},asech:function(){var u=this.re,o=this.im;if(this.isZero())return s.INFINITY;var p=u*u+o*o;return p!==0?new s(u/p,-o/p).acosh():new s(u!==0?u/0:0,o!==0?-o/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var u=this.re,o=this.im,p=u*u+o*o;return new s(u/p,-o/p)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new s(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new s(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new s(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,o){var p=new s(u,o);return Math.abs(p.re-this.re)<=s.EPSILON&&Math.abs(p.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var u=this.re,o=this.im,p="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<s.EPSILON&&(u=0),Math.abs(o)<s.EPSILON&&(o=0),o===0?p+u:(u!==0?(p+=u,p+=" ",o<0?(o=-o,p+="-"):p+="+",p+=" "):o<0&&(o=-o,p+="-"),o!==1&&(p+=o),p+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s})()})(Pn);var ts=Pn.exports;const Ne=er(ts);var rs="Complex",ns=[],is=_e(rs,ns,()=>(Object.defineProperty(Ne,"name",{value:"Complex"}),Ne.prototype.constructor=Ne,Ne.prototype.type="Complex",Ne.prototype.isComplex=!0,Ne.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ne.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ne.prototype.format=function(e){var t="",n=this.im,i=this.re,r=gr(this.re,e),a=gr(this.im,e),f=ye(e)?e:e?e.precision:null;if(f!==null){var l=Math.pow(10,-f);Math.abs(i/n)<l&&(i=0),Math.abs(n/i)<l&&(n=0)}return n===0?t=r:i===0?n===1?t="i":n===-1?t="-i":t=a+"i":n<0?n===-1?t=r+" - i":t=r+" - "+a.substring(1)+"i":n===1?t=r+" + i":t=r+" + "+a+"i",t},Ne.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Ne(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],i=arguments[1];if(ye(n)){if(fn(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),ye(i))return new Ne({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ne.prototype.valueOf=Ne.prototype.toString,Ne.fromJSON=function(e){return new Ne(e)},Ne.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Ne),{isClass:!0}),Rn={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var i=2e3,r={s:1,n:0,d:1};function a(w,m){if(isNaN(w=parseInt(w,10)))throw h();return w*m}function f(w,m){if(m===0)throw A();var F=Object.create(p.prototype);F.s=w<0?-1:1,w=w<0?-w:w;var O=o(w,m);return F.n=w/O,F.d=m/O,F}function l(w){for(var m={},F=w,O=2,S=4;S<=F;){for(;F%O===0;)F/=O,m[O]=(m[O]||0)+1;S+=1+2*O++}return F!==w?F>1&&(m[F]=(m[F]||0)+1):m[w]=(m[w]||0)+1,m}var c=function(w,m){var F=0,O=1,S=1,b=0,I=0,d=0,v=1,y=1,C=0,E=1,N=1,P=1,M=1e7,_;if(w!=null)if(m!==void 0){if(F=w,O=m,S=F*O,F%1!==0||O%1!==0)throw g()}else switch(typeof w){case"object":{if("d"in w&&"n"in w)F=w.n,O=w.d,"s"in w&&(F*=w.s);else if(0 in w)F=w[0],1 in w&&(O=w[1]);else throw h();S=F*O;break}case"number":{if(w<0&&(S=w,w=-w),w%1===0)F=w;else if(w>0){for(w>=1&&(y=Math.pow(10,Math.floor(1+Math.log(w)/Math.LN10)),w/=y);E<=M&&P<=M;)if(_=(C+N)/(E+P),w===_){E+P<=M?(F=C+N,O=E+P):P>E?(F=N,O=P):(F=C,O=E);break}else w>_?(C+=N,E+=P):(N+=C,P+=E),E>M?(F=N,O=P):(F=C,O=E);F*=y}else(isNaN(w)||isNaN(m))&&(O=F=NaN);break}case"string":{if(E=w.match(/\d+|./g),E===null)throw h();if(E[C]==="-"?(S=-1,C++):E[C]==="+"&&C++,E.length===C+1?I=a(E[C++],S):E[C+1]==="."||E[C]==="."?(E[C]!=="."&&(b=a(E[C++],S)),C++,(C+1===E.length||E[C+1]==="("&&E[C+3]===")"||E[C+1]==="'"&&E[C+3]==="'")&&(I=a(E[C],S),v=Math.pow(10,E[C].length),C++),(E[C]==="("&&E[C+2]===")"||E[C]==="'"&&E[C+2]==="'")&&(d=a(E[C+1],S),y=Math.pow(10,E[C+1].length)-1,C+=3)):E[C+1]==="/"||E[C+1]===":"?(I=a(E[C],S),v=a(E[C+2],1),C+=3):E[C+3]==="/"&&E[C+1]===" "&&(b=a(E[C],S),I=a(E[C+2],S),v=a(E[C+4],1),C+=5),E.length<=C){O=v*y,S=F=d+O*b+y*I;break}}default:throw h()}if(O===0)throw A();r.s=S<0?-1:1,r.n=Math.abs(F),r.d=Math.abs(O)};function D(w,m,F){for(var O=1;m>0;w=w*w%F,m>>=1)m&1&&(O=O*w%F);return O}function s(w,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var F=10%m,O=1;F!==1;O++)if(F=F*10%m,O>i)return 0;return O}function u(w,m,F){for(var O=1,S=D(10,F,m),b=0;b<300;b++){if(O===S)return b;O=O*10%m,S=S*10%m}return 0}function o(w,m){if(!w)return m;if(!m)return w;for(;;){if(w%=m,!w)return m;if(m%=w,!m)return w}}function p(w,m){if(c(w,m),this instanceof p)w=o(r.d,r.n),this.s=r.s,this.n=r.n/w,this.d=r.d/w;else return f(r.s*r.n,r.d)}var A=function(){return new Error("Division by Zero")},h=function(){return new Error("Invalid argument")},g=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return f(this.n,this.d)},neg:function(){return f(-this.s*this.n,this.d)},add:function(w,m){return c(w,m),f(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(w,m){return c(w,m),f(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(w,m){return c(w,m),f(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(w,m){return c(w,m),f(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return f(this.s*this.n,this.d)},mod:function(w,m){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(w===void 0)return f(this.s*this.n%this.d,1);if(c(w,m),r.n===0&&this.d===0)throw A();return f(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(w,m){return c(w,m),f(o(r.n,this.n)*o(r.d,this.d),r.d*this.d)},lcm:function(w,m){return c(w,m),r.n===0&&this.n===0?f(0,1):f(r.n*this.n,o(r.n,this.n)*o(r.d,this.d))},ceil:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.ceil(w*this.s*this.n/this.d),w)},floor:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.floor(w*this.s*this.n/this.d),w)},round:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.round(w*this.s*this.n/this.d),w)},inverse:function(){return f(this.s*this.d,this.n)},pow:function(w,m){if(c(w,m),r.d===1)return r.s<0?f(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):f(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var F=l(this.n),O=l(this.d),S=1,b=1;for(var I in F)if(I!=="1"){if(I==="0"){S=0;break}if(F[I]*=r.n,F[I]%r.d===0)F[I]/=r.d;else return null;S*=Math.pow(I,F[I])}for(var I in O)if(I!=="1"){if(O[I]*=r.n,O[I]%r.d===0)O[I]/=r.d;else return null;b*=Math.pow(I,O[I])}return r.s<0?f(b,S):f(S,b)},equals:function(w,m){return c(w,m),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(w,m){c(w,m);var F=this.s*this.n*r.d-r.s*r.n*this.d;return(0<F)-(F<0)},simplify:function(w){if(isNaN(this.n)||isNaN(this.d))return this;w=w||.001;for(var m=this.abs(),F=m.toContinued(),O=1;O<F.length;O++){for(var S=f(F[O-1],1),b=O-2;b>=0;b--)S=S.inverse().add(F[b]);if(Math.abs(S.sub(m).valueOf())<w)return S.mul(this.s)}return this},divisible:function(w,m){return c(w,m),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(w){var m,F="",O=this.n,S=this.d;return this.s<0&&(F+="-"),S===1?F+=O:(w&&(m=Math.floor(O/S))>0&&(F+=m,F+=" ",O%=S),F+=O,F+="/",F+=S),F},toLatex:function(w){var m,F="",O=this.n,S=this.d;return this.s<0&&(F+="-"),S===1?F+=O:(w&&(m=Math.floor(O/S))>0&&(F+=m,O%=S),F+="\\frac{",F+=O,F+="}{",F+=S,F+="}"),F},toContinued:function(){var w,m=this.n,F=this.d,O=[];if(isNaN(m)||isNaN(F))return O;do O.push(Math.floor(m/F)),w=m%F,m=F,F=w;while(m!==1);return O},toString:function(w){var m=this.n,F=this.d;if(isNaN(m)||isNaN(F))return"NaN";w=w||15;var O=s(m,F),S=u(m,F,O),b=this.s<0?"-":"";if(b+=m/F|0,m%=F,m*=10,m&&(b+="."),O){for(var I=S;I--;)b+=m/F|0,m%=F,m*=10;b+="(";for(var I=O;I--;)b+=m/F|0,m%=F,m*=10;b+=")"}else for(var I=w;m&&I--;)b+=m/F|0,m%=F,m*=10;return b}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,e.exports=p})()})(Rn);var us=Rn.exports;const ot=er(us);var os="Fraction",ss=[],as=_e(os,ss,()=>(Object.defineProperty(ot,"name",{value:"Fraction"}),ot.prototype.constructor=ot,ot.prototype.type="Fraction",ot.prototype.isFraction=!0,ot.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ot.fromJSON=function(e){return new ot(e)},ot),{isClass:!0}),fs="Matrix",cs=[],ls=_e(fs,cs,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function zn(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var i=(n.match(/,/g)||[]).length+1;return Math.max(t,i)},-1)}var hs="DenseMatrix",ps=["Matrix"],Ds=_e(hs,ps,e=>{var{Matrix:t}=e;function n(s,u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!rt(u))throw new Error("Invalid datatype: "+u);if(Re(s))s.type==="DenseMatrix"?(this._data=Se(s._data),this._size=Se(s._size),this._datatype=u||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=u||s._datatype);else if(s&&me(s.data)&&me(s.size))this._data=s.data,this._size=s.size,Lr(this._data,this._size),this._datatype=u||s.datatype;else if(me(s))this._data=D(s),this._size=je(this._data),Lr(this._data,this._size),this._datatype=u;else{if(s)throw new TypeError("Unsupported type of data ("+Tt(s)+")");this._data=[],this._size=[0],this._datatype=u}}n.prototype=new t,n.prototype.createDenseMatrix=function(s,u){return new n(s,u)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Yt(this._data,Tt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,u){return new n(s,u)},n.prototype.subset=function(s,u,o){switch(arguments.length){case 1:return i(this,s);case 2:case 3:return a(this,s,u,o);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(s){if(!me(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new we(s.length,this._size.length);for(var u=0;u<s.length;u++)Ae(s[u],this._size[u]);for(var o=this._data,p=0,A=s.length;p<A;p++){var h=s[p];Ae(h,o.length),o=o[h]}return o},n.prototype.set=function(s,u,o){if(!me(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new we(s.length,this._size.length,"<");var p,A,h,g=s.map(function(m){return m+1});c(this,g,o);var w=this._data;for(p=0,A=s.length-1;p<A;p++)h=s[p],Ae(h,w.length),w=w[h];return h=s[s.length-1],Ae(h,w.length),w[h]=u,this};function i(s,u){if(!_r(u))throw new TypeError("Invalid index");var o=u.isScalar();if(o)return s.get(u.min());var p=u.size();if(p.length!==s._size.length)throw new we(p.length,s._size.length);for(var A=u.min(),h=u.max(),g=0,w=s._size.length;g<w;g++)Ae(A[g],s._size[g]),Ae(h[g],s._size[g]);return new n(r(s._data,u,p.length,0),s._datatype)}function r(s,u,o,p){var A=p===o-1,h=u.dimension(p);return A?h.map(function(g){return Ae(g,s.length),s[g]}).valueOf():h.map(function(g){Ae(g,s.length);var w=s[g];return r(w,u,o,p+1)}).valueOf()}function a(s,u,o,p){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var A=u.size(),h=u.isScalar(),g;if(Re(o)?(g=o.size(),o=o.valueOf()):g=je(o),h){if(g.length!==0)throw new TypeError("Scalar expected");s.set(u.min(),o,p)}else{if(!Ct(g,A))try{g.length===0?o=Ur([o],A):o=Ur(o,A),g=je(o)}catch{}if(A.length<s._size.length)throw new we(A.length,s._size.length,"<");if(g.length<A.length){for(var w=0,m=0;A[w]===1&&g[w]===1;)w++;for(;A[w]===1;)m++,w++;o=wn(o,A.length,m,g)}if(!Ct(A,g))throw new we(A,g,">");var F=u.max().map(function(b){return b+1});c(s,F,p);var O=A.length,S=0;f(s._data,u,o,O,S)}return s}function f(s,u,o,p,A){var h=A===p-1,g=u.dimension(A);h?g.forEach(function(w,m){Ae(w),s[w]=o[m[0]]}):g.forEach(function(w,m){Ae(w),f(s[w],u,o[m[0]],p,A+1)})}n.prototype.resize=function(s,u,o){if(!Gt(s))throw new TypeError("Array or Matrix expected");var p=s.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),A=o?this.clone():this;return l(A,p,u)};function l(s,u,o){if(u.length===0){for(var p=s._data;me(p);)p=p[0];return p}return s._size=u.slice(0),s._data=qr(s._data,s._size,o),s}n.prototype.reshape=function(s,u){var o=u?this.clone():this;o._data=dn(o._data,s);var p=o._size.reduce((A,h)=>A*h);return o._size=Mr(s,p),o};function c(s,u,o){for(var p=s._size.slice(0),A=!1;p.length<u.length;)p.push(0),A=!0;for(var h=0,g=u.length;h<g;h++)u[h]>p[h]&&(p[h]=u[h],A=!0);A&&l(s,p,o)}n.prototype.clone=function(){var s=new n({data:Se(this._data),size:Se(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s){var u=this,o=zn(s),p=function g(w,m){return me(w)?w.map(function(F,O){return g(F,m.concat(O))}):o===1?s(w):o===2?s(w,m):s(w,m,u)},A=p(this._data,[]),h=this._datatype!==void 0?Yt(A,Tt):void 0;return new n(A,h)},n.prototype.forEach=function(s){var u=this,o=function p(A,h){me(A)?A.forEach(function(g,w){p(g,h.concat(w))}):s(A,h,u)};o(this._data,[])},n.prototype[Symbol.iterator]=function*(){var s=function*u(o,p){if(me(o))for(var A=0;A<o.length;A++)yield*u(o[A],p.concat(A));else yield{value:o,index:p}};yield*s(this._data,[])},n.prototype.rows=function(){var s=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var o=this._data;for(var p of o)s.push(new n([p],this._datatype));return s},n.prototype.columns=function(){var s=this,u=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,A=function(w){var m=p.map(F=>[F[w]]);u.push(new n(m,s._datatype))},h=0;h<o[1];h++)A(h);return u},n.prototype.toArray=function(){return Se(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(s){return qe(this._data,s)},n.prototype.toString=function(){return qe(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if(We(s)&&(s=s.toNumber()),!ye(s)||!xe(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var u=s>0?s:0,o=s<0?-s:0,p=this._size[0],A=this._size[1],h=Math.min(p-o,A-u),g=[],w=0;w<h;w++)g[w]=this._data[w+o][w+u];return new n({data:g,size:[h],datatype:this._datatype})},n.diagonal=function(s,u,o,p){if(!me(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(I){if(We(I)&&(I=I.toNumber()),!ye(I)||!xe(I)||I<1)throw new Error("Size values must be positive integers");return I}),o){if(We(o)&&(o=o.toNumber()),!ye(o)||!xe(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var A=o>0?o:0,h=o<0?-o:0,g=s[0],w=s[1],m=Math.min(g-h,w-A),F;if(me(u)){if(u.length!==m)throw new Error("Invalid value array length");F=function(d){return u[d]}}else if(Re(u)){var O=u.size();if(O.length!==1||O[0]!==m)throw new Error("Invalid matrix length");F=function(d){return u.get([d])}}else F=function(){return u};p||(p=We(F(0))?F(0).mul(0):0);var S=[];if(s.length>0){S=qr(S,s,p);for(var b=0;b<m;b++)S[b+h][b+A]=F(b)}return new n({data:S,size:[g,w]})},n.fromJSON=function(s){return new n(s)},n.prototype.swapRows=function(s,u){if(!ye(s)||!xe(s)||!ye(u)||!xe(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ae(s,this._size[0]),Ae(u,this._size[0]),n._swapRows(s,u,this._data),this},n._swapRows=function(s,u,o){var p=o[s];o[s]=o[u],o[u]=p};function D(s){return Re(s)?D(s.valueOf()):me(s)?s.map(D):s}return n},{isClass:!0});function $n(e,t,n){return e&&typeof e.map=="function"?e.map(function(i){return $n(i,t)}):t(e)}var Ln="number, number";function qn(e,t){return e+t}qn.signature=Ln;function Un(e,t){return e*t}Un.signature=Ln;function ds(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var i=e.minus(t).abs();if(i.isZero())return!0;var r=e.constructor.max(e.abs(),t.abs());return i.lte(r.times(n))}return!1}function vs(e,t,n){return Wt(e.re,t.re,n)&&Wt(e.im,t.im,n)}var ws=_e("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(i,r)=>{if(!i.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(n,[i.valueType(),r.valueType()])(i.value,r.value)})}}),Qt="equalScalar",gs=["typed","config"],ms=_e(Qt,gs,e=>{var{typed:t,config:n}=e,i=ws({typed:t});return t(Qt,{"boolean, boolean":function(a,f){return a===f},"number, number":function(a,f){return Wt(a,f,n.epsilon)},"BigNumber, BigNumber":function(a,f){return a.eq(f)||ds(a,f,n.epsilon)},"Fraction, Fraction":function(a,f){return a.equals(f)},"Complex, Complex":function(a,f){return vs(a,f,n.epsilon)}},i)});_e(Qt,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Qt,{"number, number":function(r,a){return Wt(r,a,n.epsilon)}})});var As="SparseMatrix",ys=["typed","equalScalar","Matrix"],Es=_e(As,ys,e=>{var{typed:t,equalScalar:n,Matrix:i}=e;function r(h,g){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!rt(g))throw new Error("Invalid datatype: "+g);if(Re(h))a(this,h,g);else if(h&&me(h.index)&&me(h.ptr)&&me(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=g||h.datatype;else if(me(h))f(this,h,g);else{if(h)throw new TypeError("Unsupported type of data ("+Tt(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(h,g,w){g.type==="SparseMatrix"?(h._values=g._values?Se(g._values):void 0,h._index=Se(g._index),h._ptr=Se(g._ptr),h._size=Se(g._size),h._datatype=w||g._datatype):f(h,g.valueOf(),w||g._datatype)}function f(h,g,w){h._values=[],h._index=[],h._ptr=[],h._datatype=w;var m=g.length,F=0,O=n,S=0;if(rt(w)&&(O=t.find(n,[w,w])||n,S=t.convert(0,w)),m>0){var b=0;do{h._ptr.push(h._index.length);for(var I=0;I<m;I++){var d=g[I];if(me(d)){if(b===0&&F<d.length&&(F=d.length),b<d.length){var v=d[b];O(v,S)||(h._values.push(v),h._index.push(I))}}else b===0&&F<1&&(F=1),O(d,S)||(h._values.push(d),h._index.push(I))}b++}while(b<F)}h._ptr.push(h._index.length),h._size=[m,F]}r.prototype=new i,r.prototype.createSparseMatrix=function(h,g){return new r(h,g)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return Yt(this._values,Tt)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(h,g){return new r(h,g)},r.prototype.density=function(){var h=this._size[0],g=this._size[1];return h!==0&&g!==0?this._index.length/(h*g):0},r.prototype.subset=function(h,g,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,h);case 2:case 3:return c(this,h,g,w);default:throw new SyntaxError("Wrong number of arguments")}};function l(h,g){if(!_r(g))throw new TypeError("Invalid index");var w=g.isScalar();if(w)return h.get(g.min());var m=g.size();if(m.length!==h._size.length)throw new we(m.length,h._size.length);var F,O,S,b,I=g.min(),d=g.max();for(F=0,O=h._size.length;F<O;F++)Ae(I[F],h._size[F]),Ae(d[F],h._size[F]);var v=h._values,y=h._index,C=h._ptr,E=g.dimension(0),N=g.dimension(1),P=[],M=[];E.forEach(function(T,L){M[T]=L[0],P[T]=!0});var _=v?[]:void 0,R=[],B=[];return N.forEach(function(T){for(B.push(R.length),S=C[T],b=C[T+1];S<b;S++)F=y[S],P[F]===!0&&(R.push(M[F]),_&&_.push(v[S]))}),B.push(R.length),new r({values:_,index:R,ptr:B,size:m,datatype:h._datatype})}function c(h,g,w,m){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var F=g.size(),O=g.isScalar(),S;if(Re(w)?(S=w.size(),w=w.toArray()):S=je(w),O){if(S.length!==0)throw new TypeError("Scalar expected");h.set(g.min(),w,m)}else{if(F.length!==1&&F.length!==2)throw new we(F.length,h._size.length,"<");if(S.length<F.length){for(var b=0,I=0;F[b]===1&&S[b]===1;)b++;for(;F[b]===1;)I++,b++;w=wn(w,F.length,I,S)}if(!Ct(F,S))throw new we(F,S,">");if(F.length===1){var d=g.dimension(0);d.forEach(function(C,E){Ae(C),h.set([C,0],w[E[0]],m)})}else{var v=g.dimension(0),y=g.dimension(1);v.forEach(function(C,E){Ae(C),y.forEach(function(N,P){Ae(N),h.set([C,N],w[E[0]][P[0]],m)})})}}return h}r.prototype.get=function(h){if(!me(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new we(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=h[0],w=h[1];Ae(g,this._size[0]),Ae(w,this._size[1]);var m=D(g,this._ptr[w],this._ptr[w+1],this._index);return m<this._ptr[w+1]&&this._index[m]===g?this._values[m]:0},r.prototype.set=function(h,g,w){if(!me(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new we(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var m=h[0],F=h[1],O=this._size[0],S=this._size[1],b=n,I=0;rt(this._datatype)&&(b=t.find(n,[this._datatype,this._datatype])||n,I=t.convert(0,this._datatype)),(m>O-1||F>S-1)&&(o(this,Math.max(m+1,O),Math.max(F+1,S),w),O=this._size[0],S=this._size[1]),Ae(m,O),Ae(F,S);var d=D(m,this._ptr[F],this._ptr[F+1],this._index);return d<this._ptr[F+1]&&this._index[d]===m?b(g,I)?s(d,F,this._values,this._index,this._ptr):this._values[d]=g:b(g,I)||u(d,m,F,g,this._values,this._index,this._ptr),this};function D(h,g,w,m){if(w-g===0)return w;for(var F=g;F<w;F++)if(m[F]===h)return F;return g}function s(h,g,w,m,F){w.splice(h,1),m.splice(h,1);for(var O=g+1;O<F.length;O++)F[O]--}function u(h,g,w,m,F,O,S){F.splice(h,0,m),O.splice(h,0,g);for(var b=w+1;b<S.length;b++)S[b]++}r.prototype.resize=function(h,g,w){if(!Gt(h))throw new TypeError("Array or Matrix expected");var m=h.valueOf().map(O=>Array.isArray(O)&&O.length===1?O[0]:O);if(m.length!==2)throw new Error("Only two dimensions matrix are supported");m.forEach(function(O){if(!ye(O)||!xe(O)||O<0)throw new TypeError("Invalid size, must contain positive integers (size: "+qe(m)+")")});var F=w?this.clone():this;return o(F,m[0],m[1],g)};function o(h,g,w,m){var F=m||0,O=n,S=0;rt(h._datatype)&&(O=t.find(n,[h._datatype,h._datatype])||n,S=t.convert(0,h._datatype),F=t.convert(F,h._datatype));var b=!O(F,S),I=h._size[0],d=h._size[1],v,y,C;if(w>d){for(y=d;y<w;y++)if(h._ptr[y]=h._values.length,b)for(v=0;v<I;v++)h._values.push(F),h._index.push(v);h._ptr[w]=h._values.length}else w<d&&(h._ptr.splice(w+1,d-w),h._values.splice(h._ptr[w],h._values.length),h._index.splice(h._ptr[w],h._index.length));if(d=w,g>I){if(b){var E=0;for(y=0;y<d;y++){h._ptr[y]=h._ptr[y]+E,C=h._ptr[y+1]+E;var N=0;for(v=I;v<g;v++,N++)h._values.splice(C+N,0,F),h._index.splice(C+N,0,v),E++}h._ptr[d]=h._values.length}}else if(g<I){var P=0;for(y=0;y<d;y++){h._ptr[y]=h._ptr[y]-P;var M=h._ptr[y],_=h._ptr[y+1]-P;for(C=M;C<_;C++)v=h._index[C],v>g-1&&(h._values.splice(C,1),h._index.splice(C,1),P++)}h._ptr[y]=h._values.length}return h._size[0]=g,h._size[1]=w,h}r.prototype.reshape=function(h,g){if(!me(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(T){if(!ye(T)||!xe(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+qe(h)+")")});var w=this._size[0]*this._size[1];h=Mr(h,w);var m=h[0]*h[1];if(w!==m)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var F=g?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return F;for(var O=[],S=0;S<F._ptr.length;S++)for(var b=0;b<F._ptr[S+1]-F._ptr[S];b++)O.push(S);for(var I=F._values.slice(),d=F._index.slice(),v=0;v<F._index.length;v++){var y=d[v],C=O[v],E=y*F._size[1]+C;O[v]=E%h[1],d[v]=Math.floor(E/h[1])}F._values.length=0,F._index.length=0,F._ptr.length=h[1]+1,F._size=h.slice();for(var N=0;N<F._ptr.length;N++)F._ptr[N]=0;for(var P=0;P<I.length;P++){var M=d[P],_=O[P],R=I[P],B=D(M,F._ptr[_],F._ptr[_+1],F._index);u(B,M,_,R,F._values,F._index,F._ptr)}return F},r.prototype.clone=function(){var h=new r({values:this._values?Se(this._values):void 0,index:Se(this._index),ptr:Se(this._ptr),size:Se(this._size),datatype:this._datatype});return h},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(h,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,m=this._size[0],F=this._size[1],O=zn(h),S=function(I,d,v){return O===1?h(I):O===2?h(I,[d,v]):h(I,[d,v],w)};return p(this,0,m-1,0,F-1,S,g)};function p(h,g,w,m,F,O,S){var b=[],I=[],d=[],v=n,y=0;rt(h._datatype)&&(v=t.find(n,[h._datatype,h._datatype])||n,y=t.convert(0,h._datatype));for(var C=function(G,K,Q){G=O(G,K,Q),v(G,y)||(b.push(G),I.push(K))},E=m;E<=F;E++){d.push(b.length);var N=h._ptr[E],P=h._ptr[E+1];if(S)for(var M=N;M<P;M++){var _=h._index[M];_>=g&&_<=w&&C(h._values[M],_-g,E-m)}else{for(var R={},B=N;B<P;B++){var T=h._index[B];R[T]=h._values[B]}for(var L=g;L<=w;L++){var $=L in R?R[L]:0;C($,L-g,E-m)}}}return d.push(b.length),new r({values:b,index:I,ptr:d,size:[w-g+1,F-m+1]})}r.prototype.forEach=function(h,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,m=this._size[0],F=this._size[1],O=0;O<F;O++){var S=this._ptr[O],b=this._ptr[O+1];if(g)for(var I=S;I<b;I++){var d=this._index[I];h(this._values[I],[d,O],w)}else{for(var v={},y=S;y<b;y++){var C=this._index[y];v[C]=this._values[y]}for(var E=0;E<m;E++){var N=E in v?v[E]:0;h(N,[E,O],w)}}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],g=0;g<h;g++)for(var w=this._ptr[g],m=this._ptr[g+1],F=w;F<m;F++){var O=this._index[F];yield{value:this._values[F],index:[O,g]}}},r.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)};function A(h,g,w,m,F){var O=m[0],S=m[1],b=[],I,d;for(I=0;I<O;I++)for(b[I]=[],d=0;d<S;d++)b[I][d]=0;for(d=0;d<S;d++)for(var v=w[d],y=w[d+1],C=v;C<y;C++)I=g[C],b[I][d]=h?F?Se(h[C]):h[C]:1;return b}return r.prototype.format=function(h){for(var g=this._size[0],w=this._size[1],m=this.density(),F="Sparse Matrix ["+qe(g,h)+" x "+qe(w,h)+"] density: "+qe(m,h)+`
`,O=0;O<w;O++)for(var S=this._ptr[O],b=this._ptr[O+1],I=S;I<b;I++){var d=this._index[I];F+=`
    (`+qe(d,h)+", "+qe(O,h)+") ==> "+(this._values?qe(this._values[I],h):"X")}return F},r.prototype.toString=function(){return qe(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(h){if(h){if(We(h)&&(h=h.toNumber()),!ye(h)||!xe(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,w=h<0?-h:0,m=this._size[0],F=this._size[1],O=Math.min(m-w,F-g),S=[],b=[],I=[];I[0]=0;for(var d=g;d<F&&S.length<O;d++)for(var v=this._ptr[d],y=this._ptr[d+1],C=v;C<y;C++){var E=this._index[C];if(E===d-g+w){S.push(this._values[C]),b[S.length-1]=E-w;break}}return I.push(S.length),new r({values:S,index:b,ptr:I,size:[O,1]})},r.fromJSON=function(h){return new r(h)},r.diagonal=function(h,g,w,m,F){if(!me(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(T){if(We(T)&&(T=T.toNumber()),!ye(T)||!xe(T)||T<1)throw new Error("Size values must be positive integers");return T}),w){if(We(w)&&(w=w.toNumber()),!ye(w)||!xe(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var O=n,S=0;rt(F)&&(O=t.find(n,[F,F])||n,S=t.convert(0,F));var b=w>0?w:0,I=w<0?-w:0,d=h[0],v=h[1],y=Math.min(d-I,v-b),C;if(me(g)){if(g.length!==y)throw new Error("Invalid value array length");C=function(L){return g[L]}}else if(Re(g)){var E=g.size();if(E.length!==1||E[0]!==y)throw new Error("Invalid matrix length");C=function(L){return g.get([L])}}else C=function(){return g};for(var N=[],P=[],M=[],_=0;_<v;_++){M.push(N.length);var R=_-b;if(R>=0&&R<y){var B=C(R);O(B,S)||(P.push(R+I),N.push(B))}}return M.push(N.length),new r({values:N,index:P,ptr:M,size:[d,v]})},r.prototype.swapRows=function(h,g){if(!ye(h)||!xe(h)||!ye(g)||!xe(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ae(h,this._size[0]),Ae(g,this._size[0]),r._swapRows(h,g,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(h,g,w,m,F){for(var O=m[h],S=m[h+1],b=O;b<S;b++)F(w[b],g[b])},r._swapRows=function(h,g,w,m,F,O){for(var S=0;S<w;S++){var b=O[S],I=O[S+1],d=D(h,b,I,F),v=D(g,b,I,F);if(d<I&&v<I&&F[d]===h&&F[v]===g){if(m){var y=m[d];m[d]=m[v],m[v]=y}continue}if(d<I&&F[d]===h&&(v>=I||F[v]!==g)){var C=m?m[d]:void 0;F.splice(v,0,g),m&&m.splice(v,0,C),F.splice(v<=d?d+1:d,1),m&&m.splice(v<=d?d+1:d,1);continue}if(v<I&&F[v]===g&&(d>=I||F[d]!==h)){var E=m?m[v]:void 0;F.splice(d,0,h),m&&m.splice(d,0,E),F.splice(d<=v?v+1:v,1),m&&m.splice(d<=v?v+1:v,1)}}},r},{isClass:!0}),Gr="matrix",Fs=["typed","Matrix","DenseMatrix","SparseMatrix"],Cs=_e(Gr,Fs,e=>{var{typed:t,Matrix:n,DenseMatrix:i,SparseMatrix:r}=e;return t(Gr,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,c){return a([],l,c)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(f,l,c){if(l==="dense"||l==="default"||l===void 0)return new i(f,c);if(l==="sparse")return new r(f,c);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}}),Hr="addScalar",Bs=["typed"],_s=_e(Hr,Bs,e=>{var{typed:t}=e;return t(Hr,{"number, number":qn,"Complex, Complex":function(i,r){return i.add(r)},"BigNumber, BigNumber":function(i,r){return i.plus(r)},"Fraction, Fraction":function(i,r){return i.add(r)},"Unit, Unit":t.referToSelf(n=>(i,r)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var a=i.clone();return a.value=t.find(n,[a.valueType(),r.valueType()])(a.value,r.value),a.fixPrefix=!1,a})})}),Ms="matAlgo11xS0s",Ns=["typed","equalScalar"],Ss=_e(Ms,Ns,e=>{var{typed:t,equalScalar:n}=e;return function(r,a,f,l){var c=r._values,D=r._index,s=r._ptr,u=r._size,o=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=u[0],A=u[1],h,g=n,w=0,m=f;typeof o=="string"&&(h=o,g=t.find(n,[h,h]),w=t.convert(0,h),a=t.convert(a,h),m=t.find(f,[h,h]));for(var F=[],O=[],S=[],b=0;b<A;b++){S[b]=O.length;for(var I=s[b],d=s[b+1],v=I;v<d;v++){var y=D[v],C=l?m(a,c[v]):m(c[v],a);g(C,w)||(O.push(y),F.push(C))}}return S[A]=O.length,r.createSparseMatrix({values:F,index:O,ptr:S,size:[p,A],datatype:h})}}),xs="matAlgo14xDs",bs=["typed"],Ts=_e(xs,bs,e=>{var{typed:t}=e;return function(r,a,f,l){var c=r._data,D=r._size,s=r._datatype,u,o=f;typeof s=="string"&&(u=s,a=t.convert(a,u),o=t.find(f,[u,u]));var p=D.length>0?n(o,0,D,D[0],c,a,l):[];return r.createDenseMatrix({data:p,size:Se(D),datatype:u})};function n(i,r,a,f,l,c,D){var s=[];if(r===a.length-1)for(var u=0;u<f;u++)s[u]=D?i(c,l[u]):i(l[u],c);else for(var o=0;o<f;o++)s[o]=n(i,r+1,a,a[r+1],l[o],c,D);return s}}),Os="multiplyScalar",Is=["typed"],Ps=_e(Os,Is,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Un,"Complex, Complex":function(i,r){return i.mul(r)},"BigNumber, BigNumber":function(i,r){return i.times(r)},"Fraction, Fraction":function(i,r){return i.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(n,i)=>i.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,i)=>n.multiply(i)})}),Wr="multiply",Rs=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],zs=_e(Wr,Rs,e=>{var{typed:t,matrix:n,addScalar:i,multiplyScalar:r,equalScalar:a,dot:f}=e,l=Ss({typed:t,equalScalar:a}),c=Ts({typed:t});function D(S,b){switch(S.length){case 1:switch(b.length){case 1:if(S[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(S[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+S[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(S[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+S[1]+") must match Vector length ("+b[0]+")");break;case 2:if(S[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+S[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+S.length+" dimensions)")}}function s(S,b,I){if(I===0)throw new Error("Cannot multiply two empty vectors");return f(S,b)}function u(S,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return o(S,b)}function o(S,b){var I=S._data,d=S._size,v=S._datatype,y=b._data,C=b._size,E=b._datatype,N=d[0],P=C[1],M,_=i,R=r;v&&E&&v===E&&typeof v=="string"&&(M=v,_=t.find(i,[M,M]),R=t.find(r,[M,M]));for(var B=[],T=0;T<P;T++){for(var L=R(I[0],y[0][T]),$=1;$<N;$++)L=_(L,R(I[$],y[$][T]));B[T]=L}return S.createDenseMatrix({data:B,size:[P],datatype:M})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":m}),A=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":F,"SparseMatrix, SparseMatrix":O});function h(S,b){var I=S._data,d=S._size,v=S._datatype,y=b._data,C=b._datatype,E=d[0],N=d[1],P,M=i,_=r;v&&C&&v===C&&typeof v=="string"&&(P=v,M=t.find(i,[P,P]),_=t.find(r,[P,P]));for(var R=[],B=0;B<E;B++){for(var T=I[B],L=_(T[0],y[0]),$=1;$<N;$++)L=M(L,_(T[$],y[$]));R[B]=L}return S.createDenseMatrix({data:R,size:[E],datatype:P})}function g(S,b){var I=S._data,d=S._size,v=S._datatype,y=b._data,C=b._size,E=b._datatype,N=d[0],P=d[1],M=C[1],_,R=i,B=r;v&&E&&v===E&&typeof v=="string"&&(_=v,R=t.find(i,[_,_]),B=t.find(r,[_,_]));for(var T=[],L=0;L<N;L++){var $=I[L];T[L]=[];for(var H=0;H<M;H++){for(var G=B($[0],y[0][H]),K=1;K<P;K++)G=R(G,B($[K],y[K][H]));T[L][H]=G}}return S.createDenseMatrix({data:T,size:[N,M],datatype:_})}function w(S,b){var I=S._data,d=S._size,v=S._datatype,y=b._values,C=b._index,E=b._ptr,N=b._size,P=b._datatype;if(!y)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var M=d[0],_=N[1],R,B=i,T=r,L=a,$=0;v&&P&&v===P&&typeof v=="string"&&(R=v,B=t.find(i,[R,R]),T=t.find(r,[R,R]),L=t.find(a,[R,R]),$=t.convert(0,R));for(var H=[],G=[],K=[],Q=b.createSparseMatrix({values:H,index:G,ptr:K,size:[M,_],datatype:R}),ee=0;ee<_;ee++){K[ee]=G.length;var re=E[ee],de=E[ee+1];if(de>re)for(var oe=0,fe=0;fe<M;fe++){for(var ce=fe+1,le=void 0,ie=re;ie<de;ie++){var se=C[ie];oe!==ce?(le=T(I[fe][se],y[ie]),oe=ce):le=B(le,T(I[fe][se],y[ie]))}oe===ce&&!L(le,$)&&(G.push(fe),H.push(le))}}return K[_]=G.length,Q}function m(S,b){var I=S._values,d=S._index,v=S._ptr,y=S._datatype;if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=b._data,E=b._datatype,N=S._size[0],P=b._size[0],M=[],_=[],R=[],B,T=i,L=r,$=a,H=0;y&&E&&y===E&&typeof y=="string"&&(B=y,T=t.find(i,[B,B]),L=t.find(r,[B,B]),$=t.find(a,[B,B]),H=t.convert(0,B));var G=[],K=[];R[0]=0;for(var Q=0;Q<P;Q++){var ee=C[Q];if(!$(ee,H))for(var re=v[Q],de=v[Q+1],oe=re;oe<de;oe++){var fe=d[oe];K[fe]?G[fe]=T(G[fe],L(ee,I[oe])):(K[fe]=!0,_.push(fe),G[fe]=L(ee,I[oe]))}}for(var ce=_.length,le=0;le<ce;le++){var ie=_[le];M[le]=G[ie]}return R[1]=_.length,S.createSparseMatrix({values:M,index:_,ptr:R,size:[N,1],datatype:B})}function F(S,b){var I=S._values,d=S._index,v=S._ptr,y=S._datatype;if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=b._data,E=b._datatype,N=S._size[0],P=b._size[0],M=b._size[1],_,R=i,B=r,T=a,L=0;y&&E&&y===E&&typeof y=="string"&&(_=y,R=t.find(i,[_,_]),B=t.find(r,[_,_]),T=t.find(a,[_,_]),L=t.convert(0,_));for(var $=[],H=[],G=[],K=S.createSparseMatrix({values:$,index:H,ptr:G,size:[N,M],datatype:_}),Q=[],ee=[],re=0;re<M;re++){G[re]=H.length;for(var de=re+1,oe=0;oe<P;oe++){var fe=C[oe][re];if(!T(fe,L))for(var ce=v[oe],le=v[oe+1],ie=ce;ie<le;ie++){var se=d[ie];ee[se]!==de?(ee[se]=de,H.push(se),Q[se]=B(fe,I[ie])):Q[se]=R(Q[se],B(fe,I[ie]))}}for(var ae=G[re],Ye=H.length,tt=ae;tt<Ye;tt++){var ct=H[tt];$[tt]=Q[ct]}}return G[M]=H.length,K}function O(S,b){var I=S._values,d=S._index,v=S._ptr,y=S._datatype,C=b._values,E=b._index,N=b._ptr,P=b._datatype,M=S._size[0],_=b._size[1],R=I&&C,B,T=i,L=r;y&&P&&y===P&&typeof y=="string"&&(B=y,T=t.find(i,[B,B]),L=t.find(r,[B,B]));for(var $=R?[]:void 0,H=[],G=[],K=S.createSparseMatrix({values:$,index:H,ptr:G,size:[M,_],datatype:B}),Q=R?[]:void 0,ee=[],re,de,oe,fe,ce,le,ie,se,ae=0;ae<_;ae++){G[ae]=H.length;var Ye=ae+1;for(ce=N[ae],le=N[ae+1],fe=ce;fe<le;fe++)if(se=E[fe],R)for(de=v[se],oe=v[se+1],re=de;re<oe;re++)ie=d[re],ee[ie]!==Ye?(ee[ie]=Ye,H.push(ie),Q[ie]=L(C[fe],I[re])):Q[ie]=T(Q[ie],L(C[fe],I[re]));else for(de=v[se],oe=v[se+1],re=de;re<oe;re++)ie=d[re],ee[ie]!==Ye&&(ee[ie]=Ye,H.push(ie));if(R)for(var tt=G[ae],ct=H.length,it=tt;it<ct;it++){var mt=H[it];$[it]=Q[mt]}}return G[_]=H.length,K}return t(Wr,r,{"Array, Array":t.referTo("Matrix, Matrix",S=>(b,I)=>{D(je(b),je(I));var d=S(n(b),n(I));return Re(d)?d.valueOf():d}),"Matrix, Matrix":function(b,I){var d=b.size(),v=I.size();return D(d,v),d.length===1?v.length===1?s(b,I,d[0]):u(b,I):v.length===1?p(b,I):A(b,I)},"Matrix, Array":t.referTo("Matrix,Matrix",S=>(b,I)=>S(b,n(I))),"Array, Matrix":t.referToSelf(S=>(b,I)=>S(n(b,I.storage()),I)),"SparseMatrix, any":function(b,I){return l(b,I,r,!1)},"DenseMatrix, any":function(b,I){return c(b,I,r,!1)},"any, SparseMatrix":function(b,I){return l(I,b,r,!0)},"any, DenseMatrix":function(b,I){return c(I,b,r,!0)},"Array, any":function(b,I){return c(n(b),I,r,!1).valueOf()},"any, Array":function(b,I){return c(n(I),b,r,!0).valueOf()},"any, any":r,"any, any, ...any":t.referToSelf(S=>(b,I,d)=>{for(var v=S(b,I),y=0;y<d.length;y++)v=S(v,d[y]);return v})})}),Yr="conj",$s=["typed"],Ls=_e(Yr,$s,e=>{var{typed:t}=e;return t(Yr,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":t.referToSelf(n=>i=>$n(i,n))})});function qs(){throw new Error('No "matrix" implementation available')}var Xr="size",Us=["typed","config","?matrix"],ks=_e(Xr,Us,e=>{var{typed:t,config:n,matrix:i}=e;return t(Xr,{Matrix:function(a){return a.create(a.size())},Array:je,string:function(a){return n.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return n.matrix==="Array"?[]:i?i([]):qs()}})}),Jr="dot",Vs=["typed","addScalar","multiplyScalar","conj","size"],Zs=_e(Jr,Vs,e=>{var{typed:t,addScalar:n,multiplyScalar:i,conj:r,size:a}=e;return t(Jr,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":c});function f(s,u){var o=D(s),p=D(u),A,h;if(o.length===1)A=o[0];else if(o.length===2&&o[1]===1)A=o[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(A!==h)throw new RangeError("Vectors must have equal length ("+A+" != "+h+")");if(A===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function l(s,u){var o=f(s,u),p=Re(s)?s._data:s,A=Re(s)?s._datatype:void 0,h=Re(u)?u._data:u,g=Re(u)?u._datatype:void 0,w=D(s).length===2,m=D(u).length===2,F=n,O=i;if(A&&g&&A===g&&typeof A=="string"){var S=A;F=t.find(n,[S,S]),O=t.find(i,[S,S])}if(!w&&!m){for(var b=O(r(p[0]),h[0]),I=1;I<o;I++)b=F(b,O(r(p[I]),h[I]));return b}if(!w&&m){for(var d=O(r(p[0]),h[0][0]),v=1;v<o;v++)d=F(d,O(r(p[v]),h[v][0]));return d}if(w&&!m){for(var y=O(r(p[0][0]),h[0]),C=1;C<o;C++)y=F(y,O(r(p[C][0]),h[C]));return y}if(w&&m){for(var E=O(r(p[0][0]),h[0][0]),N=1;N<o;N++)E=F(E,O(r(p[N][0]),h[N][0]));return E}}function c(s,u){f(s,u);for(var o=s._index,p=s._values,A=u._index,h=u._values,g=0,w=n,m=i,F=0,O=0;F<o.length&&O<A.length;){var S=o[F],b=A[O];if(S<b){F++;continue}if(S>b){O++;continue}S===b&&(g=w(g,m(p[F],h[O])),F++,O++)}return g}function D(s){return Re(s)?s.size():a(s)}}),Gs=es({config:tr}),Hs=is({}),Ws=as({}),Sr=ls({}),kn=Ds({Matrix:Sr}),ft=ro({BigNumber:Gs,Complex:Hs,DenseMatrix:kn,Fraction:Ws}),Vn=_s({typed:ft}),Ys=Ls({typed:ft}),Zn=ms({config:tr,typed:ft}),Gn=Ps({typed:ft}),Xs=Es({Matrix:Sr,equalScalar:Zn,typed:ft}),jt=Cs({DenseMatrix:kn,Matrix:Sr,SparseMatrix:Xs,typed:ft}),Js=ks({matrix:jt,config:tr,typed:ft}),Ks=Zs({addScalar:Vn,conj:Ys,multiplyScalar:Gn,size:Js,typed:ft}),Qs=zs({addScalar:Vn,dot:Ks,equalScalar:Zn,matrix:jt,multiplyScalar:Gn,typed:ft});const{Matrix:wr}=Yi();function js(e,t,n){let i=jt(t);const r=jt(e);for(let a=0;a<n;a++)i=Qs(i,r);return i.toArray().map(a=>parseFloat(Number(a).toFixed(4)))}function ea(e,t){const n=e.length,i=new wr(e).trans(),r=wr.identity(n),{data:a}=r.minus(i);a.forEach(l=>l.push(0)),a.push(Array(n+1).fill(1));const f=ra(a,t);return new wr(f).trans().data.at(-1).slice(0,-1)}const ta=e=>{const t=e.length,n=e[0].length;let i=0;for(let r=0;r<t;r++){if(n<=i)return e;let a=r;const f=new un("1e-1");for(;e[a][i].abs().isLessThanOrEqualTo(f);)if(a++,t===a&&(a=r,i++,n===i))return e;let l=e[a];e[a]=e[r],e[r]=l;let c=e[r][i];for(let D=0;D<n;D++)e[r][D]=e[r][D].div(c);for(let D=0;D<t;D++)if(D!==r){c=e[D][i];for(let s=0;s<n;s++)e[D][s]=e[D][s].minus(c.times(e[r][s]))}i++}return e},ra=(e,t)=>{const n=e.map(r=>r.map(a=>new un(a)));return ta(n).map(r=>r.map(a=>parseFloat(a.toNumber().toFixed(t))))},na=e=>{const t=Array.from(e.keys()).reduce((i,r,a)=>i.set(r,a),new Map),n=Array.from(t.entries()).reduce((i,[r,a])=>i.set(a,r),new Map);return{list:Array.from(e).reduce((i,[r,a])=>{const f=t.get(r);return i[f]=a.map(l=>t.get(l)),i},[]),map:n}},ia=e=>{const{list:t,map:n}=na(e),{components:i}=ki(t),r=i.map(l=>l.map(c=>n.get(c))),{adjacencyMap:a,nodeToComponentMap:f}=ua(r,e);return{stronglyCoupledComponents:r,adjacencyMap:a,nodeToComponentMap:f}},ua=(e,t)=>{const n=new Map,i=new Map;return e.forEach((r,a)=>{r.forEach(f=>{i.set(f,a)})}),e.forEach((r,a)=>{const l=r.map(D=>t.get(D)??[]).flat().filter(D=>i.get(D)!==a).map(D=>i.get(D)??-1),c=new Set(l);n.set(a,[...c])}),{adjacencyMap:n,nodeToComponentMap:i}},oa=e=>{if(e===1)return 1;let t=2;for(;e>=2;){if(e%t===0)return t;t++}return 1},sa=(e,t)=>{const n=aa(e[0],t),i=n.reduce((r,a)=>Hn(r,a),n[0]);return oa(i)},aa=(e,t)=>{var f;const i=[...((f=t.get(e))==null?void 0:f.map(l=>[l,1]))??[]],r=new Map,a=[];for(;i.length>0;){const[l,c]=i.shift();if(r.get(l)===100)continue;if(l===e){a.push(c);continue}const D=r.get(l);r.set(l,D?D+1:1);for(const s of t.get(l)??[])i.push([s,c+1])}return a},Hn=(e,t)=>t===0?e:Hn(t,e%t),fa=(e,t)=>e.reduce((n,i)=>n.set(i.id,t.filter(r=>r.from===i.id).map(r=>r.to)),new Map),ca=(e,t,n)=>{const i=n.find(r=>r.from===e&&r.to===t);return i?i.weight:0},la=(e,t)=>Array.from(e).reduce((n,[i,r])=>{const a=1/r.length,f=D=>D.id===i?1:0,l=D=>r.includes(D.id)?a:0,c=r.length===0?t.map(f):t.map(l);return n.push(c),n},[]),ha=(e,t)=>e.reduce((n,{id:i})=>{const r=e.map(a=>ca(i,a.id,t));return n.push(r),n},[]),pa=(e,t)=>{const n=[];for(let i=0;i<e.length;i++)e[i].reduce((f,l)=>f+l,0)!==1&&n.push(t[i].id);return{valid:n.length===0,illegalStates:n}};function Da(e,t,n){const i={uniformEdgeProbability:!1,steadyStatePrecision:3},r=()=>{const{uniformEdgeProbability:a,steadyStatePrecision:f}=Object.assign(i,(n==null?void 0:n.value)??{}),l=fa(e.value,t.value),c=a?la(l,e.value):ha(e.value,t.value),{stronglyCoupledComponents:D,adjacencyMap:s,nodeToComponentMap:u}=ia(l),o=[],p=[];for(const[S,b]of s)b.length===0?p.push(D[S]):o.push(D[S]);const A=o.flat(),h=p.flat(),g=p.map(S=>sa(S,l)),w=p.length===1&&g[0]===1,m=w?ea(c,f):void 0,{valid:F,illegalStates:O}=pa(c,e.value);return{valid:F,illegalStates:O,totalStates:e.value.length,transientStates:A,transientStateCount:o.length,recurrentStates:h,recurrentStateCount:h.length,recurrentClasses:p,recurrentClassCount:p.length,communicatingClasses:D,communicatingClassCount:D.length,nodeToCommunicatingClassMap:u,recurrentClassPeriods:g,periodClassifications:g.map(S=>S===1?"APERIODIC":"PERIODIC"),transitionMatrix:c,adjacencyMap:l,uniqueSteadyState:w,steadyStateVector:m}};return{state:kt(r),reCompute:r}}async function da(e,t,n){for await(const i of e)await t();e.forEach((i,r)=>{i.forEach((a,f)=>{a>0&&n({to:f,from:r,weight:a})})})}function va(e,t){const n=t.nodeToCommunicatingClassMap.get(e.id);if([n===void 0,t.transientStates.includes(e.id)].some(a=>a))return["Gray","border-gray-900"];const r=[["Red","border-red-500"],["Yellow","border-yellow-500"],["Green","border-green-500"],["Blue","border-blue-500"],["Indigo","border-indigo-500"],["Purple","border-purple-500"],["Pink","border-pink-500"]];return r[n%r.length]}const wa={key:0,class:"absolute top-0 right-0 z-50 text-white text-xl bg-red-500 p-4 opacity-75",style:{"pointer-events":"none"}},ga=Te("br",null,null,-1),ma=Br({__name:"DebugScreen",props:{markov:{}},setup(e){const t=Pe(!1);return addEventListener("keydown",n=>{n.key==="d"&&(t.value=!t.value)}),(n,i)=>t.value?(Ce(),Fe("div",wa,[(Ce(!0),Fe(xt,null,bt(n.markov,(r,a)=>(Ce(),Fe("div",null,[Te("b",null,st(a)+": ",1),ga,Si(" "+st(r??"undefined"),1)]))),256))])):qt("",!0)}}),Aa={class:"text-white p-5 pt-8"},ya=Te("h1",{class:"text-4xl font-bold"}," Your Markov Chain ",-1),Ea={class:"text-3xl font-semibold"},Fa={class:"text-xl"},Ca=Br({__name:"InfoScreen",props:{markov:{}},setup(e){const t=e,n=kt(()=>{const i=[],r={title:"States",content:`There are ${t.markov.totalStates} total states. ${t.markov.recurrentStateCount} of them are recurrent and ${t.markov.transientStateCount} of them are transient.`};i.push(r);const a={title:"Recurrent States",content:t.markov.recurrentStates.join(", ")||"None"};i.push(a);const f={title:"Transient States",content:t.markov.transientStates.join(", ")||"None"};i.push(f);const l={title:"Communicating Classes",content:`There are ${t.markov.communicatingClassCount} communicating classes. ${t.markov.communicatingClasses}`};return i.push(l),i});return(i,r)=>(Ce(),Fe("div",Aa,[ya,(Ce(!0),Fe(xt,null,bt(n.value,a=>(Ce(),Fe("div",{key:a.title,class:"mt-5"},[Te("h2",Ea,st(a.title),1),Te("p",Fa,st(a.content),1)]))),128))]))}}),Ba={class:"absolute w-full h-full bg-gray-600",style:{"user-select":"none"}},_a={class:"flex flex-col items-center justify-center h-full p-12"},Ma={class:"w-full h-[900px] bg-gray-700 rounded-xl relative overflow-hidden"},Na=["onMousedown"],Sa=["onKeyup","onMousedown","onMouseover","onMouseup"],xa=["onMouseover"],ba={key:0,class:"text-white text-3xl"},Ta={key:1,class:"text-white text-xl"},Oa=["onDblclick"],Ia=["onUpdate:modelValue"],Ra=Br({__name:"HomeView",setup(e){const t={r:()=>o(),s:()=>N.value.ready=!N.value.ready,n:()=>y(),"+":()=>p.value.steadyStatePrecision++,"-":()=>p.value.steadyStatePrecision--,e:()=>p.value.uniformEdgeProbability=!p.value.uniformEdgeProbability,p:()=>R()};document.addEventListener("keydown",B=>{t[B.key]&&t[B.key]()}),document.addEventListener("dblclick",B=>{y(B.clientX-40,B.clientY-40)});const n=Pe(!1),i=Pe(0),r=Pe([]),a=Pe([]);let f=Pe([]);const l=Pe({hovered:!1,onTheMove:-1,startNode:null,reset:()=>{l.value.onTheMove=-1,l.value.hovered=!1,l.value.startNode=null}}),c=async B=>{if(l.value.onTheMove!==-1)return;l.value.reset(),l.value.startNode=B;const T=B.ref.getBoundingClientRect().x,L=B.ref.getBoundingClientRect().y;f.value=new Array(4).fill(0).map(H=>({})),await new Promise(H=>setTimeout(H,0));const $=[{x:28,y:-10},{x:65,y:30},{x:-10,y:30},{x:28,y:65}];f.value.forEach((H,G)=>{const{style:K}=br(H.ref,{initialValue:{x:T+$[G].x,y:L+$[G].y}});f.value[G].style=K})},D=()=>{const B=l.value.startNode,T=f.value[l.value.onTheMove].ref;if(!B||!T)throw new Error("startNode or miniNode is null");const L=T.getBoundingClientRect(),$=r.value.find(H=>{const G=H.ref.getBoundingClientRect(),K=60;return G.x>L.x-K&&G.x<L.x+L.width+K&&G.y>L.y-K&&G.y<L.y+L.height+K});$&&h({from:B.id,to:$.id,weight:1}),f.value=[],l.value.reset()},s=async()=>{await new Promise(B=>setTimeout(B,0)),!(l.value.onTheMove!==-1||l.value.hovered)&&(f.value=[])},u=B=>{a.value=a.value.filter(T=>T.id!==B);for(const T of m.value.keys()){let L=m.value.get(T);L&&(L=L.filter($=>$.edgeId!==B))}},o=()=>{r.value=[],a.value=[],i.value=0;const B=Math.floor(Math.random()*10)+1,T=()=>Math.random()<1/B?Number(Math.random().toFixed(2)):0;new Array(B).fill(0).map(()=>new Array(B).fill(0).map(()=>T()));const L=[[1/3,2/3,0],[1/4,1/2,1/4],[0,1/4,3/4]];da(L,y,h)},p=Pe({uniformEdgeProbability:!1,steadyStatePrecision:3}),{state:A}=Da(r,a,p),h=B=>{if(a.value.find($=>$.from===B.from&&$.to===B.to))return;const L={id:a.value.length,from:B.from,to:B.to,weight:B.weight};a.value.push(L)},g=Pe(-1),w=B=>{l.value.onTheMove===-1&&(g.value=B)},m=Pe(new Map),F=(B,T,L)=>{const $=m.value.get(B)||[];if(!new Set($.map(G=>G.edgeId)).has(T))m.value.set(B,[...$,{edgeId:T,angle:L}]);else{const G=$.findIndex(K=>K.edgeId===T);G!==-1&&($[G].angle=L)}},O=B=>{m.value.delete(B),m.value.forEach((T,L)=>{const $=T.filter(H=>H.edgeId!==B);$.length>0?m.value.set(L,$):m.value.delete(L)})},S=B=>{const T=B.map(K=>K.angle*(Math.PI/180));let L=0,$=0;for(const K of T)L+=Math.sin(K),$+=Math.cos(K);return((Math.atan2(L/T.length,$/T.length)+2*Math.PI)%(2*Math.PI)*(180/Math.PI)-90)%360},b=(B,T,L=60)=>{if(!B||!T)return null;const $=T.getBoundingClientRect(),H=B.getBoundingClientRect(),G=$.x+$.width/2,K=$.y+$.height/2,Q=H.x+H.width/2,ee=H.y+H.height/2,re=Math.atan2(ee-K,Q-G),de=re*(180/Math.PI),oe=Math.sqrt((G-Q)**2+(K-ee)**2),fe=(ct,it)=>{const mt=ct+Math.PI/2,sr=it*Math.cos(mt),It=it*Math.sin(mt);return{distanceX:sr,distanceY:It}},{distanceX:ce,distanceY:le}=fe(re,10),ie=ce/Math.sqrt(ce**2+le**2),se=le/Math.sqrt(ce**2+le**2),ae={width:0,height:0,transform:`translate(${oe-60}px, -16px)`,"border-top":"20px solid transparent","border-bottom":"20px solid transparent","border-left":"20px solid","border-left-color":"rgb(17 24 39)"},Ye={transform:`rotate(${-1*de}deg) translate(${-Math.cos(re)*oe/2.5}px, ${-Math.sin(re)*oe/2.5}px)`};return{line:{width:`${oe-L}px`,height:"8px",transform:`rotate(${de}deg)`,transformOrigin:"0 0",top:`${K-se*4}px`,left:`${G-ie*4}px`},arrow:ae,weight:Ye,y1:K,x1:G,distanceX:ce,distanceY:le,radians:re}},I=B=>{const T=r.value.find(se=>se.id===B.from),L=r.value.find(se=>se.id===B.to);if(!T||!L)return null;const $=b(L.ref,T.ref);if(!$)return null;const{line:H,arrow:G,weight:K,y1:Q,x1:ee,distanceX:re,distanceY:de,radians:oe}=$;if(B.from===B.to){const ae=S(m.value.get(B.from)??[]);return{line:{position:"absolute",top:`${Q-216}px`,left:`${ee-65}px`,width:`${de*2+16}px`,height:"100px","transform-origin":"50% 100%",transform:`rotate(${ae}deg)`,"border-radius":"25px 25px 0 0",border:"8px solid rgb(17 24 39)",background:"transparent"},arrow:{width:0,height:0,transform:"translate(-24px, 38px)","border-left":"20px solid transparent","border-right":"20px solid transparent","border-top":"20px solid rgb(17 24 39)"},weight:{"transform-origin":"0 0",transform:`rotate(${-1*ae}deg) translate(${Math.cos(oe)*30}px, ${-Math.cos(oe)*3}px)`}}}F(B.from,B.id,oe*180/Math.PI),F(B.to,B.id,oe*180/Math.PI+180);const fe=A.value.adjacencyMap.get(B.to)??[],ce=A.value.adjacencyMap.get(B.from)??[],le=fe.includes(B.from)&&ce.includes(B.to),ie={top:`${Q+de}px`,left:`${ee+re}px`};return le&&(H.top=ie.top,H.left=ie.left),{line:H,arrow:G,weight:K}},d=Pe(null),v=Pe("Delete Node"),y=async(B,T)=>{const L={id:i.value++,style:null,children:[],ref:null};r.value.push(L),await new Promise(G=>setTimeout(G,0));const{style:$}=br(L.ref,{initialValue:{x:B??250+Math.floor(Math.random()*500),y:T??250+Math.floor(Math.random()*500)}}),H=r.value.findIndex(G=>G.id===L.id);r.value[H].style=$},C=(B,T)=>{const L=d.value.getBoundingClientRect(),$=B.target.getBoundingClientRect();$.x>L.x-60&&$.x<L.x+L.width+60&&$.y>L.y-60&&$.y<L.y+L.height+60&&(v.value=`Node ${T.id} Was Tasty!`,E(T),setTimeout(()=>{v.value="Delete Node"},2e3))},E=B=>{s();const T=r.value.findIndex(L=>L.id===B.id);a.value=a.value.filter(L=>L.from!==B.id&&L.to!==B.id),r.value.splice(T,1),O(B.id)},N=Pe({running:!1,ready:!1,step:0,probVector:[],paused:!1}),P=B=>{if(s(),N.value.ready&&!N.value.running){N.value.running=!0,N.value.step=0,N.value.ready=!1;const T=r.value.findIndex(L=>L.id===B.id);N.value.probVector=new Array(r.value.length).fill(0).map((L,$)=>$===T?1:0),_()}};let M;const _=()=>{M=setInterval(()=>{N.value.running?(N.value.step++,N.value.probVector=js(A.value.transitionMatrix,N.value.probVector,1)):(clearInterval(M),N.value.probVector=[],N.value.step=0)},500)},R=()=>{N.value.paused=!N.value.paused,N.value.paused?clearInterval(M):_()};return(B,T)=>{var L;return Ce(),Fe("div",Ba,[Te("div",_a,[Te("h1",{onClick:o,class:"text-5xl font-bold text-white mb-5"}," Create A Markov Chain "),Te("div",Ma,[Te("button",{onClick:T[0]||(T[0]=$=>y()),onDblclick:T[1]||(T[1]=ar(()=>{},["stop"])),class:"bg-gray-800 absolute top-0 left-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl"}," New Node ",32),!N.value.running&&!N.value.ready?(Ce(),Fe("button",{key:0,onClick:T[2]||(T[2]=$=>N.value.ready=!0),class:"bg-gray-800 absolute top-0 right-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"}," Run Simulation ")):N.value.running?(Ce(),Fe("button",{key:1,onClick:T[3]||(T[3]=$=>N.value.running=!1),class:"bg-gray-800 absolute top-0 right-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"}," Stop (Steps: "+st(N.value.step)+") ",1)):N.value.ready?(Ce(),Fe("button",{key:2,onClick:T[4]||(T[4]=$=>N.value.ready=!1),class:"bg-gray-800 absolute top-0 right-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"}," Select A Node ")):qt("",!0),Te("button",{onClick:T[5]||(T[5]=$=>n.value=!n.value),class:"bg-gray-800 absolute bottom-0 left-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"},st(n.value?"Hide":"Show")+" Info ",1),Te("div",{ref_key:"killBox",ref:d,class:"bg-red-800 absolute bottom-0 right-0 hover:bg-red-700 text-white text-3xl hover:bg-red-700 px-10 py-5"},st(v.value),513),(Ce(!0),Fe(xt,null,bt(gt(f),($,H)=>(Ce(),Fe("div",{key:H,onMouseover:T[6]||(T[6]=G=>l.value.hovered=!0),onMouseleave:T[7]||(T[7]=G=>l.value.hovered=!1),onMousedown:G=>l.value.onTheMove=H,onMouseup:T[8]||(T[8]=G=>D()),class:"fixed rounded-full bg-gray-900 w-6 h-6 z-50 cursor-pointer scale-90 hover:scale-110 transition ease-in-out duration-200",style:vt($.style+"; opacity:"+($.style?1:0)),ref_for:!0,ref:G=>$.ref=G},null,44,Na))),128)),l.value.onTheMove!==-1?(Ce(),Fe("div",{key:3,class:"fixed bg-gray-900 z-30",style:vt(b(gt(f)[l.value.onTheMove].ref,(L=l.value.startNode)==null?void 0:L.ref,0).line)},null,4)):qt("",!0),(Ce(!0),Fe(xt,null,bt(r.value,($,H)=>(Ce(),Fe("div",{key:$.id},[Te("button",{onKeyup:xi(G=>E($),["delete"]),onMousedown:G=>P($),onMouseover:G=>w($.id),onMouseup:G=>{C(G,$),c($)},class:bi("fixed w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-900 border-4 "+gt(va)($,gt(A))[1]+" "+($.id===g.value?"z-40":"z-10")),style:vt($.style+"; opacity:"+($.style?1:0)),ref_for:!0,ref:G=>$.ref=G},[Te("div",{onMouseover:G=>c($),onMouseleave:T[9]||(T[9]=G=>s()),class:"w-28 h-28 absolute rounded-full"},null,40,xa),N.value.running?(Ce(),Fe("span",Ta,st(N.value.probVector[H]),1)):(Ce(),Fe("span",ba,st($.id),1))],46,Sa)]))),128)),(Ce(!0),Fe(xt,null,bt(a.value,$=>(Ce(),Fe("div",{key:$.id},[Te("div",{onDblclick:ar(H=>u($.id),["stop"]),class:"fixed bg-gray-900",style:vt(I($).line)},[Te("div",{style:vt(I($).arrow)},[p.value.uniformEdgeProbability?qt("",!0):Ti((Ce(),Fe("input",{key:0,onClick:T[10]||(T[10]=ar(()=>{},["stop"])),"onUpdate:modelValue":H=>$.weight=H,style:vt(I($).weight),class:"w-12 bg-transparent text-white font-bold text-xl"},null,12,Ia)),[[Oi,$.weight,void 0,{number:!0}]])],4)],44,Oa)]))),128))])]),xr(ma,{markov:gt(A)},null,8,["markov"]),Te("div",{onClick:T[11]||(T[11]=$=>n.value=!1),style:vt({opacity:n.value?1:0,"pointer-events":n.value?"all":"none","background-color":"rgba(0, 0, 0, 0.6)"}),class:"fixed z-50 transition-opacity duration-200 absolute top-0 left-0 w-1/3 h-full cursor-pointer"},[xr(Ca,{markov:gt(A)},null,8,["markov"])],4)])}}});export{Ra as default};
