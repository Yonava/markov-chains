import{u as vt,i as Ei,t as Fi,c as Ci,g as Bi,o as _i,r as Le,a as qt,w as Ni,d as Er,b as Fe,F as St,e as xt,f as $t,h as Ce,j as Te,k as ot,l as Mi,n as Dt,m as Mr,p as Si,q as xi,s as bi,v as Ti}from"./index-3359b176.js";function Oi(e){return Bi()?(_i(e),!0):!1}function He(e){return typeof e=="function"?e():vt(e)}const Yr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ii=Object.prototype.toString,Pi=e=>Ii.call(e)==="[object Object]",zi=()=>{};function Ri(e,t={}){if(!Ei(e))return Fi(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const i in e.value)n[i]=Ci(()=>({get(){return e.value[i]},set(r){var a;if((a=He(t.replaceRef))!=null?a:!0)if(Array.isArray(e.value)){const l=[...e.value];l[i]=r,e.value=l}else{const l={...e.value,[i]:r};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[i]=r}}));return n}function $i(e){var t;const n=He(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Jr=Yr?window:void 0;function or(...e){let t,n,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,r]=e,t=Jr):[t,n,i,r]=e,!t)return zi;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],f=()=>{a.forEach(s=>s()),a.length=0},l=(s,u,o,p)=>(s.addEventListener(u,o,p),()=>s.removeEventListener(u,o,p)),c=Ni(()=>[$i(t),He(r)],([s,u])=>{if(f(),!s)return;const o=Pi(u)?{...u}:u;a.push(...n.flatMap(p=>i.map(A=>l(s,p,A,o))))},{immediate:!0,flush:"post"}),D=()=>{c(),f()};return Oi(D),D}function Sr(e,t={}){var n,i;const{pointerTypes:r,preventDefault:a,stopPropagation:f,exact:l,onMove:c,onEnd:D,onStart:s,initialValue:u,axis:o="both",draggingElement:p=Jr,containerElement:A,handle:h=e}=t,g=Le((n=He(u))!=null?n:{x:0,y:0}),w=Le(),m=P=>r?r.includes(P.pointerType):!0,F=P=>{He(a)&&P.preventDefault(),He(f)&&P.stopPropagation()},I=P=>{var d;if(!m(P)||He(l)&&P.target!==He(e))return;const v=He(A),y=(d=v==null?void 0:v.getBoundingClientRect)==null?void 0:d.call(v),B=He(e).getBoundingClientRect(),C={x:P.clientX-(v?B.left-y.left:B.left),y:P.clientY-(v?B.top-y.top:B.top)};(s==null?void 0:s(C,P))!==!1&&(w.value=C,F(P))},M=P=>{var d;if(!m(P)||!w.value)return;const v=He(A),y=(d=v==null?void 0:v.getBoundingClientRect)==null?void 0:d.call(v),B=He(e).getBoundingClientRect();let{x:C,y:N}=g.value;(o==="x"||o==="both")&&(C=P.clientX-w.value.x,v&&(C=Math.min(Math.max(0,C),y.width-B.width))),(o==="y"||o==="both")&&(N=P.clientY-w.value.y,v&&(N=Math.min(Math.max(0,N),y.height-B.height))),g.value={x:C,y:N},c==null||c(g.value,P),F(P)},T=P=>{m(P)&&w.value&&(w.value=void 0,D==null||D(g.value,P),F(P))};if(Yr){const P={capture:(i=t.capture)!=null?i:!0};or(h,"pointerdown",I,P),or(p,"pointermove",M,P),or(p,"pointerup",T,P)}return{...Ri(g),position:g,isDragging:qt(()=>!!w.value),style:qt(()=>`left:${g.value.x}px;top:${g.value.y}px;`)}}var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Li=qi;function qi(e){for(var t=e.length,n=new Array(t),i=new Array(t),r=new Array(t),a=new Array(t),f=new Array(t),l=new Array(t),c=0;c<t;++c)n[c]=-1,i[c]=0,r[c]=!1,a[c]=0,f[c]=-1,l[c]=[];var D=0,s=[],u=[];function o(g){var w=[g],m=[g];for(n[g]=i[g]=D,r[g]=!0,D+=1;m.length>0;){g=m[m.length-1];var F=e[g];if(a[g]<F.length){for(var I=a[g];I<F.length;++I){var M=F[I];if(n[M]<0){n[M]=i[M]=D,r[M]=!0,D+=1,w.push(M),m.push(M);break}else r[M]&&(i[g]=Math.min(i[g],i[M])|0);f[M]>=0&&l[g].push(f[M])}a[g]=I}else{if(i[g]===n[g]){for(var T=[],P=[],d=0,I=w.length-1;I>=0;--I){var v=w[I];if(r[v]=!1,T.push(v),P.push(l[v]),d+=l[v].length,f[v]=s.length,v===g){w.length=I;break}}s.push(T);for(var y=new Array(d),I=0;I<P.length;I++)for(var B=0;B<P[I].length;B++)y[--d]=P[I][B];u.push(y)}m.pop()}}}for(var c=0;c<t;++c)n[c]<0&&o(c);for(var p,c=0;c<u.length;c++){var A=u[c];if(A.length!==0){A.sort(function(w,m){return w-m}),p=[A[0]];for(var h=1;h<A.length;h++)A[h]!==A[h-1]&&p.push(A[h]);u[c]=p}}return{components:s,adjacencyList:u}}const Ui=Qt(Li);var Qr={exports:{}},jr={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Kr,function(){var n=function(r){throw new Error("linear-algebra: "+r)},i=function(r,a,f){n("["+r+"] op1 is "+a.rows+" x "+a.cols+" and op2 is "+f.rows+" x "+f.cols)};return function(r){r=r||{};var a={},f=a.Matrix=function(l){Array.isArray(l[0])?(this.data=l,this.rows=l.length,this.cols=l[0].length):(this.data=[l],this.rows=1,this.cols=l.length)};return f.prototype.clone=function(){return new f(this.toArray())},f.prototype.toArray=function(){for(var l=this.data,c=this.rows,D=this.cols,s=new Array(c),u=0;u<c;++u)s[u]=l[u].slice(0,D);return s},f.identity=function(l){return f.scalar(l,1)},f.scalar=function(l,c){var D=new Array(l),s,u;for(s=0;s<l;++s){for(D[s]=new Array(l),u=0;u<l;++u)D[s][u]=0;D[s][s]=c}return new f(D)},f.zero=function(l,c){for(var D=new Array(l),s=0;s<l;++s){D[s]=new Array(c);for(var u=0;u<c;++u)D[s][u]=0}return new f(D)},f.reshapeFrom=function(l,c,D){l.length!==c*D&&n("cannot reshape array of length "+l.length+" into "+c+"x"+D+" matrix");for(var s=[],u=0;u<l.length;u+=D)s.push(l.slice(u,D+u));return new f(s)},a.Vector={zero:function(l){for(var c=new Array(l),D=0;D<l;++D)c[D]=0;return new f(c)}},r.add&&console.warn("linear-algebra: adder (options.add) will not be used in non-precision version"),f.prototype.trans=function(){var l=this.data,c=this.rows,D=this.cols,s,u,o=new Array(D);for(u=0;u<D;++u)for(o[u]=new Array(c),s=0;s<c;++s)o[u][s]=l[s][u];return new f(o)},f.prototype.trans_=function(){var l=this.data,c=this.rows,D=this.cols,s,u,o,p=D===c,A=D>c?c:D;for(s=0;s<A;++s)for(u=s+1;u<A;++u)o=l[u][s],l[u][s]=l[s][u],l[s][u]=o;if(!p){if(D>c)for(u=c;D>u;++u)for(Array.isArray(l[u])||(l[u]=new Array(c)),s=0;s<c;++s)l[u][s]=l[s][u];else for(s=D;c>s;++s)for(u=0;D>u;++u)l[u][s]=l[s][u];o=c,this.rows=D,this.cols=o}return this},f.prototype.div=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("div",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]/u[A][h];return new f(g)},f.prototype.div_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("div_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]/u[A][h];return this},f.prototype.mul=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("mul",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]*u[A][h];return new f(g)},f.prototype.mul_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("mul_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]*u[A][h];return this},f.prototype.plus=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("plus",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]+u[A][h];return new f(g)},f.prototype.plus_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("plus_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]+u[A][h];return this},f.prototype.minus=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("minus",this,l);var A,h,g=new Array(D);for(A=0;A<D;++A)for(g[A]=new Array(s),h=0;h<s;++h)g[A][h]=c[A][h]-u[A][h];return new f(g)},f.prototype.minus_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;(D!==o||s!==p)&&i("minus_",this,l);var A,h;for(A=0;A<D;++A)for(h=0;h<s;++h)c[A][h]=c[A][h]-u[A][h];return this},f.prototype.dot=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;s!==o&&i("dot",this,l);var A,h,g,w=new Array(D);for(A=0;A<D;++A)for(w[A]=new Array(p),g=0;g<p;++g)for(w[A][g]=0,h=0;h<o;++h)w[A][g]+=c[A][h]*u[h][g];return new f(w)},f.prototype.dot_=function(l){var c=this.data,D=this.rows,s=this.cols,u=l.data,o=l.rows,p=l.cols;s!==o&&i("dot_",this,l);var A,h,g,w;for(A=0;A<D;++A)for(w=c[A].slice(0,s),g=0;g<p;++g)for(c[A][g]=0,h=0;h<o;++h)c[A][g]+=w[h]*u[h][g];return this.cols=p,this},f.prototype.getSum=function(){for(var l=this.data,c=this.rows,D=this.cols,s=0,u=0;u<c;++u)for(var o=0;o<D;++o)s+=l[u][o];return s},f.prototype.map=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=l(c[u][o]);return new f(p)},f.prototype.map_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=l(c[u][o]);return this},f.prototype.log=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=Math.log(c[u][o]);return new f(p)},f.prototype.log_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=Math.log(c[u][o]);return this},f.prototype.sigmoid=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=1/(1+Math.exp(-c[u][o]));return new f(p)},f.prototype.sigmoid_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=1/(1+Math.exp(-c[u][o]));return this},f.prototype.mulEach=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=c[u][o]*l;return new f(p)},f.prototype.mulEach_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=c[u][o]*l;return this},f.prototype.plusEach=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=c[u][o]+l;return new f(p)},f.prototype.plusEach_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=c[u][o]+l;return this},f.prototype.eleMap=function(l){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(D);for(u=0;u<D;++u)for(p[u]=new Array(s),o=0;o<s;++o)p[u][o]=l(c[u][o],u,o);return new f(p)},f.prototype.eleMap_=function(l){var c=this.data,D=this.rows,s=this.cols,u,o;for(u=0;u<D;++u)for(o=0;o<s;++o)c[u][o]=l(c[u][o],u,o);return this},a}})})(jr);var ki=jr.exports,en={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Kr,function(){var n=function(r){throw new Error("linear-algebra: "+r)},i=function(r,a,f){n("["+r+"] op1 is "+a.rows+" x "+a.cols+" and op2 is "+f.rows+" x "+f.cols)};return function(r){r=r||{};var a={},f=a.Matrix=function(c){Array.isArray(c[0])?(this.data=c,this.rows=c.length,this.cols=c[0].length):(this.data=[c],this.rows=1,this.cols=c.length)};f.prototype.clone=function(){return new f(this.toArray())},f.prototype.toArray=function(){for(var c=this.data,D=this.rows,s=this.cols,u=new Array(D),o=0;o<D;++o)u[o]=c[o].slice(0,s);return u},f.identity=function(c){return f.scalar(c,1)},f.scalar=function(c,D){var s=new Array(c),u,o;for(u=0;u<c;++u){for(s[u]=new Array(c),o=0;o<c;++o)s[u][o]=0;s[u][u]=D}return new f(s)},f.zero=function(c,D){for(var s=new Array(c),u=0;u<c;++u){s[u]=new Array(D);for(var o=0;o<D;++o)s[u][o]=0}return new f(s)},f.reshapeFrom=function(c,D,s){c.length!==D*s&&n("cannot reshape array of length "+c.length+" into "+D+"x"+s+" matrix");for(var u=[],o=0;o<c.length;o+=s)u.push(c.slice(o,s+o));return new f(u)},a.Vector={zero:function(c){for(var D=new Array(c),s=0;s<c;++s)D[s]=0;return new f(D)}};var l=r.add;return l||n("options.add must be set for precision calculation"),f.prototype.trans=function(){var c=this.data,D=this.rows,s=this.cols,u,o,p=new Array(s);for(o=0;o<s;++o)for(p[o]=new Array(D),u=0;u<D;++u)p[o][u]=c[u][o];return new f(p)},f.prototype.trans_=function(){var c=this.data,D=this.rows,s=this.cols,u,o,p,A=s===D,h=s>D?D:s;for(u=0;u<h;++u)for(o=u+1;o<h;++o)p=c[o][u],c[o][u]=c[u][o],c[u][o]=p;if(!A){if(s>D)for(o=D;s>o;++o)for(Array.isArray(c[o])||(c[o]=new Array(D)),u=0;u<D;++u)c[o][u]=c[u][o];else for(u=s;D>u;++u)for(o=0;s>o;++o)c[o][u]=c[u][o];p=D,this.rows=s,this.cols=p}return this},f.prototype.div=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("div",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]/o[h][g];return new f(w)},f.prototype.div_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("div_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]/o[h][g];return this},f.prototype.mul=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("mul",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]*o[h][g];return new f(w)},f.prototype.mul_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("mul_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]*o[h][g];return this},f.prototype.plus=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("plus",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]+o[h][g];return new f(w)},f.prototype.plus_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("plus_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]+o[h][g];return this},f.prototype.minus=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("minus",this,c);var h,g,w=new Array(s);for(h=0;h<s;++h)for(w[h]=new Array(u),g=0;g<u;++g)w[h][g]=D[h][g]-o[h][g];return new f(w)},f.prototype.minus_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;(s!==p||u!==A)&&i("minus_",this,c);var h,g;for(h=0;h<s;++h)for(g=0;g<u;++g)D[h][g]=D[h][g]-o[h][g];return this},f.prototype.dot=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;u!==p&&i("dot",this,c);var h,g,w,m,F=new Array(s);for(h=0;h<s;++h)for(F[h]=new Array(A),w=0;w<A;++w){for(m=new Array(p),g=0;g<p;++g)m[g]=D[h][g]*o[g][w];F[h][w]=l(m)}return new f(F)},f.prototype.dot_=function(c){var D=this.data,s=this.rows,u=this.cols,o=c.data,p=c.rows,A=c.cols;u!==p&&i("dot_",this,c);var h,g,w,m,F;for(h=0;h<s;++h)for(m=D[h].slice(0,u),w=0;w<A;++w){for(F=new Array(p),g=0;g<c.rows;++g)F[g]=m[g]*o[g][w];D[h][w]=l(F)}return this.cols=A,this},f.prototype.getSum=function(c){for(var D=this.data,s=this.rows,u=this.cols,o=new Array(s*u),p=0,A=0;p<s;++p,A+=u)for(var h=0;h<u;++h)o[A+h]=D[p][h];return l(o)},f.prototype.map=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=c(D[o][p]);return new f(A)},f.prototype.map_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=c(D[o][p]);return this},f.prototype.log=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=Math.log(D[o][p]);return new f(A)},f.prototype.log_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=Math.log(D[o][p]);return this},f.prototype.sigmoid=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=1/(1+Math.exp(-D[o][p]));return new f(A)},f.prototype.sigmoid_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=1/(1+Math.exp(-D[o][p]));return this},f.prototype.mulEach=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=D[o][p]*c;return new f(A)},f.prototype.mulEach_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=D[o][p]*c;return this},f.prototype.plusEach=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=D[o][p]+c;return new f(A)},f.prototype.plusEach_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=D[o][p]+c;return this},f.prototype.eleMap=function(c){var D=this.data,s=this.rows,u=this.cols,o,p,A=new Array(s);for(o=0;o<s;++o)for(A[o]=new Array(u),p=0;p<u;++p)A[o][p]=c(D[o][p],o,p);return new f(A)},f.prototype.eleMap_=function(c){var D=this.data,s=this.rows,u=this.cols,o,p;for(o=0;o<s;++o)for(p=0;p<u;++p)D[o][p]=c(D[o][p],o,p);return this},a}})})(en);var Vi=en.exports,Zi=ki,Gi=Vi,Ut=Qr.exports=function(e){return e=e||{},e.add?Ut._precision(e):Ut._normal(e)};Ut._normal=Zi;Ut._precision=Gi;var Hi=Qr.exports;const Wi=Qt(Hi);var Xi=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,sr=Math.ceil,Ze=Math.floor,$e="[BigNumber Error] ",xr=$e+"Number primitive has more than 15 significant digits: ",Qe=1e14,ie=14,ar=9007199254740991,fr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ft=1e7,Ne=1e9;function tn(e){var t,n,i,r=m.prototype={constructor:m,toString:null,valueOf:null},a=new m(1),f=20,l=4,c=-7,D=21,s=-1e7,u=1e7,o=!1,p=1,A=0,h={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},g="0123456789abcdefghijklmnopqrstuvwxyz",w=!0;function m(d,v){var y,B,C,N,x,_,E,O,b=this;if(!(b instanceof m))return new m(d,v);if(v==null){if(d&&d._isBigNumber===!0){b.s=d.s,!d.c||d.e>u?b.c=b.e=null:d.e<s?b.c=[b.e=0]:(b.e=d.e,b.c=d.c.slice());return}if((_=typeof d=="number")&&d*0==0){if(b.s=1/d<0?(d=-d,-1):1,d===~~d){for(N=0,x=d;x>=10;x/=10,N++);N>u?b.c=b.e=null:(b.e=N,b.c=[d]);return}O=String(d)}else{if(!Xi.test(O=String(d)))return i(b,O,_);b.s=O.charCodeAt(0)==45?(O=O.slice(1),-1):1}(N=O.indexOf("."))>-1&&(O=O.replace(".","")),(x=O.search(/e/i))>0?(N<0&&(N=x),N+=+O.slice(x+1),O=O.substring(0,x)):N<0&&(N=O.length)}else{if(ge(v,2,g.length,"Base"),v==10&&w)return b=new m(d),T(b,f+b.e+1,l);if(O=String(d),_=typeof d=="number"){if(d*0!=0)return i(b,O,_,v);if(b.s=1/d<0?(O=O.slice(1),-1):1,m.DEBUG&&O.replace(/^0\.0*|\./,"").length>15)throw Error(xr+d)}else b.s=O.charCodeAt(0)===45?(O=O.slice(1),-1):1;for(y=g.slice(0,v),N=x=0,E=O.length;x<E;x++)if(y.indexOf(B=O.charAt(x))<0){if(B=="."){if(x>N){N=E;continue}}else if(!C&&(O==O.toUpperCase()&&(O=O.toLowerCase())||O==O.toLowerCase()&&(O=O.toUpperCase()))){C=!0,x=-1,N=0;continue}return i(b,String(d),_,v)}_=!1,O=n(O,v,10,b.s),(N=O.indexOf("."))>-1?O=O.replace(".",""):N=O.length}for(x=0;O.charCodeAt(x)===48;x++);for(E=O.length;O.charCodeAt(--E)===48;);if(O=O.slice(x,++E)){if(E-=x,_&&m.DEBUG&&E>15&&(d>ar||d!==Ze(d)))throw Error(xr+b.s*d);if((N=N-x-1)>u)b.c=b.e=null;else if(N<s)b.c=[b.e=0];else{if(b.e=N,b.c=[],x=(N+1)%ie,N<0&&(x+=ie),x<E){for(x&&b.c.push(+O.slice(0,x)),E-=ie;x<E;)b.c.push(+O.slice(x,x+=ie));x=ie-(O=O.slice(x)).length}else x-=E;for(;x--;O+="0");b.c.push(+O)}}else b.c=[b.e=0]}m.clone=tn,m.ROUND_UP=0,m.ROUND_DOWN=1,m.ROUND_CEIL=2,m.ROUND_FLOOR=3,m.ROUND_HALF_UP=4,m.ROUND_HALF_DOWN=5,m.ROUND_HALF_EVEN=6,m.ROUND_HALF_CEIL=7,m.ROUND_HALF_FLOOR=8,m.EUCLID=9,m.config=m.set=function(d){var v,y;if(d!=null)if(typeof d=="object"){if(d.hasOwnProperty(v="DECIMAL_PLACES")&&(y=d[v],ge(y,0,Ne,v),f=y),d.hasOwnProperty(v="ROUNDING_MODE")&&(y=d[v],ge(y,0,8,v),l=y),d.hasOwnProperty(v="EXPONENTIAL_AT")&&(y=d[v],y&&y.pop?(ge(y[0],-Ne,0,v),ge(y[1],0,Ne,v),c=y[0],D=y[1]):(ge(y,-Ne,Ne,v),c=-(D=y<0?-y:y))),d.hasOwnProperty(v="RANGE"))if(y=d[v],y&&y.pop)ge(y[0],-Ne,-1,v),ge(y[1],1,Ne,v),s=y[0],u=y[1];else if(ge(y,-Ne,Ne,v),y)s=-(u=y<0?-y:y);else throw Error($e+v+" cannot be zero: "+y);if(d.hasOwnProperty(v="CRYPTO"))if(y=d[v],y===!!y)if(y)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))o=y;else throw o=!y,Error($e+"crypto unavailable");else o=y;else throw Error($e+v+" not true or false: "+y);if(d.hasOwnProperty(v="MODULO_MODE")&&(y=d[v],ge(y,0,9,v),p=y),d.hasOwnProperty(v="POW_PRECISION")&&(y=d[v],ge(y,0,Ne,v),A=y),d.hasOwnProperty(v="FORMAT"))if(y=d[v],typeof y=="object")h=y;else throw Error($e+v+" not an object: "+y);if(d.hasOwnProperty(v="ALPHABET"))if(y=d[v],typeof y=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(y))w=y.slice(0,10)=="0123456789",g=y;else throw Error($e+v+" invalid: "+y)}else throw Error($e+"Object expected: "+d);return{DECIMAL_PLACES:f,ROUNDING_MODE:l,EXPONENTIAL_AT:[c,D],RANGE:[s,u],CRYPTO:o,MODULO_MODE:p,POW_PRECISION:A,FORMAT:h,ALPHABET:g}},m.isBigNumber=function(d){if(!d||d._isBigNumber!==!0)return!1;if(!m.DEBUG)return!0;var v,y,B=d.c,C=d.e,N=d.s;e:if({}.toString.call(B)=="[object Array]"){if((N===1||N===-1)&&C>=-Ne&&C<=Ne&&C===Ze(C)){if(B[0]===0){if(C===0&&B.length===1)return!0;break e}if(v=(C+1)%ie,v<1&&(v+=ie),String(B[0]).length==v){for(v=0;v<B.length;v++)if(y=B[v],y<0||y>=Qe||y!==Ze(y))break e;if(y!==0)return!0}}}else if(B===null&&C===null&&(N===null||N===1||N===-1))return!0;throw Error($e+"Invalid BigNumber: "+d)},m.maximum=m.max=function(){return I(arguments,-1)},m.minimum=m.min=function(){return I(arguments,1)},m.random=function(){var d=9007199254740992,v=Math.random()*d&2097151?function(){return Ze(Math.random()*d)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(y){var B,C,N,x,_,E=0,O=[],b=new m(a);if(y==null?y=f:ge(y,0,Ne),x=sr(y/ie),o)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(x*=2));E<x;)_=B[E]*131072+(B[E+1]>>>11),_>=9e15?(C=crypto.getRandomValues(new Uint32Array(2)),B[E]=C[0],B[E+1]=C[1]):(O.push(_%1e14),E+=2);E=x/2}else if(crypto.randomBytes){for(B=crypto.randomBytes(x*=7);E<x;)_=(B[E]&31)*281474976710656+B[E+1]*1099511627776+B[E+2]*4294967296+B[E+3]*16777216+(B[E+4]<<16)+(B[E+5]<<8)+B[E+6],_>=9e15?crypto.randomBytes(7).copy(B,E):(O.push(_%1e14),E+=7);E=x/7}else throw o=!1,Error($e+"crypto unavailable");if(!o)for(;E<x;)_=v(),_<9e15&&(O[E++]=_%1e14);for(x=O[--E],y%=ie,x&&y&&(_=fr[ie-y],O[E]=Ze(x/_)*_);O[E]===0;O.pop(),E--);if(E<0)O=[N=0];else{for(N=-1;O[0]===0;O.splice(0,1),N-=ie);for(E=1,_=O[0];_>=10;_/=10,E++);E<ie&&(N-=ie-E)}return b.e=N,b.c=O,b}}(),m.sum=function(){for(var d=1,v=arguments,y=new m(v[0]);d<v.length;)y=y.plus(v[d++]);return y},n=function(){var d="0123456789";function v(y,B,C,N){for(var x,_=[0],E,O=0,b=y.length;O<b;){for(E=_.length;E--;_[E]*=B);for(_[0]+=N.indexOf(y.charAt(O++)),x=0;x<_.length;x++)_[x]>C-1&&(_[x+1]==null&&(_[x+1]=0),_[x+1]+=_[x]/C|0,_[x]%=C)}return _.reverse()}return function(y,B,C,N,x){var _,E,O,b,R,k,G,Y,K=y.indexOf("."),re=f,J=l;for(K>=0&&(b=A,A=0,y=y.replace(".",""),Y=new m(B),k=Y.pow(y.length-K),A=b,Y.c=v(it(ke(k.c),k.e,"0"),10,C,d),Y.e=Y.c.length),G=v(y,B,C,x?(_=g,d):(_=d,g)),O=b=G.length;G[--b]==0;G.pop());if(!G[0])return _.charAt(0);if(K<0?--O:(k.c=G,k.e=O,k.s=N,k=t(k,Y,re,J,C),G=k.c,R=k.r,O=k.e),E=O+re+1,K=G[E],b=C/2,R=R||E<0||G[E+1]!=null,R=J<4?(K!=null||R)&&(J==0||J==(k.s<0?3:2)):K>b||K==b&&(J==4||R||J==6&&G[E-1]&1||J==(k.s<0?8:7)),E<1||!G[0])y=R?it(_.charAt(1),-re,_.charAt(0)):_.charAt(0);else{if(G.length=E,R)for(--C;++G[--E]>C;)G[E]=0,E||(++O,G=[1].concat(G));for(b=G.length;!G[--b];);for(K=0,y="";K<=b;y+=_.charAt(G[K++]));y=it(y,O,_.charAt(0))}return y}}(),t=function(){function d(B,C,N){var x,_,E,O,b=0,R=B.length,k=C%ft,G=C/ft|0;for(B=B.slice();R--;)E=B[R]%ft,O=B[R]/ft|0,x=G*E+O*k,_=k*E+x%ft*ft+b,b=(_/N|0)+(x/ft|0)+G*O,B[R]=_%N;return b&&(B=[b].concat(B)),B}function v(B,C,N,x){var _,E;if(N!=x)E=N>x?1:-1;else for(_=E=0;_<N;_++)if(B[_]!=C[_]){E=B[_]>C[_]?1:-1;break}return E}function y(B,C,N,x){for(var _=0;N--;)B[N]-=_,_=B[N]<C[N]?1:0,B[N]=_*x+B[N]-C[N];for(;!B[0]&&B.length>1;B.splice(0,1));}return function(B,C,N,x,_){var E,O,b,R,k,G,Y,K,re,J,Q,te,de,fe,se,ce,ve,ue=B.s==C.s?1:-1,ae=B.c,oe=C.c;if(!ae||!ae[0]||!oe||!oe[0])return new m(!B.s||!C.s||(ae?oe&&ae[0]==oe[0]:!oe)?NaN:ae&&ae[0]==0||!oe?ue*0:ue/0);for(K=new m(ue),re=K.c=[],O=B.e-C.e,ue=N+O+1,_||(_=Qe,O=Ge(B.e/ie)-Ge(C.e/ie),ue=ue/ie|0),b=0;oe[b]==(ae[b]||0);b++);if(oe[b]>(ae[b]||0)&&O--,ue<0)re.push(1),R=!0;else{for(fe=ae.length,ce=oe.length,b=0,ue+=2,k=Ze(_/(oe[0]+1)),k>1&&(oe=d(oe,k,_),ae=d(ae,k,_),ce=oe.length,fe=ae.length),de=ce,J=ae.slice(0,ce),Q=J.length;Q<ce;J[Q++]=0);ve=oe.slice(),ve=[0].concat(ve),se=oe[0],oe[1]>=_/2&&se++;do{if(k=0,E=v(oe,J,ce,Q),E<0){if(te=J[0],ce!=Q&&(te=te*_+(J[1]||0)),k=Ze(te/se),k>1)for(k>=_&&(k=_-1),G=d(oe,k,_),Y=G.length,Q=J.length;v(G,J,Y,Q)==1;)k--,y(G,ce<Y?ve:oe,Y,_),Y=G.length,E=1;else k==0&&(E=k=1),G=oe.slice(),Y=G.length;if(Y<Q&&(G=[0].concat(G)),y(J,G,Q,_),Q=J.length,E==-1)for(;v(oe,J,ce,Q)<1;)k++,y(J,ce<Q?ve:oe,Q,_),Q=J.length}else E===0&&(k++,J=[0]);re[b++]=k,J[0]?J[Q++]=ae[de]||0:(J=[ae[de]],Q=1)}while((de++<fe||J[0]!=null)&&ue--);R=J[0]!=null,re[0]||re.splice(0,1)}if(_==Qe){for(b=1,ue=re[0];ue>=10;ue/=10,b++);T(K,N+(K.e=b+O*ie-1)+1,x,R)}else K.e=O,K.r=+R;return K}}();function F(d,v,y,B){var C,N,x,_,E;if(y==null?y=l:ge(y,0,8),!d.c)return d.toString();if(C=d.c[0],x=d.e,v==null)E=ke(d.c),E=B==1||B==2&&(x<=c||x>=D)?zt(E,x):it(E,x,"0");else if(d=T(new m(d),v,y),N=d.e,E=ke(d.c),_=E.length,B==1||B==2&&(v<=N||N<=c)){for(;_<v;E+="0",_++);E=zt(E,N)}else if(v-=x,E=it(E,N,"0"),N+1>_){if(--v>0)for(E+=".";v--;E+="0");}else if(v+=N-_,v>0)for(N+1==_&&(E+=".");v--;E+="0");return d.s<0&&C?"-"+E:E}function I(d,v){for(var y,B,C=1,N=new m(d[0]);C<d.length;C++)B=new m(d[C]),(!B.s||(y=dt(N,B))===v||y===0&&N.s===v)&&(N=B);return N}function M(d,v,y){for(var B=1,C=v.length;!v[--C];v.pop());for(C=v[0];C>=10;C/=10,B++);return(y=B+y*ie-1)>u?d.c=d.e=null:y<s?d.c=[d.e=0]:(d.e=y,d.c=v),d}i=function(){var d=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,y=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,x,_,E){var O,b=_?x:x.replace(C,"");if(B.test(b))N.s=isNaN(b)?null:b<0?-1:1;else{if(!_&&(b=b.replace(d,function(R,k,G){return O=(G=G.toLowerCase())=="x"?16:G=="b"?2:8,!E||E==O?k:R}),E&&(O=E,b=b.replace(v,"$1").replace(y,"0.$1")),x!=b))return new m(b,O);if(m.DEBUG)throw Error($e+"Not a"+(E?" base "+E:"")+" number: "+x);N.s=null}N.c=N.e=null}}();function T(d,v,y,B){var C,N,x,_,E,O,b,R=d.c,k=fr;if(R){e:{for(C=1,_=R[0];_>=10;_/=10,C++);if(N=v-C,N<0)N+=ie,x=v,E=R[O=0],b=Ze(E/k[C-x-1]%10);else if(O=sr((N+1)/ie),O>=R.length)if(B){for(;R.length<=O;R.push(0));E=b=0,C=1,N%=ie,x=N-ie+1}else break e;else{for(E=_=R[O],C=1;_>=10;_/=10,C++);N%=ie,x=N-ie+C,b=x<0?0:Ze(E/k[C-x-1]%10)}if(B=B||v<0||R[O+1]!=null||(x<0?E:E%k[C-x-1]),B=y<4?(b||B)&&(y==0||y==(d.s<0?3:2)):b>5||b==5&&(y==4||B||y==6&&(N>0?x>0?E/k[C-x]:0:R[O-1])%10&1||y==(d.s<0?8:7)),v<1||!R[0])return R.length=0,B?(v-=d.e+1,R[0]=k[(ie-v%ie)%ie],d.e=-v||0):R[0]=d.e=0,d;if(N==0?(R.length=O,_=1,O--):(R.length=O+1,_=k[ie-N],R[O]=x>0?Ze(E/k[C-x]%k[x])*_:0),B)for(;;)if(O==0){for(N=1,x=R[0];x>=10;x/=10,N++);for(x=R[0]+=_,_=1;x>=10;x/=10,_++);N!=_&&(d.e++,R[0]==Qe&&(R[0]=1));break}else{if(R[O]+=_,R[O]!=Qe)break;R[O--]=0,_=1}for(N=R.length;R[--N]===0;R.pop());}d.e>u?d.c=d.e=null:d.e<s&&(d.c=[d.e=0])}return d}function P(d){var v,y=d.e;return y===null?d.toString():(v=ke(d.c),v=y<=c||y>=D?zt(v,y):it(v,y,"0"),d.s<0?"-"+v:v)}return r.absoluteValue=r.abs=function(){var d=new m(this);return d.s<0&&(d.s=1),d},r.comparedTo=function(d,v){return dt(this,new m(d,v))},r.decimalPlaces=r.dp=function(d,v){var y,B,C,N=this;if(d!=null)return ge(d,0,Ne),v==null?v=l:ge(v,0,8),T(new m(N),d+N.e+1,v);if(!(y=N.c))return null;if(B=((C=y.length-1)-Ge(this.e/ie))*ie,C=y[C])for(;C%10==0;C/=10,B--);return B<0&&(B=0),B},r.dividedBy=r.div=function(d,v){return t(this,new m(d,v),f,l)},r.dividedToIntegerBy=r.idiv=function(d,v){return t(this,new m(d,v),0,1)},r.exponentiatedBy=r.pow=function(d,v){var y,B,C,N,x,_,E,O,b,R=this;if(d=new m(d),d.c&&!d.isInteger())throw Error($e+"Exponent not an integer: "+P(d));if(v!=null&&(v=new m(v)),_=d.e>14,!R.c||!R.c[0]||R.c[0]==1&&!R.e&&R.c.length==1||!d.c||!d.c[0])return b=new m(Math.pow(+P(R),_?d.s*(2-Pt(d)):+P(d))),v?b.mod(v):b;if(E=d.s<0,v){if(v.c?!v.c[0]:!v.s)return new m(NaN);B=!E&&R.isInteger()&&v.isInteger(),B&&(R=R.mod(v))}else{if(d.e>9&&(R.e>0||R.e<-1||(R.e==0?R.c[0]>1||_&&R.c[1]>=24e7:R.c[0]<8e13||_&&R.c[0]<=9999975e7)))return N=R.s<0&&Pt(d)?-0:0,R.e>-1&&(N=1/N),new m(E?1/N:N);A&&(N=sr(A/ie+2))}for(_?(y=new m(.5),E&&(d.s=1),O=Pt(d)):(C=Math.abs(+P(d)),O=C%2),b=new m(a);;){if(O){if(b=b.times(R),!b.c)break;N?b.c.length>N&&(b.c.length=N):B&&(b=b.mod(v))}if(C){if(C=Ze(C/2),C===0)break;O=C%2}else if(d=d.times(y),T(d,d.e+1,1),d.e>14)O=Pt(d);else{if(C=+P(d),C===0)break;O=C%2}R=R.times(R),N?R.c&&R.c.length>N&&(R.c.length=N):B&&(R=R.mod(v))}return B?b:(E&&(b=a.div(b)),v?b.mod(v):N?T(b,A,l,x):b)},r.integerValue=function(d){var v=new m(this);return d==null?d=l:ge(d,0,8),T(v,v.e+1,d)},r.isEqualTo=r.eq=function(d,v){return dt(this,new m(d,v))===0},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(d,v){return dt(this,new m(d,v))>0},r.isGreaterThanOrEqualTo=r.gte=function(d,v){return(v=dt(this,new m(d,v)))===1||v===0},r.isInteger=function(){return!!this.c&&Ge(this.e/ie)>this.c.length-2},r.isLessThan=r.lt=function(d,v){return dt(this,new m(d,v))<0},r.isLessThanOrEqualTo=r.lte=function(d,v){return(v=dt(this,new m(d,v)))===-1||v===0},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return this.s>0},r.isZero=function(){return!!this.c&&this.c[0]==0},r.minus=function(d,v){var y,B,C,N,x=this,_=x.s;if(d=new m(d,v),v=d.s,!_||!v)return new m(NaN);if(_!=v)return d.s=-v,x.plus(d);var E=x.e/ie,O=d.e/ie,b=x.c,R=d.c;if(!E||!O){if(!b||!R)return b?(d.s=-v,d):new m(R?x:NaN);if(!b[0]||!R[0])return R[0]?(d.s=-v,d):new m(b[0]?x:l==3?-0:0)}if(E=Ge(E),O=Ge(O),b=b.slice(),_=E-O){for((N=_<0)?(_=-_,C=b):(O=E,C=R),C.reverse(),v=_;v--;C.push(0));C.reverse()}else for(B=(N=(_=b.length)<(v=R.length))?_:v,_=v=0;v<B;v++)if(b[v]!=R[v]){N=b[v]<R[v];break}if(N&&(C=b,b=R,R=C,d.s=-d.s),v=(B=R.length)-(y=b.length),v>0)for(;v--;b[y++]=0);for(v=Qe-1;B>_;){if(b[--B]<R[B]){for(y=B;y&&!b[--y];b[y]=v);--b[y],b[B]+=Qe}b[B]-=R[B]}for(;b[0]==0;b.splice(0,1),--O);return b[0]?M(d,b,O):(d.s=l==3?-1:1,d.c=[d.e=0],d)},r.modulo=r.mod=function(d,v){var y,B,C=this;return d=new m(d,v),!C.c||!d.s||d.c&&!d.c[0]?new m(NaN):!d.c||C.c&&!C.c[0]?new m(C):(p==9?(B=d.s,d.s=1,y=t(C,d,0,3),d.s=B,y.s*=B):y=t(C,d,0,p),d=C.minus(y.times(d)),!d.c[0]&&p==1&&(d.s=C.s),d)},r.multipliedBy=r.times=function(d,v){var y,B,C,N,x,_,E,O,b,R,k,G,Y,K,re,J=this,Q=J.c,te=(d=new m(d,v)).c;if(!Q||!te||!Q[0]||!te[0])return!J.s||!d.s||Q&&!Q[0]&&!te||te&&!te[0]&&!Q?d.c=d.e=d.s=null:(d.s*=J.s,!Q||!te?d.c=d.e=null:(d.c=[0],d.e=0)),d;for(B=Ge(J.e/ie)+Ge(d.e/ie),d.s*=J.s,E=Q.length,R=te.length,E<R&&(Y=Q,Q=te,te=Y,C=E,E=R,R=C),C=E+R,Y=[];C--;Y.push(0));for(K=Qe,re=ft,C=R;--C>=0;){for(y=0,k=te[C]%re,G=te[C]/re|0,x=E,N=C+x;N>C;)O=Q[--x]%re,b=Q[x]/re|0,_=G*O+b*k,O=k*O+_%re*re+Y[N]+y,y=(O/K|0)+(_/re|0)+G*b,Y[N--]=O%K;Y[N]=y}return y?++B:Y.splice(0,1),M(d,Y,B)},r.negated=function(){var d=new m(this);return d.s=-d.s||null,d},r.plus=function(d,v){var y,B=this,C=B.s;if(d=new m(d,v),v=d.s,!C||!v)return new m(NaN);if(C!=v)return d.s=-v,B.minus(d);var N=B.e/ie,x=d.e/ie,_=B.c,E=d.c;if(!N||!x){if(!_||!E)return new m(C/0);if(!_[0]||!E[0])return E[0]?d:new m(_[0]?B:C*0)}if(N=Ge(N),x=Ge(x),_=_.slice(),C=N-x){for(C>0?(x=N,y=E):(C=-C,y=_),y.reverse();C--;y.push(0));y.reverse()}for(C=_.length,v=E.length,C-v<0&&(y=E,E=_,_=y,v=C),C=0;v;)C=(_[--v]=_[v]+E[v]+C)/Qe|0,_[v]=Qe===_[v]?0:_[v]%Qe;return C&&(_=[C].concat(_),++x),M(d,_,x)},r.precision=r.sd=function(d,v){var y,B,C,N=this;if(d!=null&&d!==!!d)return ge(d,1,Ne),v==null?v=l:ge(v,0,8),T(new m(N),d,v);if(!(y=N.c))return null;if(C=y.length-1,B=C*ie+1,C=y[C]){for(;C%10==0;C/=10,B--);for(C=y[0];C>=10;C/=10,B++);}return d&&N.e+1>B&&(B=N.e+1),B},r.shiftedBy=function(d){return ge(d,-ar,ar),this.times("1e"+d)},r.squareRoot=r.sqrt=function(){var d,v,y,B,C,N=this,x=N.c,_=N.s,E=N.e,O=f+4,b=new m("0.5");if(_!==1||!x||!x[0])return new m(!_||_<0&&(!x||x[0])?NaN:x?N:1/0);if(_=Math.sqrt(+P(N)),_==0||_==1/0?(v=ke(x),(v.length+E)%2==0&&(v+="0"),_=Math.sqrt(+v),E=Ge((E+1)/2)-(E<0||E%2),_==1/0?v="5e"+E:(v=_.toExponential(),v=v.slice(0,v.indexOf("e")+1)+E),y=new m(v)):y=new m(_+""),y.c[0]){for(E=y.e,_=E+O,_<3&&(_=0);;)if(C=y,y=b.times(C.plus(t(N,C,O,1))),ke(C.c).slice(0,_)===(v=ke(y.c)).slice(0,_))if(y.e<E&&--_,v=v.slice(_-3,_+1),v=="9999"||!B&&v=="4999"){if(!B&&(T(C,C.e+f+2,0),C.times(C).eq(N))){y=C;break}O+=4,_+=4,B=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(T(y,y.e+f+2,1),d=!y.times(y).eq(N));break}}return T(y,y.e+f+1,l,d)},r.toExponential=function(d,v){return d!=null&&(ge(d,0,Ne),d++),F(this,d,v,1)},r.toFixed=function(d,v){return d!=null&&(ge(d,0,Ne),d=d+this.e+1),F(this,d,v)},r.toFormat=function(d,v,y){var B,C=this;if(y==null)d!=null&&v&&typeof v=="object"?(y=v,v=null):d&&typeof d=="object"?(y=d,d=v=null):y=h;else if(typeof y!="object")throw Error($e+"Argument not an object: "+y);if(B=C.toFixed(d,v),C.c){var N,x=B.split("."),_=+y.groupSize,E=+y.secondaryGroupSize,O=y.groupSeparator||"",b=x[0],R=x[1],k=C.s<0,G=k?b.slice(1):b,Y=G.length;if(E&&(N=_,_=E,E=N,Y-=N),_>0&&Y>0){for(N=Y%_||_,b=G.substr(0,N);N<Y;N+=_)b+=O+G.substr(N,_);E>0&&(b+=O+G.slice(N)),k&&(b="-"+b)}B=R?b+(y.decimalSeparator||"")+((E=+y.fractionGroupSize)?R.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(y.fractionGroupSeparator||"")):R):b}return(y.prefix||"")+B+(y.suffix||"")},r.toFraction=function(d){var v,y,B,C,N,x,_,E,O,b,R,k,G=this,Y=G.c;if(d!=null&&(_=new m(d),!_.isInteger()&&(_.c||_.s!==1)||_.lt(a)))throw Error($e+"Argument "+(_.isInteger()?"out of range: ":"not an integer: ")+P(_));if(!Y)return new m(G);for(v=new m(a),O=y=new m(a),B=E=new m(a),k=ke(Y),N=v.e=k.length-G.e-1,v.c[0]=fr[(x=N%ie)<0?ie+x:x],d=!d||_.comparedTo(v)>0?N>0?v:O:_,x=u,u=1/0,_=new m(k),E.c[0]=0;b=t(_,v,0,1),C=y.plus(b.times(B)),C.comparedTo(d)!=1;)y=B,B=C,O=E.plus(b.times(C=O)),E=C,v=_.minus(b.times(C=v)),_=C;return C=t(d.minus(y),B,0,1),E=E.plus(C.times(O)),y=y.plus(C.times(B)),E.s=O.s=G.s,N=N*2,R=t(O,B,N,l).minus(G).abs().comparedTo(t(E,y,N,l).minus(G).abs())<1?[O,B]:[E,y],u=x,R},r.toNumber=function(){return+P(this)},r.toPrecision=function(d,v){return d!=null&&ge(d,1,Ne),F(this,d,v,2)},r.toString=function(d){var v,y=this,B=y.s,C=y.e;return C===null?B?(v="Infinity",B<0&&(v="-"+v)):v="NaN":(d==null?v=C<=c||C>=D?zt(ke(y.c),C):it(ke(y.c),C,"0"):d===10&&w?(y=T(new m(y),f+C+1,l),v=it(ke(y.c),y.e,"0")):(ge(d,2,g.length,"Base"),v=n(it(ke(y.c),C,"0"),10,d,B,!0)),B<0&&y.c[0]&&(v="-"+v)),v},r.valueOf=r.toJSON=function(){return P(this)},r._isBigNumber=!0,r[Symbol.toStringTag]="BigNumber",r[Symbol.for("nodejs.util.inspect.custom")]=r.valueOf,e!=null&&m.set(e),m}function Ge(e){var t=e|0;return e>0||e===t?t:t-1}function ke(e){for(var t,n,i=1,r=e.length,a=e[0]+"";i<r;){for(t=e[i++]+"",n=ie-t.length;n--;t="0"+t);a+=t}for(r=a.length;a.charCodeAt(--r)===48;);return a.slice(0,r+1||1)}function dt(e,t){var n,i,r=e.c,a=t.c,f=e.s,l=t.s,c=e.e,D=t.e;if(!f||!l)return null;if(n=r&&!r[0],i=a&&!a[0],n||i)return n?i?0:-l:f;if(f!=l)return f;if(n=f<0,i=c==D,!r||!a)return i?0:!r^n?1:-1;if(!i)return c>D^n?1:-1;for(l=(c=r.length)<(D=a.length)?c:D,f=0;f<l;f++)if(r[f]!=a[f])return r[f]>a[f]^n?1:-1;return c==D?0:c>D^n?1:-1}function ge(e,t,n,i){if(e<t||e>n||e!==Ze(e))throw Error($e+(i||"Argument")+(typeof e=="number"?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Pt(e){var t=e.c.length-1;return Ge(e.e/ie)==t&&e.c[t]%2!=0}function zt(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function it(e,t,n){var i,r;if(t<0){for(r=n+".";++t;r+=n);e=r+e}else if(i=e.length,++t>i){for(r=n,t-=i;--t;r+=n);e+=r}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}var rn=tn();function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kt.apply(this,arguments)}var nn={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function ye(e){return typeof e=="number"}function We(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function un(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function on(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function sn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function rt(e){return typeof e=="string"}var me=Array.isArray;function Pe(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Vt(e){return Array.isArray(e)||Pe(e)}function Yi(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Ji(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Ki(e){return e&&e.constructor.prototype.isRange===!0||!1}function Fr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Qi(e){return typeof e=="boolean"}function ji(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function eu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function tu(e){return typeof e=="function"}function ru(e){return e instanceof Date}function nu(e){return e instanceof RegExp}function an(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!un(e)&&!on(e))}function iu(e){return e===null}function uu(e){return e===void 0}function ou(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function su(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function au(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function fu(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function cu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function lu(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function hu(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function pu(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Du(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function du(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function vu(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function wu(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function gu(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function mu(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Au(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function yu(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Eu(e){return e&&e.constructor.prototype.isChain===!0||!1}function bt(e){var t=typeof e;return t==="object"?e===null?"null":We(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Se(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Se(n)});if(e instanceof Date)return new Date(e.valueOf());if(We(e))return e;if(an(e))return Fu(e,Se);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Fu(e,t){var n={};for(var i in e)Zt(e,i)&&(n[i]=t(e[i]));return n}function Ft(e,t){var n,i,r;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(i=0,r=e.length;i<r;i++)if(!Ft(e[i],t[i]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Ft(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function Zt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Cu(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i],a=e[r];a!==void 0&&(n[r]=a)}return n}var Bu=["Matrix","Array"],_u=["number","BigNumber","Fraction"],jt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(nn)};kt(jt,nn,{MATRIX_OPTIONS:Bu,NUMBER_OPTIONS:_u});function br(){return!0}function Ve(){return!1}function At(){}const Tr="Argument is not a typed-function.";function fn(){function e(S){return typeof S=="object"&&S!==null&&S.constructor===Object}const t=[{name:"number",test:function(S){return typeof S=="number"}},{name:"string",test:function(S){return typeof S=="string"}},{name:"boolean",test:function(S){return typeof S=="boolean"}},{name:"Function",test:function(S){return typeof S=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(S){return S instanceof Date}},{name:"RegExp",test:function(S){return S instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(S){return S===null}},{name:"undefined",test:function(S){return S===void 0}}],n={name:"any",test:br,isAny:!0};let i,r,a=0,f={createCount:0};function l(S){const z=i.get(S);if(z)return z;let $='Unknown type "'+S+'"';const L=S.toLowerCase();let V;for(V of r)if(V.toLowerCase()===L){$+='. Did you mean "'+V+'" ?';break}throw new TypeError($)}function c(S){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const $=z?l(z).index:r.length,L=[];for(let q=0;q<S.length;++q){if(!S[q]||typeof S[q].name!="string"||typeof S[q].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const W=S[q].name;if(i.has(W))throw new TypeError('Duplicate type name "'+W+'"');L.push(W),i.set(W,{name:W,test:S[q].test,isAny:S[q].isAny,index:$+q,conversionsTo:[]})}const V=r.slice($);r=r.slice(0,$).concat(L).concat(V);for(let q=$+L.length;q<r.length;++q)i.get(r[q]).index=q}function D(){i=new Map,r=[],a=0,c([n],!1)}D(),c(t);function s(){let S;for(S of r)i.get(S).conversionsTo=[];a=0}function u(S){const z=r.filter($=>{const L=i.get($);return!L.isAny&&L.test(S)});return z.length?z:["any"]}function o(S){return S&&typeof S=="function"&&"_typedFunctionData"in S}function p(S,z,$){if(!o(S))throw new TypeError(Tr);const L=$&&$.exact,V=Array.isArray(z)?z.join(","):z,q=I(V),W=g(q);if(!L||W in S.signatures){const he=S._typedFunctionData.signatureMap.get(W);if(he)return he}const H=q.length;let X;if(L){X=[];let he;for(he in S.signatures)X.push(S._typedFunctionData.signatureMap.get(he))}else X=S._typedFunctionData.signatures;for(let he=0;he<H;++he){const De=q[he],Ee=[];let ze;for(ze of X){const Ie=d(ze.params,he);if(!(!Ie||De.restParam&&!Ie.restParam)){if(!Ie.hasAny){const Je=F(Ie);if(De.types.some(Ke=>!Je.has(Ke.name)))continue}Ee.push(ze)}}if(X=Ee,X.length===0)break}let Z;for(Z of X)if(Z.params.length<=H)return Z;throw new TypeError("Signature not found (signature: "+(S.name||"unnamed")+"("+g(q,", ")+"))")}function A(S,z,$){return p(S,z,$).implementation}function h(S,z){const $=l(z);if($.test(S))return S;const L=$.conversionsTo;if(L.length===0)throw new Error("There are no conversions to "+z+" defined.");for(let V=0;V<L.length;V++)if(l(L[V].from).test(S))return L[V].convert(S);throw new Error("Cannot convert "+S+" to "+z)}function g(S){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return S.map($=>$.name).join(z)}function w(S){const z=S.indexOf("...")===0,L=(z?S.length>3?S.slice(3):"any":S).split("|").map(H=>l(H.trim()));let V=!1,q=z?"...":"";return{types:L.map(function(H){return V=H.isAny||V,q+=H.name+"|",{name:H.name,typeIndex:H.index,test:H.test,isAny:H.isAny,conversion:null,conversionIndex:-1}}),name:q.slice(0,-1),hasAny:V,hasConversion:!1,restParam:z}}function m(S){const z=S.types.map(W=>W.name),$=O(z);let L=S.hasAny,V=S.name;const q=$.map(function(W){const H=l(W.from);return L=H.isAny||L,V+="|"+W.from,{name:W.from,typeIndex:H.index,test:H.test,isAny:H.isAny,conversion:W,conversionIndex:W.index}});return{types:S.types.concat(q),name:V,hasAny:L,hasConversion:q.length>0,restParam:S.restParam}}function F(S){return S.typeSet||(S.typeSet=new Set,S.types.forEach(z=>S.typeSet.add(z.name))),S.typeSet}function I(S){const z=[];if(typeof S!="string")throw new TypeError("Signatures must be strings");const $=S.trim();if($==="")return z;const L=$.split(",");for(let V=0;V<L.length;++V){const q=w(L[V].trim());if(q.restParam&&V!==L.length-1)throw new SyntaxError('Unexpected rest parameter "'+L[V]+'": only allowed for the last parameter');if(q.types.length===0)return null;z.push(q)}return z}function M(S){const z=fe(S);return z?z.restParam:!1}function T(S){if(!S||S.types.length===0)return br;if(S.types.length===1)return l(S.types[0].name).test;if(S.types.length===2){const z=l(S.types[0].name).test,$=l(S.types[1].name).test;return function(V){return z(V)||$(V)}}else{const z=S.types.map(function($){return l($.name).test});return function(L){for(let V=0;V<z.length;V++)if(z[V](L))return!0;return!1}}}function P(S){let z,$,L;if(M(S)){z=de(S).map(T);const V=z.length,q=T(fe(S)),W=function(H){for(let X=V;X<H.length;X++)if(!q(H[X]))return!1;return!0};return function(X){for(let Z=0;Z<z.length;Z++)if(!z[Z](X[Z]))return!1;return W(X)&&X.length>=V+1}}else return S.length===0?function(q){return q.length===0}:S.length===1?($=T(S[0]),function(q){return $(q[0])&&q.length===1}):S.length===2?($=T(S[0]),L=T(S[1]),function(q){return $(q[0])&&L(q[1])&&q.length===2}):(z=S.map(T),function(q){for(let W=0;W<z.length;W++)if(!z[W](q[W]))return!1;return q.length===z.length})}function d(S,z){return z<S.length?S[z]:M(S)?fe(S):null}function v(S,z){const $=d(S,z);return $?F($):new Set}function y(S){return S.conversion===null||S.conversion===void 0}function B(S,z){const $=new Set;return S.forEach(L=>{const V=v(L.params,z);let q;for(q of V)$.add(q)}),$.has("any")?["any"]:Array.from($)}function C(S,z,$){let L,V;const q=S||"unnamed";let W=$,H;for(H=0;H<z.length;H++){const De=[];if(W.forEach(Ee=>{const ze=d(Ee.params,H),Ie=T(ze);(H<Ee.params.length||M(Ee.params))&&Ie(z[H])&&De.push(Ee)}),De.length===0){if(V=B(W,H),V.length>0){const Ee=u(z[H]);return L=new TypeError("Unexpected type of argument in function "+q+" (expected: "+V.join(" or ")+", actual: "+Ee.join(" | ")+", index: "+H+")"),L.data={category:"wrongType",fn:q,index:H,actual:Ee,expected:V},L}}else W=De}const X=W.map(function(De){return M(De.params)?1/0:De.params.length});if(z.length<Math.min.apply(null,X))return V=B(W,H),L=new TypeError("Too few arguments in function "+q+" (expected: "+V.join(" or ")+", index: "+z.length+")"),L.data={category:"tooFewArgs",fn:q,index:z.length,expected:V},L;const Z=Math.max.apply(null,X);if(z.length>Z)return L=new TypeError("Too many arguments in function "+q+" (expected: "+Z+", actual: "+z.length+")"),L.data={category:"tooManyArgs",fn:q,index:z.length,expectedLength:Z},L;const he=[];for(let De=0;De<z.length;++De)he.push(u(z[De]).join("|"));return L=new TypeError('Arguments of type "'+he.join(", ")+'" do not match any of the defined signatures of function '+q+"."),L.data={category:"mismatch",actual:he},L}function N(S){let z=r.length+1;for(let $=0;$<S.types.length;$++)y(S.types[$])&&(z=Math.min(z,S.types[$].typeIndex));return z}function x(S){let z=a+1;for(let $=0;$<S.types.length;$++)y(S.types[$])||(z=Math.min(z,S.types[$].conversionIndex));return z}function _(S,z){if(S.hasAny){if(!z.hasAny)return 1}else if(z.hasAny)return-1;if(S.restParam){if(!z.restParam)return 1}else if(z.restParam)return-1;if(S.hasConversion){if(!z.hasConversion)return 1}else if(z.hasConversion)return-1;const $=N(S)-N(z);if($<0)return-1;if($>0)return 1;const L=x(S)-x(z);return L<0?-1:L>0?1:0}function E(S,z){const $=S.params,L=z.params,V=fe($),q=fe(L),W=M($),H=M(L);if(W&&V.hasAny){if(!H||!q.hasAny)return 1}else if(H&&q.hasAny)return-1;let X=0,Z=0,he;for(he of $)he.hasAny&&++X,he.hasConversion&&++Z;let De=0,Ee=0;for(he of L)he.hasAny&&++De,he.hasConversion&&++Ee;if(X!==De)return X-De;if(W&&V.hasConversion){if(!H||!q.hasConversion)return 1}else if(H&&q.hasConversion)return-1;if(Z!==Ee)return Z-Ee;if(W){if(!H)return 1}else if(H)return-1;const ze=($.length-L.length)*(W?-1:1);if(ze!==0)return ze;const Ie=[];let Je=0;for(let mt=0;mt<$.length;++mt){const Ot=_($[mt],L[mt]);Ie.push(Ot),Je+=Ot}if(Je!==0)return Je;let Ke;for(Ke of Ie)if(Ke!==0)return Ke;return 0}function O(S){if(S.length===0)return[];const z=S.map(l);S.length>1&&z.sort((V,q)=>V.index-q.index);let $=z[0].conversionsTo;if(S.length===1)return $;$=$.concat([]);const L=new Set(S);for(let V=1;V<z.length;++V){let q;for(q of z[V].conversionsTo)L.has(q.from)||($.push(q),L.add(q.from))}return $}function b(S,z){let $=z;if(S.some(V=>V.hasConversion)){const V=M(S),q=S.map(R);$=function(){const H=[],X=V?arguments.length-1:arguments.length;for(let Z=0;Z<X;Z++)H[Z]=q[Z](arguments[Z]);return V&&(H[X]=arguments[X].map(q[X])),z.apply(this,H)}}let L=$;if(M(S)){const V=S.length-1;L=function(){return $.apply(this,se(arguments,0,V).concat([se(arguments,V)]))}}return L}function R(S){let z,$,L,V;const q=[],W=[];switch(S.types.forEach(function(H){H.conversion&&(q.push(l(H.conversion.from).test),W.push(H.conversion.convert))}),W.length){case 0:return function(X){return X};case 1:return z=q[0],L=W[0],function(X){return z(X)?L(X):X};case 2:return z=q[0],$=q[1],L=W[0],V=W[1],function(X){return z(X)?L(X):$(X)?V(X):X};default:return function(X){for(let Z=0;Z<W.length;Z++)if(q[Z](X))return W[Z](X);return X}}}function k(S){function z($,L,V){if(L<$.length){const q=$[L];let W=[];if(q.restParam){const H=q.types.filter(y);H.length<q.types.length&&W.push({types:H,name:"..."+H.map(X=>X.name).join("|"),hasAny:H.some(X=>X.isAny),hasConversion:!1,restParam:!0}),W.push(q)}else W=q.types.map(function(H){return{types:[H],name:H.name,hasAny:H.isAny,hasConversion:H.conversion,restParam:!1}});return ve(W,function(H){return z($,L+1,V.concat([H]))})}else return[V]}return z(S,0,[])}function G(S,z){const $=Math.max(S.length,z.length);for(let H=0;H<$;H++){const X=v(S,H),Z=v(z,H);let he=!1,De;for(De of Z)if(X.has(De)){he=!0;break}if(!he)return!1}const L=S.length,V=z.length,q=M(S),W=M(z);return q?W?L===V:V>=L:W?L>=V:L===V}function Y(S){return S.map(z=>Ye(z)?oe(z.referToSelf.callback):Xe(z)?ae(z.referTo.references,z.referTo.callback):z)}function K(S,z,$){const L=[];let V;for(V of S){let q=$[V];if(typeof q!="number")throw new TypeError('No definition for referenced signature "'+V+'"');if(q=z[q],typeof q!="function")return!1;L.push(q)}return L}function re(S,z,$){const L=Y(S),V=new Array(L.length).fill(!1);let q=!0;for(;q;){q=!1;let W=!0;for(let H=0;H<L.length;++H){if(V[H])continue;const X=L[H];if(Ye(X))L[H]=X.referToSelf.callback($),L[H].referToSelf=X.referToSelf,V[H]=!0,W=!1;else if(Xe(X)){const Z=K(X.referTo.references,L,z);Z?(L[H]=X.referTo.callback.apply(this,Z),L[H].referTo=X.referTo,V[H]=!0,W=!1):q=!0}}if(W&&q)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return L}function J(S){const z=/\bthis(\(|\.signatures\b)/;Object.keys(S).forEach($=>{const L=S[$];if(z.test(L.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Q(S,z){if(f.createCount++,Object.keys(z).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&J(z);const $=[],L=[],V={},q=[];let W;for(W in z){if(!Object.prototype.hasOwnProperty.call(z,W))continue;const le=I(W);if(!le)continue;$.forEach(function(Mt){if(G(Mt,le))throw new TypeError('Conflicting signatures "'+g(Mt)+'" and "'+g(le)+'".')}),$.push(le);const Re=L.length;L.push(z[W]);const Ai=le.map(m);let It;for(It of k(Ai)){const Mt=g(It);q.push({params:It,name:Mt,fn:Re}),It.every(yi=>!yi.hasConversion)&&(V[Mt]=Re)}}q.sort(E);const H=re(L,V,Nt);let X;for(X in V)Object.prototype.hasOwnProperty.call(V,X)&&(V[X]=H[V[X]]);const Z=[],he=new Map;for(X of q)he.has(X.name)||(X.fn=H[X.fn],Z.push(X),he.set(X.name,X));const De=Z[0]&&Z[0].params.length<=2&&!M(Z[0].params),Ee=Z[1]&&Z[1].params.length<=2&&!M(Z[1].params),ze=Z[2]&&Z[2].params.length<=2&&!M(Z[2].params),Ie=Z[3]&&Z[3].params.length<=2&&!M(Z[3].params),Je=Z[4]&&Z[4].params.length<=2&&!M(Z[4].params),Ke=Z[5]&&Z[5].params.length<=2&&!M(Z[5].params),mt=De&&Ee&&ze&&Ie&&Je&&Ke;for(let le=0;le<Z.length;++le)Z[le].test=P(Z[le].params);const Ot=De?T(Z[0].params[0]):Ve,Hn=Ee?T(Z[1].params[0]):Ve,Wn=ze?T(Z[2].params[0]):Ve,Xn=Ie?T(Z[3].params[0]):Ve,Yn=Je?T(Z[4].params[0]):Ve,Jn=Ke?T(Z[5].params[0]):Ve,Kn=De?T(Z[0].params[1]):Ve,Qn=Ee?T(Z[1].params[1]):Ve,jn=ze?T(Z[2].params[1]):Ve,ei=Ie?T(Z[3].params[1]):Ve,ti=Je?T(Z[4].params[1]):Ve,ri=Ke?T(Z[5].params[1]):Ve;for(let le=0;le<Z.length;++le)Z[le].implementation=b(Z[le].params,Z[le].fn);const ni=De?Z[0].implementation:At,ii=Ee?Z[1].implementation:At,ui=ze?Z[2].implementation:At,oi=Ie?Z[3].implementation:At,si=Je?Z[4].implementation:At,ai=Ke?Z[5].implementation:At,fi=De?Z[0].params.length:-1,ci=Ee?Z[1].params.length:-1,li=ze?Z[2].params.length:-1,hi=Ie?Z[3].params.length:-1,pi=Je?Z[4].params.length:-1,Di=Ke?Z[5].params.length:-1,di=mt?6:0,vi=Z.length,wi=Z.map(le=>le.test),gi=Z.map(le=>le.implementation),mi=function(){for(let Re=di;Re<vi;Re++)if(wi[Re](arguments))return gi[Re].apply(this,arguments);return f.onMismatch(S,arguments,Z)};function Nt(le,Re){return arguments.length===fi&&Ot(le)&&Kn(Re)?ni.apply(this,arguments):arguments.length===ci&&Hn(le)&&Qn(Re)?ii.apply(this,arguments):arguments.length===li&&Wn(le)&&jn(Re)?ui.apply(this,arguments):arguments.length===hi&&Xn(le)&&ei(Re)?oi.apply(this,arguments):arguments.length===pi&&Yn(le)&&ti(Re)?si.apply(this,arguments):arguments.length===Di&&Jn(le)&&ri(Re)?ai.apply(this,arguments):mi.apply(this,arguments)}try{Object.defineProperty(Nt,"name",{value:S})}catch{}return Nt.signatures=V,Nt._typedFunctionData={signatures:Z,signatureMap:he},Nt}function te(S,z,$){throw C(S,z,$)}function de(S){return se(S,0,S.length-1)}function fe(S){return S[S.length-1]}function se(S,z,$){return Array.prototype.slice.call(S,z,$)}function ce(S,z){for(let $=0;$<S.length;$++)if(z(S[$]))return S[$]}function ve(S,z){return Array.prototype.concat.apply([],S.map(z))}function ue(){const S=de(arguments).map($=>g(I($))),z=fe(arguments);if(typeof z!="function")throw new TypeError("Callback function expected as last argument");return ae(S,z)}function ae(S,z){return{referTo:{references:S,callback:z}}}function oe(S){if(typeof S!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:S}}}function Xe(S){return S&&typeof S.referTo=="object"&&Array.isArray(S.referTo.references)&&typeof S.referTo.callback=="function"}function Ye(S){return S&&typeof S.referToSelf=="object"&&typeof S.referToSelf.callback=="function"}function wt(S,z){if(!S)return z;if(z&&z!==S){const $=new Error("Function names do not match (expected: "+S+", actual: "+z+")");throw $.data={actual:z,expected:S},$}return S}function gt(S){let z;for(const $ in S)Object.prototype.hasOwnProperty.call(S,$)&&(o(S[$])||typeof S[$].signature=="string")&&(z=wt(z,S[$].name));return z}function ur(S,z){let $;for($ in z)if(Object.prototype.hasOwnProperty.call(z,$)){if($ in S&&z[$]!==S[$]){const L=new Error('Signature "'+$+'" is defined twice');throw L.data={signature:$,sourceFunction:z[$],destFunction:S[$]},L}S[$]=z[$]}}const Gn=f;f=function(S){const z=typeof S=="string",$=z?1:0;let L=z?S:"";const V={};for(let q=$;q<arguments.length;++q){const W=arguments[q];let H={},X;if(typeof W=="function"?(X=W.name,typeof W.signature=="string"?H[W.signature]=W:o(W)&&(H=W.signatures)):e(W)&&(H=W,z||(X=gt(W))),Object.keys(H).length===0){const Z=new TypeError("Argument to 'typed' at index "+q+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Z.data={index:q,argument:W},Z}z||(L=wt(L,X)),ur(V,H)}return Q(L||"",V)},f.create=fn,f.createCount=Gn.createCount,f.onMismatch=te,f.throwMismatchError=te,f.createError=C,f.clear=D,f.clearConversions=s,f.addTypes=c,f._findType=l,f.referTo=ue,f.referToSelf=oe,f.convert=h,f.findSignature=p,f.find=A,f.isTypedFunction=o,f.warnAgainstDeprecatedThis=!0,f.addType=function(S,z){let $="any";z!==!1&&i.has("Object")&&($="Object"),f.addTypes([S],$)};function Nr(S){if(!S||typeof S.from!="string"||typeof S.to!="string"||typeof S.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(S.to===S.from)throw new SyntaxError('Illegal to define conversion from "'+S.from+'" to itself.')}return f.addConversion=function(S){Nr(S);const z=l(S.to);if(z.conversionsTo.every(function($){return $.from!==S.from}))z.conversionsTo.push({from:S.from,convert:S.convert,index:a++});else throw new Error('There is already a conversion from "'+S.from+'" to "'+z.name+'"')},f.addConversions=function(S){S.forEach(f.addConversion)},f.removeConversion=function(S){Nr(S);const z=l(S.to),$=ce(z.conversionsTo,V=>V.from===S.from);if(!$)throw new Error("Attempt to remove nonexistent conversion from "+S.from+" to "+S.to);if($.convert!==S.convert)throw new Error("Conversion to remove does not match existing conversion");const L=z.conversionsTo.indexOf($);z.conversionsTo.splice(L,1)},f.resolve=function(S,z){if(!o(S))throw new TypeError(Tr);const $=S._typedFunctionData.signatures;for(let L=0;L<$.length;++L)if($[L].test(z))return $[L];return null},f}const Or=fn();function xe(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function cr(e,t,n){var i={2:"0b",8:"0o",16:"0x"},r=i[t],a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!xe(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!xe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),a="i".concat(n)}var f="";return e<0&&(e=-e,f="-"),"".concat(f).concat(r).concat(e.toString(t)).concat(a)}function dr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",i,r;if(t&&(t.notation&&(n=t.notation),ye(t)?i=t:ye(t.precision)&&(i=t.precision),t.wordSize&&(r=t.wordSize,typeof r!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Mu(e,i);case"exponential":return cn(e,i);case"engineering":return Nu(e,i);case"bin":return cr(e,2,r);case"oct":return cr(e,8,r);case"hex":return cr(e,16,r);case"auto":return Su(e,i,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function er(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],i=t[2],r=parseFloat(t[4]||"0"),a=i.indexOf(".");r+=a!==-1?a-1:i.length-1;var f=i.replace(".","").replace(/^0*/,function(l){return r-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return f.length===0&&(f.push(0),r++),{sign:n,coefficients:f,exponent:r}}function Nu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=er(e),i=tr(n,t),r=i.exponent,a=i.coefficients,f=r%3===0?r:r<0?r-3-r%3:r-r%3;if(ye(t))for(;t>a.length||r-f+1>a.length;)a.push(0);else for(var l=Math.abs(r-f)-(a.length-1),c=0;c<l;c++)a.push(0);for(var D=Math.abs(r-f),s=1;D>0;)s++,D--;var u=a.slice(s).join(""),o=ye(t)&&u.length||u.match(/[1-9]/)?"."+u:"",p=a.slice(0,s).join("")+o+"e"+(r>=0?"+":"")+f.toString();return i.sign+p}function Mu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=er(e),i=typeof t=="number"?tr(n,n.exponent+1+t):n,r=i.coefficients,a=i.exponent+1,f=a+(t||0);return r.length<f&&(r=r.concat(Et(f-r.length))),a<0&&(r=Et(-a+1).concat(r),a=1),a<r.length&&r.splice(a,0,a===0?"0.":"."),i.sign+r.join("")}function cn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=er(e),i=t?tr(n,t):n,r=i.coefficients,a=i.exponent;r.length<t&&(r=r.concat(Et(t-r.length)));var f=r.shift();return i.sign+f+(r.length>0?"."+r.join(""):"")+"e"+(a>=0?"+":"")+a}function Su(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var i=n&&n.lowerExp!==void 0?n.lowerExp:-3,r=n&&n.upperExp!==void 0?n.upperExp:5,a=er(e),f=t?tr(a,t):a;if(f.exponent<i||f.exponent>=r)return cn(e,t);var l=f.coefficients,c=f.exponent;l.length<t&&(l=l.concat(Et(t-l.length))),l=l.concat(Et(c-l.length+1+(l.length<t?t-l.length:0))),l=Et(-c).concat(l);var D=c>0?c:0;return D<l.length-1&&l.splice(D+1,0,"."),f.sign+l.join("")}function tr(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=n.coefficients;t<=0;)i.unshift(0),n.exponent++,t++;if(i.length>t){var r=i.splice(t,i.length-t);if(r[0]>=5){var a=t-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),n.exponent++,a++),a--,i[a]++}}return n}function Et(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function xu(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var bu=Number.EPSILON||2220446049250313e-31;function Gt(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<=bu?!0:i<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function lr(e,t,n){var i=e.constructor,r=new i(2),a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!xe(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),a="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function Tu(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",i,r;if(t!==void 0&&(t.notation&&(n=t.notation),typeof t=="number"?i=t:t.precision!==void 0&&(i=t.precision),t.wordSize&&(r=t.wordSize,typeof r!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Iu(e,i);case"exponential":return Ir(e,i);case"engineering":return Ou(e,i);case"bin":return lr(e,2,r);case"oct":return lr(e,8,r);case"hex":return lr(e,16,r);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,f=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var l,c=e.toSignificantDigits(i),D=c.e;return D>=a&&D<f?l=c.toFixed():l=Ir(e,i),l.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],u=arguments[4];return s!=="."?s+u:u})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ou(e,t){var n=e.e,i=n%3===0?n:n<0?n-3-n%3:n-n%3,r=e.mul(Math.pow(10,-i)),a=r.toPrecision(t);if(a.indexOf("e")!==-1){var f=e.constructor;a=new f(a).toFixed()}return a+"e"+(n>=0?"+":"")+i.toString()}function Ir(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Iu(e,t){return e.toFixed(t)}function qe(e,t){var n=Pu(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function Pu(e,t){if(typeof e=="number")return dr(e,t);if(We(e))return Tu(e,t);if(zu(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return ln(e,t);if(rt(e))return Pr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(i=>Pr(i)+": "+qe(e[i],t));return"{"+n.join(", ")+"}"}return String(e)}function Pr(e){for(var t=String(e),n="",i=0;i<t.length;){var r=t.charAt(i);n+=r in zr?zr[r]:r,i++}return'"'+n+'"'}var zr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function ln(e,t){if(Array.isArray(e)){for(var n="[",i=e.length,r=0;r<i;r++)r!==0&&(n+=", "),n+=ln(e[r],t);return n+="]",n}else return qe(e,t)}function zu(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function we(e,t,n){if(!(this instanceof we))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}we.prototype=new RangeError;we.prototype.constructor=RangeError;we.prototype.name="DimensionError";we.prototype.isDimensionError=!0;function _t(e,t,n){if(!(this instanceof _t))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}_t.prototype=new RangeError;_t.prototype.constructor=RangeError;_t.prototype.name="IndexError";_t.prototype.isIndexError=!0;function et(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function hn(e,t,n){var i,r=e.length;if(r!==t[n])throw new we(r,t[n]);if(n<t.length-1){var a=n+1;for(i=0;i<r;i++){var f=e[i];if(!Array.isArray(f))throw new we(t.length-1,t.length,"<");hn(e[i],t,a)}}else for(i=0;i<r;i++)if(Array.isArray(e[i]))throw new we(t.length+1,t.length,">")}function Rr(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new we(e.length,0)}else hn(e,t,0)}function Ae(e,t){if(e!==void 0){if(!ye(e)||!xe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new _t(e,t)}}function $r(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(r){if(!ye(r)||!xe(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+qe(t)+")")}),(ye(e)||We(e))&&(e=[e]);var i=n!==void 0?n:0;return vr(e,t,0,i),e}function vr(e,t,n,i){var r,a,f=e.length,l=t[n],c=Math.min(f,l);if(e.length=l,n<t.length-1){var D=n+1;for(r=0;r<c;r++)a=e[r],Array.isArray(a)||(a=[a],e[r]=a),vr(a,t,D,i);for(r=c;r<l;r++)a=[],e[r]=a,vr(a,t,D,i)}else{for(r=0;r<c;r++)for(;Array.isArray(e[r]);)e[r]=e[r][0];for(r=c;r<l;r++)e[r]=i}}function pn(e,t){var n=$u(e),i=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new we(0,i,"!=");t=Cr(t,i);var r=Dn(t);if(i!==r)throw new we(r,i,"!=");try{return Ru(n,t)}catch(a){throw a instanceof we?new we(r,i,"!="):a}}function Cr(e,t){var n=Dn(e),i=e.slice(),r=-1,a=e.indexOf(r),f=e.indexOf(r,a+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var l=a>=0,c=t%n===0;if(l)if(c)i[a]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return i}function Dn(e){return e.reduce((t,n)=>t*n,1)}function Ru(e,t){for(var n=e,i,r=t.length-1;r>0;r--){var a=t[r];i=[];for(var f=n.length/a,l=0;l<f;l++)i.push(n.slice(l*a,(l+1)*a));n=i}return n}function dn(e,t,n,i){var r=i||et(e);if(n)for(var a=0;a<n;a++)e=[e],r.unshift(1);for(e=vn(e,t,0);r.length<t;)r.push(1);return e}function vn(e,t,n){var i,r;if(Array.isArray(e)){var a=n+1;for(i=0,r=e.length;i<r;i++)e[i]=vn(e[i],t,a)}else for(var f=n;f<t;f++)e=[e];return e}function $u(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(i){Array.isArray(i)?i.forEach(n):t.push(i)}),t}function Ht(e,t){for(var n,i=0,r=0;r<e.length;r++){var a=e[r],f=Array.isArray(a);if(r===0&&f&&(i=a.length),f&&a.length!==i)return;var l=f?Ht(a,t):t(a);if(n===void 0)n=l;else if(n!==l)return"mixed"}return n}function wn(e,t,n,i){if(i<n){if(e.length!==t.length)throw new we(e.length,t.length);for(var r=[],a=0;a<e.length;a++)r[a]=wn(e[a],t[a],n,i+1);return r}else return e.concat(t)}function Lu(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,i){return wn(n,i,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function qu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t.map(o=>o.length),r=Math.max(...i),a=new Array(r).fill(null),f=0;f<t.length;f++)for(var l=t[f],c=i[f],D=0;D<c;D++){var s=r-c+D;l[D]>a[s]&&(a[s]=l[D])}for(var u=0;u<t.length;u++)gn(t[u],a);return a}function gn(e,t){for(var n=t.length,i=e.length,r=0;r<i;r++){var a=n-i+r;if(e[r]<t[a]&&e[r]>1||e[r]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(i," with size ").concat(e[r]," to size ").concat(t[a]))}}function Lr(e,t){var n=et(e);if(Ft(n,t))return e;gn(n,t);var i=qu(n,t),r=i.length,a=[...Array(r-n.length).fill(1),...n],f=ku(e);n.length<r&&(f=pn(f,a),n=et(f));for(var l=0;l<r;l++)n[l]<i[l]&&(f=Uu(f,i[l],l),n=et(f));return f}function Uu(e,t,n){return Lu(...Array(t).fill(e),n)}function ku(e){return kt([],e)}function _e(e,t,n,i){function r(a){var f=Cu(a,t.map(Gu));return Vu(e,t,a),n(f)}return r.isFactory=!0,r.fn=e,r.dependencies=t.slice().sort(),i&&(r.meta=i),r}function Vu(e,t,n){var i=t.filter(a=>!Zu(a)).every(a=>n[a]!==void 0);if(!i){var r=t.filter(a=>n[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Zu(e){return e&&e[0]==="?"}function Gu(e){return e&&e[0]==="?"?e.slice(1):e}function Hu(e,t){if(An(e)&&mn(e,t))return e[t];throw typeof e[t]=="function"&&Yu(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Wu(e,t,n){if(An(e)&&mn(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Xu(e,t){return t in e}function mn(e,t){return!e||typeof e!="object"?!1:Zt(Ju,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Yu(e,t){return e==null||typeof e[t]!="function"||Zt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Zt(Ku,t)?!0:!(t in Object.prototype||t in Function.prototype)}function An(e){return typeof e=="object"&&e&&e.constructor===Object}var Ju={length:!0,name:!0},Ku={toString:!0,valueOf:!0,toLocaleString:!0};class Qu{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Hu(this.wrappedObject,t)}set(t,n){return Wu(this.wrappedObject,t,n),this}has(t){return Xu(this.wrappedObject,t)}}function ju(e){return e?e instanceof Map||e instanceof Qu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var yn=function(){return yn=Or.create,Or},eo=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],to=_e("typed",eo,function(t){var{BigNumber:n,Complex:i,DenseMatrix:r,Fraction:a}=t,f=yn();return f.clear(),f.addTypes([{name:"number",test:ye},{name:"Complex",test:un},{name:"BigNumber",test:We},{name:"Fraction",test:on},{name:"Unit",test:sn},{name:"identifier",test:l=>rt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:rt},{name:"Chain",test:Eu},{name:"Array",test:me},{name:"Matrix",test:Pe},{name:"DenseMatrix",test:Yi},{name:"SparseMatrix",test:Ji},{name:"Range",test:Ki},{name:"Index",test:Fr},{name:"boolean",test:Qi},{name:"ResultSet",test:ji},{name:"Help",test:eu},{name:"function",test:tu},{name:"Date",test:ru},{name:"RegExp",test:nu},{name:"null",test:iu},{name:"undefined",test:uu},{name:"AccessorNode",test:ou},{name:"ArrayNode",test:su},{name:"AssignmentNode",test:au},{name:"BlockNode",test:fu},{name:"ConditionalNode",test:cu},{name:"ConstantNode",test:lu},{name:"FunctionNode",test:pu},{name:"FunctionAssignmentNode",test:hu},{name:"IndexNode",test:Du},{name:"Node",test:du},{name:"ObjectNode",test:vu},{name:"OperatorNode",test:wu},{name:"ParenthesisNode",test:gu},{name:"RangeNode",test:mu},{name:"RelationalNode",test:Au},{name:"SymbolNode",test:yu},{name:"Map",test:ju},{name:"Object",test:an}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(n||hr(c),xu(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new n(c)}},{from:"number",to:"Complex",convert:function(c){return i||Rt(c),new i(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return i||Rt(c),new i(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return i||Rt(c),new i(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){a||pr(c);var D=new a(c);if(D.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return D}},{from:"string",to:"number",convert:function(c){var D=Number(c);if(isNaN(D))throw new Error('Cannot convert "'+c+'" to a number');return D}},{from:"string",to:"BigNumber",convert:function(c){n||hr(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){a||pr(c);try{return new a(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){i||Rt(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return n||hr(c),new n(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return a||pr(c),new a(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return r||ro(),new r(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),f.onMismatch=(l,c,D)=>{var s=f.createError(l,c,D);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Vt(c[0])&&D.some(o=>!o.params.includes(","))){var u=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw u.data=s.data,u}throw s},f.onMismatch=(l,c,D)=>{var s=f.createError(l,c,D);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Vt(c[0])&&D.some(o=>!o.params.includes(","))){var u=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw u.data=s.data,u}throw s},f});function hr(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Rt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function ro(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function pr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var yt=9e15,pt=1e9,wr="0123456789abcdef",Wt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Xt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",gr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-yt,maxE:yt,crypto:!1},En,st,ne=!0,rr="[DecimalError] ",ht=rr+"Invalid argument: ",Fn=rr+"Precision limit exceeded",Cn=rr+"crypto unavailable",Bn="[object Decimal]",Oe=Math.floor,Be=Math.pow,no=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,io=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,uo=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_n=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tt=1e7,ee=7,oo=9007199254740991,so=Wt.length-1,mr=Xt.length-1,U={toStringTag:Bn};U.absoluteValue=U.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),j(e)};U.ceil=function(){return j(new this.constructor(this),this.e+1,2)};U.clampedTo=U.clamp=function(e,t){var n,i=this,r=i.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(ht+t);return n=i.cmp(e),n<0?e:i.cmp(t)>0?t:new r(i)};U.comparedTo=U.cmp=function(e){var t,n,i,r,a=this,f=a.d,l=(e=new a.constructor(e)).d,c=a.s,D=e.s;if(!f||!l)return!c||!D?NaN:c!==D?c:f===l?0:!f^c<0?1:-1;if(!f[0]||!l[0])return f[0]?c:l[0]?-D:0;if(c!==D)return c;if(a.e!==e.e)return a.e>e.e^c<0?1:-1;for(i=f.length,r=l.length,t=0,n=i<r?i:r;t<n;++t)if(f[t]!==l[t])return f[t]>l[t]^c<0?1:-1;return i===r?0:i>r^c<0?1:-1};U.cosine=U.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+ee,i.rounding=1,n=ao(i,bn(i,n)),i.precision=e,i.rounding=t,j(st==2||st==3?n.neg():n,e,t,!0)):new i(1):new i(NaN)};U.cubeRoot=U.cbrt=function(){var e,t,n,i,r,a,f,l,c,D,s=this,u=s.constructor;if(!s.isFinite()||s.isZero())return new u(s);for(ne=!1,a=s.s*Be(s.s*s,1/3),!a||Math.abs(a)==1/0?(n=be(s.d),e=s.e,(a=(e-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=Be(n,1/3),e=Oe((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?n="5e"+e:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new u(n),i.s=s.s):i=new u(a.toString()),f=(e=u.precision)+3;;)if(l=i,c=l.times(l).times(l),D=c.plus(s),i=pe(D.plus(s).times(l),D.plus(c),f+2,1),be(l.d).slice(0,f)===(n=be(i.d)).slice(0,f))if(n=n.slice(f-3,f+1),n=="9999"||!r&&n=="4999"){if(!r&&(j(l,e+1,0),l.times(l).times(l).eq(s))){i=l;break}f+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(j(i,e+1,1),t=!i.times(i).times(i).eq(s));break}return ne=!0,j(i,e,u.rounding,t)};U.decimalPlaces=U.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-Oe(this.e/ee))*ee,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};U.dividedBy=U.div=function(e){return pe(this,new this.constructor(e))};U.dividedToIntegerBy=U.divToInt=function(e){var t=this,n=t.constructor;return j(pe(t,new n(e),0,1,1),n.precision,n.rounding)};U.equals=U.eq=function(e){return this.cmp(e)===0};U.floor=function(){return j(new this.constructor(this),this.e+1,3)};U.greaterThan=U.gt=function(e){return this.cmp(e)>0};U.greaterThanOrEqualTo=U.gte=function(e){var t=this.cmp(e);return t==1||t===0};U.hyperbolicCosine=U.cosh=function(){var e,t,n,i,r,a=this,f=a.constructor,l=new f(1);if(!a.isFinite())return new f(a.s?1/0:NaN);if(a.isZero())return l;n=f.precision,i=f.rounding,f.precision=n+Math.max(a.e,a.sd())+4,f.rounding=1,r=a.d.length,r<32?(e=Math.ceil(r/3),t=(1/ir(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=Ct(f,1,a.times(t),new f(1),!0);for(var c,D=e,s=new f(8);D--;)c=a.times(a),a=l.minus(c.times(s.minus(c.times(s))));return j(a,f.precision=n,f.rounding=i,!0)};U.hyperbolicSine=U.sinh=function(){var e,t,n,i,r=this,a=r.constructor;if(!r.isFinite()||r.isZero())return new a(r);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(r.e,r.sd())+4,a.rounding=1,i=r.d.length,i<3)r=Ct(a,2,r,r,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,r=r.times(1/ir(5,e)),r=Ct(a,2,r,r,!0);for(var f,l=new a(5),c=new a(16),D=new a(20);e--;)f=r.times(r),r=r.times(l.plus(f.times(c.times(f).plus(D))))}return a.precision=t,a.rounding=n,j(r,t,n,!0)};U.hyperbolicTangent=U.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,pe(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)};U.inverseCosine=U.acos=function(){var e,t=this,n=t.constructor,i=t.abs().cmp(1),r=n.precision,a=n.rounding;return i!==-1?i===0?t.isNeg()?je(n,r,a):new n(0):new n(NaN):t.isZero()?je(n,r+4,a).times(.5):(n.precision=r+6,n.rounding=1,t=t.asin(),e=je(n,r+4,a).times(.5),n.precision=r,n.rounding=a,e.minus(t))};U.inverseHyperbolicCosine=U.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,ne=!1,n=n.times(n).minus(1).sqrt().plus(n),ne=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)};U.inverseHyperbolicSine=U.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,ne=!1,n=n.times(n).plus(1).sqrt().plus(n),ne=!0,i.precision=e,i.rounding=t,n.ln())};U.inverseHyperbolicTangent=U.atanh=function(){var e,t,n,i,r=this,a=r.constructor;return r.isFinite()?r.e>=0?new a(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=a.precision,t=a.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?j(new a(r),e,t,!0):(a.precision=n=i-r.e,r=pe(r.plus(1),new a(1).minus(r),n+e,1),a.precision=e+4,a.rounding=1,r=r.ln(),a.precision=e,a.rounding=t,r.times(.5))):new a(NaN)};U.inverseSine=U.asin=function(){var e,t,n,i,r=this,a=r.constructor;return r.isZero()?new a(r):(t=r.abs().cmp(1),n=a.precision,i=a.rounding,t!==-1?t===0?(e=je(a,n+4,i).times(.5),e.s=r.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,r=r.div(new a(1).minus(r.times(r)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=i,r.times(2)))};U.inverseTangent=U.atan=function(){var e,t,n,i,r,a,f,l,c,D=this,s=D.constructor,u=s.precision,o=s.rounding;if(D.isFinite()){if(D.isZero())return new s(D);if(D.abs().eq(1)&&u+4<=mr)return f=je(s,u+4,o).times(.25),f.s=D.s,f}else{if(!D.s)return new s(NaN);if(u+4<=mr)return f=je(s,u+4,o).times(.5),f.s=D.s,f}for(s.precision=l=u+10,s.rounding=1,n=Math.min(28,l/ee+2|0),e=n;e;--e)D=D.div(D.times(D).plus(1).sqrt().plus(1));for(ne=!1,t=Math.ceil(l/ee),i=1,c=D.times(D),f=new s(D),r=D;e!==-1;)if(r=r.times(c),a=f.minus(r.div(i+=2)),r=r.times(c),f=a.plus(r.div(i+=2)),f.d[t]!==void 0)for(e=t;f.d[e]===a.d[e]&&e--;);return n&&(f=f.times(2<<n-1)),ne=!0,j(f,s.precision=u,s.rounding=o,!0)};U.isFinite=function(){return!!this.d};U.isInteger=U.isInt=function(){return!!this.d&&Oe(this.e/ee)>this.d.length-2};U.isNaN=function(){return!this.s};U.isNegative=U.isNeg=function(){return this.s<0};U.isPositive=U.isPos=function(){return this.s>0};U.isZero=function(){return!!this.d&&this.d[0]===0};U.lessThan=U.lt=function(e){return this.cmp(e)<0};U.lessThanOrEqualTo=U.lte=function(e){return this.cmp(e)<1};U.logarithm=U.log=function(e){var t,n,i,r,a,f,l,c,D=this,s=D.constructor,u=s.precision,o=s.rounding,p=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(n=D.d,D.s<0||!n||!n[0]||D.eq(1))return new s(n&&!n[0]?-1/0:D.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(r=n[0];r%10===0;)r/=10;a=r!==1}if(ne=!1,l=u+p,f=lt(D,l),i=t?Yt(s,l+10):lt(e,l),c=pe(f,i,l,1),Tt(c.d,r=u,o))do if(l+=10,f=lt(D,l),i=t?Yt(s,l+10):lt(e,l),c=pe(f,i,l,1),!a){+be(c.d).slice(r+1,r+15)+1==1e14&&(c=j(c,u+1,0));break}while(Tt(c.d,r+=10,o));return ne=!0,j(c,u,o)};U.minus=U.sub=function(e){var t,n,i,r,a,f,l,c,D,s,u,o,p=this,A=p.constructor;if(e=new A(e),!p.d||!e.d)return!p.s||!e.s?e=new A(NaN):p.d?e.s=-e.s:e=new A(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(D=p.d,o=e.d,l=A.precision,c=A.rounding,!D[0]||!o[0]){if(o[0])e.s=-e.s;else if(D[0])e=new A(p);else return new A(c===3?-0:0);return ne?j(e,l,c):e}if(n=Oe(e.e/ee),s=Oe(p.e/ee),D=D.slice(),a=s-n,a){for(u=a<0,u?(t=D,a=-a,f=o.length):(t=o,n=s,f=D.length),i=Math.max(Math.ceil(l/ee),f)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=D.length,f=o.length,u=i<f,u&&(f=i),i=0;i<f;i++)if(D[i]!=o[i]){u=D[i]<o[i];break}a=0}for(u&&(t=D,D=o,o=t,e.s=-e.s),f=D.length,i=o.length-f;i>0;--i)D[f++]=0;for(i=o.length;i>a;){if(D[--i]<o[i]){for(r=i;r&&D[--r]===0;)D[r]=tt-1;--D[r],D[i]+=tt}D[i]-=o[i]}for(;D[--f]===0;)D.pop();for(;D[0]===0;D.shift())--n;return D[0]?(e.d=D,e.e=nr(D,n),ne?j(e,l,c):e):new A(c===3?-0:0)};U.modulo=U.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?j(new i(n),i.precision,i.rounding):(ne=!1,i.modulo==9?(t=pe(n,e.abs(),0,3,1),t.s*=e.s):t=pe(n,e,0,i.modulo,1),t=t.times(e),ne=!0,n.minus(t))};U.naturalExponential=U.exp=function(){return Ar(this)};U.naturalLogarithm=U.ln=function(){return lt(this)};U.negated=U.neg=function(){var e=new this.constructor(this);return e.s=-e.s,j(e)};U.plus=U.add=function(e){var t,n,i,r,a,f,l,c,D,s,u=this,o=u.constructor;if(e=new o(e),!u.d||!e.d)return!u.s||!e.s?e=new o(NaN):u.d||(e=new o(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(D=u.d,s=e.d,l=o.precision,c=o.rounding,!D[0]||!s[0])return s[0]||(e=new o(u)),ne?j(e,l,c):e;if(a=Oe(u.e/ee),i=Oe(e.e/ee),D=D.slice(),r=a-i,r){for(r<0?(n=D,r=-r,f=s.length):(n=s,i=a,f=D.length),a=Math.ceil(l/ee),f=a>f?a+1:f+1,r>f&&(r=f,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(f=D.length,r=s.length,f-r<0&&(r=f,n=s,s=D,D=n),t=0;r;)t=(D[--r]=D[r]+s[r]+t)/tt|0,D[r]%=tt;for(t&&(D.unshift(t),++i),f=D.length;D[--f]==0;)D.pop();return e.d=D,e.e=nr(D,i),ne?j(e,l,c):e};U.precision=U.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ht+e);return n.d?(t=Nn(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};U.round=function(){var e=this,t=e.constructor;return j(new t(e),e.e+1,t.rounding)};U.sine=U.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+ee,i.rounding=1,n=co(i,bn(i,n)),i.precision=e,i.rounding=t,j(st>2?n.neg():n,e,t,!0)):new i(NaN)};U.squareRoot=U.sqrt=function(){var e,t,n,i,r,a,f=this,l=f.d,c=f.e,D=f.s,s=f.constructor;if(D!==1||!l||!l[0])return new s(!D||D<0&&(!l||l[0])?NaN:l?f:1/0);for(ne=!1,D=Math.sqrt(+f),D==0||D==1/0?(t=be(l),(t.length+c)%2==0&&(t+="0"),D=Math.sqrt(t),c=Oe((c+1)/2)-(c<0||c%2),D==1/0?t="5e"+c:(t=D.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),i=new s(t)):i=new s(D.toString()),n=(c=s.precision)+3;;)if(a=i,i=a.plus(pe(f,a,n+2,1)).times(.5),be(a.d).slice(0,n)===(t=be(i.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!r&&t=="4999"){if(!r&&(j(a,c+1,0),a.times(a).eq(f))){i=a;break}n+=4,r=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(j(i,c+1,1),e=!i.times(i).eq(f));break}return ne=!0,j(i,c,s.rounding,e)};U.tangent=U.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=pe(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,j(st==2||st==4?n.neg():n,e,t,!0)):new i(NaN)};U.times=U.mul=function(e){var t,n,i,r,a,f,l,c,D,s=this,u=s.constructor,o=s.d,p=(e=new u(e)).d;if(e.s*=s.s,!o||!o[0]||!p||!p[0])return new u(!e.s||o&&!o[0]&&!p||p&&!p[0]&&!o?NaN:!o||!p?e.s/0:e.s*0);for(n=Oe(s.e/ee)+Oe(e.e/ee),c=o.length,D=p.length,c<D&&(a=o,o=p,p=a,f=c,c=D,D=f),a=[],f=c+D,i=f;i--;)a.push(0);for(i=D;--i>=0;){for(t=0,r=c+i;r>i;)l=a[r]+p[i]*o[r-i-1]+t,a[r--]=l%tt|0,t=l/tt|0;a[r]=(a[r]+t)%tt|0}for(;!a[--f];)a.pop();return t?++n:a.shift(),e.d=a,e.e=nr(a,n),ne?j(e,u.precision,u.rounding):e};U.toBinary=function(e,t){return Br(this,2,e,t)};U.toDecimalPlaces=U.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(Ue(e,0,pt),t===void 0?t=i.rounding:Ue(t,0,8),j(n,e+n.e+1,t))};U.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=nt(i,!0):(Ue(e,0,pt),t===void 0?t=r.rounding:Ue(t,0,8),i=j(new r(i),e+1,t),n=nt(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};U.toFixed=function(e,t){var n,i,r=this,a=r.constructor;return e===void 0?n=nt(r):(Ue(e,0,pt),t===void 0?t=a.rounding:Ue(t,0,8),i=j(new a(r),e+r.e+1,t),n=nt(i,!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};U.toFraction=function(e){var t,n,i,r,a,f,l,c,D,s,u,o,p=this,A=p.d,h=p.constructor;if(!A)return new h(p);if(D=n=new h(1),i=c=new h(0),t=new h(i),a=t.e=Nn(A)-p.e-1,f=a%ee,t.d[0]=Be(10,f<0?ee+f:f),e==null)e=a>0?t:D;else{if(l=new h(e),!l.isInt()||l.lt(D))throw Error(ht+l);e=l.gt(t)?a>0?t:D:l}for(ne=!1,l=new h(be(A)),s=h.precision,h.precision=a=A.length*ee*2;u=pe(l,t,0,1,1),r=n.plus(u.times(i)),r.cmp(e)!=1;)n=i,i=r,r=D,D=c.plus(u.times(r)),c=r,r=t,t=l.minus(u.times(r)),l=r;return r=pe(e.minus(n),i,0,1,1),c=c.plus(r.times(D)),n=n.plus(r.times(i)),c.s=D.s=p.s,o=pe(D,i,a,1).minus(p).abs().cmp(pe(c,n,a,1).minus(p).abs())<1?[D,i]:[c,n],h.precision=s,ne=!0,o};U.toHexadecimal=U.toHex=function(e,t){return Br(this,16,e,t)};U.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:Ue(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ne=!1,n=pe(n,e,0,t,1).times(e),ne=!0,j(n)):(e.s=n.s,n=e),n};U.toNumber=function(){return+this};U.toOctal=function(e,t){return Br(this,8,e,t)};U.toPower=U.pow=function(e){var t,n,i,r,a,f,l=this,c=l.constructor,D=+(e=new c(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new c(Be(+l,D));if(l=new c(l),l.eq(1))return l;if(i=c.precision,a=c.rounding,e.eq(1))return j(l,i,a);if(t=Oe(e.e/ee),t>=e.d.length-1&&(n=D<0?-D:D)<=oo)return r=Mn(c,l,n,i),e.s<0?new c(1).div(r):j(r,i,a);if(f=l.s,f<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(f=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=f,l}return n=Be(+l,D),t=n==0||!isFinite(n)?Oe(D*(Math.log("0."+be(l.d))/Math.LN10+l.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?f/0:0):(ne=!1,c.rounding=l.s=1,n=Math.min(12,(t+"").length),r=Ar(e.times(lt(l,i+n)),i),r.d&&(r=j(r,i+5,1),Tt(r.d,i,a)&&(t=i+10,r=j(Ar(e.times(lt(l,t+n)),t),t+5,1),+be(r.d).slice(i+1,i+15)+1==1e14&&(r=j(r,i+1,0)))),r.s=f,ne=!0,c.rounding=a,j(r,i,a))};U.toPrecision=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=nt(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(Ue(e,1,pt),t===void 0?t=r.rounding:Ue(t,0,8),i=j(new r(i),e,t),n=nt(i,e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};U.toSignificantDigits=U.toSD=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Ue(e,1,pt),t===void 0?t=i.rounding:Ue(t,0,8)),j(new i(n),e,t)};U.toString=function(){var e=this,t=e.constructor,n=nt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};U.truncated=U.trunc=function(){return j(new this.constructor(this),this.e+1,1)};U.valueOf=U.toJSON=function(){var e=this,t=e.constructor,n=nt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function be(e){var t,n,i,r=e.length-1,a="",f=e[0];if(r>0){for(a+=f,t=1;t<r;t++)i=e[t]+"",n=ee-i.length,n&&(a+=ct(n)),a+=i;f=e[t],i=f+"",n=ee-i.length,n&&(a+=ct(n))}else if(f===0)return"0";for(;f%10===0;)f/=10;return a+f}function Ue(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ht+e)}function Tt(e,t,n,i){var r,a,f,l;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=ee,r=0):(r=Math.ceil((t+1)/ee),t%=ee),a=Be(10,ee-t),l=e[r]%a|0,i==null?t<3?(t==0?l=l/100|0:t==1&&(l=l/10|0),f=n<4&&l==99999||n>3&&l==49999||l==5e4||l==0):f=(n<4&&l+1==a||n>3&&l+1==a/2)&&(e[r+1]/a/100|0)==Be(10,t-2)-1||(l==a/2||l==0)&&(e[r+1]/a/100|0)==0:t<4?(t==0?l=l/1e3|0:t==1?l=l/100|0:t==2&&(l=l/10|0),f=(i||n<4)&&l==9999||!i&&n>3&&l==4999):f=((i||n<4)&&l+1==a||!i&&n>3&&l+1==a/2)&&(e[r+1]/a/1e3|0)==Be(10,t-3)-1,f}function Lt(e,t,n){for(var i,r=[0],a,f=0,l=e.length;f<l;){for(a=r.length;a--;)r[a]*=t;for(r[0]+=wr.indexOf(e.charAt(f++)),i=0;i<r.length;i++)r[i]>n-1&&(r[i+1]===void 0&&(r[i+1]=0),r[i+1]+=r[i]/n|0,r[i]%=n)}return r.reverse()}function ao(e,t){var n,i,r;if(t.isZero())return t;i=t.d.length,i<32?(n=Math.ceil(i/3),r=(1/ir(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=Ct(e,1,t.times(r),new e(1));for(var a=n;a--;){var f=t.times(t);t=f.times(f).minus(f).times(8).plus(1)}return e.precision-=n,t}var pe=function(){function e(i,r,a){var f,l=0,c=i.length;for(i=i.slice();c--;)f=i[c]*r+l,i[c]=f%a|0,l=f/a|0;return l&&i.unshift(l),i}function t(i,r,a,f){var l,c;if(a!=f)c=a>f?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=r[l]){c=i[l]>r[l]?1:-1;break}return c}function n(i,r,a,f){for(var l=0;a--;)i[a]-=l,l=i[a]<r[a]?1:0,i[a]=l*f+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,f,l,c){var D,s,u,o,p,A,h,g,w,m,F,I,M,T,P,d,v,y,B,C,N=i.constructor,x=i.s==r.s?1:-1,_=i.d,E=r.d;if(!_||!_[0]||!E||!E[0])return new N(!i.s||!r.s||(_?E&&_[0]==E[0]:!E)?NaN:_&&_[0]==0||!E?x*0:x/0);for(c?(p=1,s=i.e-r.e):(c=tt,p=ee,s=Oe(i.e/p)-Oe(r.e/p)),B=E.length,v=_.length,w=new N(x),m=w.d=[],u=0;E[u]==(_[u]||0);u++);if(E[u]>(_[u]||0)&&s--,a==null?(T=a=N.precision,f=N.rounding):l?T=a+(i.e-r.e)+1:T=a,T<0)m.push(1),A=!0;else{if(T=T/p+2|0,u=0,B==1){for(o=0,E=E[0],T++;(u<v||o)&&T--;u++)P=o*c+(_[u]||0),m[u]=P/E|0,o=P%E|0;A=o||u<v}else{for(o=c/(E[0]+1)|0,o>1&&(E=e(E,o,c),_=e(_,o,c),B=E.length,v=_.length),d=B,F=_.slice(0,B),I=F.length;I<B;)F[I++]=0;C=E.slice(),C.unshift(0),y=E[0],E[1]>=c/2&&++y;do o=0,D=t(E,F,B,I),D<0?(M=F[0],B!=I&&(M=M*c+(F[1]||0)),o=M/y|0,o>1?(o>=c&&(o=c-1),h=e(E,o,c),g=h.length,I=F.length,D=t(h,F,g,I),D==1&&(o--,n(h,B<g?C:E,g,c))):(o==0&&(D=o=1),h=E.slice()),g=h.length,g<I&&h.unshift(0),n(F,h,I,c),D==-1&&(I=F.length,D=t(E,F,B,I),D<1&&(o++,n(F,B<I?C:E,I,c))),I=F.length):D===0&&(o++,F=[0]),m[u++]=o,D&&F[0]?F[I++]=_[d]||0:(F=[_[d]],I=1);while((d++<v||F[0]!==void 0)&&T--);A=F[0]!==void 0}m[0]||m.shift()}if(p==1)w.e=s,En=A;else{for(u=1,o=m[0];o>=10;o/=10)u++;w.e=u+s*p-1,j(w,l?a+w.e+1:a,f,A)}return w}}();function j(e,t,n,i){var r,a,f,l,c,D,s,u,o,p=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(r=1,l=u[0];l>=10;l/=10)r++;if(a=t-r,a<0)a+=ee,f=t,s=u[o=0],c=s/Be(10,r-f-1)%10|0;else if(o=Math.ceil((a+1)/ee),l=u.length,o>=l)if(i){for(;l++<=o;)u.push(0);s=c=0,r=1,a%=ee,f=a-ee+1}else break e;else{for(s=l=u[o],r=1;l>=10;l/=10)r++;a%=ee,f=a-ee+r,c=f<0?0:s/Be(10,r-f-1)%10|0}if(i=i||t<0||u[o+1]!==void 0||(f<0?s:s%Be(10,r-f-1)),D=n<4?(c||i)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||i||n==6&&(a>0?f>0?s/Be(10,r-f):0:u[o-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,D?(t-=e.e+1,u[0]=Be(10,(ee-t%ee)%ee),e.e=-t||0):u[0]=e.e=0,e;if(a==0?(u.length=o,l=1,o--):(u.length=o+1,l=Be(10,ee-a),u[o]=f>0?(s/Be(10,r-f)%Be(10,f)|0)*l:0),D)for(;;)if(o==0){for(a=1,f=u[0];f>=10;f/=10)a++;for(f=u[0]+=l,l=1;f>=10;f/=10)l++;a!=l&&(e.e++,u[0]==tt&&(u[0]=1));break}else{if(u[o]+=l,u[o]!=tt)break;u[o--]=0,l=1}for(a=u.length;u[--a]===0;)u.pop()}return ne&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function nt(e,t,n){if(!e.isFinite())return xn(e);var i,r=e.e,a=be(e.d),f=a.length;return t?(n&&(i=n-f)>0?a=a.charAt(0)+"."+a.slice(1)+ct(i):f>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):r<0?(a="0."+ct(-r-1)+a,n&&(i=n-f)>0&&(a+=ct(i))):r>=f?(a+=ct(r+1-f),n&&(i=n-r-1)>0&&(a=a+"."+ct(i))):((i=r+1)<f&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-f)>0&&(r+1===f&&(a+="."),a+=ct(i))),a}function nr(e,t){var n=e[0];for(t*=ee;n>=10;n/=10)t++;return t}function Yt(e,t,n){if(t>so)throw ne=!0,n&&(e.precision=n),Error(Fn);return j(new e(Wt),t,1,!0)}function je(e,t,n){if(t>mr)throw Error(Fn);return j(new e(Xt),t,n,!0)}function Nn(e){var t=e.length-1,n=t*ee+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function ct(e){for(var t="";e--;)t+="0";return t}function Mn(e,t,n,i){var r,a=new e(1),f=Math.ceil(i/ee+4);for(ne=!1;;){if(n%2&&(a=a.times(t),Ur(a.d,f)&&(r=!0)),n=Oe(n/2),n===0){n=a.d.length-1,r&&a.d[n]===0&&++a.d[n];break}t=t.times(t),Ur(t.d,f)}return ne=!0,a}function qr(e){return e.d[e.d.length-1]&1}function Sn(e,t,n){for(var i,r=new e(t[0]),a=0;++a<t.length;)if(i=new e(t[a]),i.s)r[n](i)&&(r=i);else{r=i;break}return r}function Ar(e,t){var n,i,r,a,f,l,c,D=0,s=0,u=0,o=e.constructor,p=o.rounding,A=o.precision;if(!e.d||!e.d[0]||e.e>17)return new o(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(ne=!1,c=A):c=t,l=new o(.03125);e.e>-2;)e=e.times(l),u+=5;for(i=Math.log(Be(2,u))/Math.LN10*2+5|0,c+=i,n=a=f=new o(1),o.precision=c;;){if(a=j(a.times(e),c,1),n=n.times(++s),l=f.plus(pe(a,n,c,1)),be(l.d).slice(0,c)===be(f.d).slice(0,c)){for(r=u;r--;)f=j(f.times(f),c,1);if(t==null)if(D<3&&Tt(f.d,c-i,p,D))o.precision=c+=10,n=a=l=new o(1),s=0,D++;else return j(f,o.precision=A,p,ne=!0);else return o.precision=A,f}f=l}}function lt(e,t){var n,i,r,a,f,l,c,D,s,u,o,p=1,A=10,h=e,g=h.d,w=h.constructor,m=w.rounding,F=w.precision;if(h.s<0||!g||!g[0]||!h.e&&g[0]==1&&g.length==1)return new w(g&&!g[0]?-1/0:h.s!=1?NaN:g?0:h);if(t==null?(ne=!1,s=F):s=t,w.precision=s+=A,n=be(g),i=n.charAt(0),Math.abs(a=h.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)h=h.times(e),n=be(h.d),i=n.charAt(0),p++;a=h.e,i>1?(h=new w("0."+n),a++):h=new w(i+"."+n.slice(1))}else return D=Yt(w,s+2,F).times(a+""),h=lt(new w(i+"."+n.slice(1)),s-A).plus(D),w.precision=F,t==null?j(h,F,m,ne=!0):h;for(u=h,c=f=h=pe(h.minus(1),h.plus(1),s,1),o=j(h.times(h),s,1),r=3;;){if(f=j(f.times(o),s,1),D=c.plus(pe(f,new w(r),s,1)),be(D.d).slice(0,s)===be(c.d).slice(0,s))if(c=c.times(2),a!==0&&(c=c.plus(Yt(w,s+2,F).times(a+""))),c=pe(c,new w(p),s,1),t==null)if(Tt(c.d,s-A,m,l))w.precision=s+=A,D=f=h=pe(u.minus(1),u.plus(1),s,1),o=j(h.times(h),s,1),r=l=1;else return j(c,w.precision=F,m,ne=!0);else return w.precision=F,c;c=D,r+=2}}function xn(e){return String(e.s*e.s/0)}function yr(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;i++);for(r=t.length;t.charCodeAt(r-1)===48;--r);if(t=t.slice(i,r),t){if(r-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%ee,n<0&&(i+=ee),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=ee;i<r;)e.d.push(+t.slice(i,i+=ee));t=t.slice(i),i=ee-t.length}else i-=r;for(;i--;)t+="0";e.d.push(+t),ne&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function fo(e,t){var n,i,r,a,f,l,c,D,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),_n.test(t))return yr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(io.test(t))n=16,t=t.toLowerCase();else if(no.test(t))n=2;else if(uo.test(t))n=8;else throw Error(ht+t);for(a=t.search(/p/i),a>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),f=a>=0,i=e.constructor,f&&(t=t.replace(".",""),l=t.length,a=l-a,r=Mn(i,new i(n),a,a*2)),D=Lt(t,n,tt),s=D.length-1,a=s;D[a]===0;--a)D.pop();return a<0?new i(e.s*0):(e.e=nr(D,s),e.d=D,ne=!1,f&&(e=pe(e,r,l*4)),c&&(e=e.times(Math.abs(c)<54?Be(2,c):Bt.pow(2,c))),ne=!0,e)}function co(e,t){var n,i=t.d.length;if(i<3)return t.isZero()?t:Ct(e,2,t,t);n=1.4*Math.sqrt(i),n=n>16?16:n|0,t=t.times(1/ir(5,n)),t=Ct(e,2,t,t);for(var r,a=new e(5),f=new e(16),l=new e(20);n--;)r=t.times(t),t=t.times(a.plus(r.times(f.times(r).minus(l))));return t}function Ct(e,t,n,i,r){var a,f,l,c,D=e.precision,s=Math.ceil(D/ee);for(ne=!1,c=n.times(n),l=new e(i);;){if(f=pe(l.times(c),new e(t++*t++),D,1),l=r?i.plus(f):i.minus(f),i=pe(f.times(c),new e(t++*t++),D,1),f=l.plus(i),f.d[s]!==void 0){for(a=s;f.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=i,i=f,f=a}return ne=!0,f.d.length=s+1,f}function ir(e,t){for(var n=e;--t;)n*=e;return n}function bn(e,t){var n,i=t.s<0,r=je(e,e.precision,1),a=r.times(.5);if(t=t.abs(),t.lte(a))return st=i?4:1,t;if(n=t.divToInt(r),n.isZero())st=i?3:2;else{if(t=t.minus(n.times(r)),t.lte(a))return st=qr(n)?i?2:3:i?4:1,t;st=qr(n)?i?1:4:i?3:2}return t.minus(r).abs()}function Br(e,t,n,i){var r,a,f,l,c,D,s,u,o,p=e.constructor,A=n!==void 0;if(A?(Ue(n,1,pt),i===void 0?i=p.rounding:Ue(i,0,8)):(n=p.precision,i=p.rounding),!e.isFinite())s=xn(e);else{for(s=nt(e),f=s.indexOf("."),A?(r=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):r=t,f>=0&&(s=s.replace(".",""),o=new p(1),o.e=s.length-f,o.d=Lt(nt(o),10,r),o.e=o.d.length),u=Lt(s,10,r),a=c=u.length;u[--c]==0;)u.pop();if(!u[0])s=A?"0p+0":"0";else{if(f<0?a--:(e=new p(e),e.d=u,e.e=a,e=pe(e,o,n,i,0,r),u=e.d,a=e.e,D=En),f=u[n],l=r/2,D=D||u[n+1]!==void 0,D=i<4?(f!==void 0||D)&&(i===0||i===(e.s<0?3:2)):f>l||f===l&&(i===4||D||i===6&&u[n-1]&1||i===(e.s<0?8:7)),u.length=n,D)for(;++u[--n]>r-1;)u[n]=0,n||(++a,u.unshift(1));for(c=u.length;!u[c-1];--c);for(f=0,s="";f<c;f++)s+=wr.charAt(u[f]);if(A){if(c>1)if(t==16||t==8){for(f=t==16?4:3,--c;c%f;c++)s+="0";for(u=Lt(s,r,t),c=u.length;!u[c-1];--c);for(f=1,s="1.";f<c;f++)s+=wr.charAt(u[f])}else s=s.charAt(0)+"."+s.slice(1);s=s+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)s="0"+s;s="0."+s}else if(++a>c)for(a-=c;a--;)s+="0";else a<c&&(s=s.slice(0,a)+"."+s.slice(a))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function Ur(e,t){if(e.length>t)return e.length=t,!0}function lo(e){return new this(e).abs()}function ho(e){return new this(e).acos()}function po(e){return new this(e).acosh()}function Do(e,t){return new this(e).plus(t)}function vo(e){return new this(e).asin()}function wo(e){return new this(e).asinh()}function go(e){return new this(e).atan()}function mo(e){return new this(e).atanh()}function Ao(e,t){e=new this(e),t=new this(t);var n,i=this.precision,r=this.rounding,a=i+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=je(this,a,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?je(this,i,r):new this(0),n.s=e.s):!e.d||t.isZero()?(n=je(this,a,1).times(.5),n.s=e.s):t.s<0?(this.precision=a,this.rounding=1,n=this.atan(pe(e,t,a,1)),t=je(this,a,1),this.precision=i,this.rounding=r,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(pe(e,t,a,1)),n}function yo(e){return new this(e).cbrt()}function Eo(e){return j(e=new this(e),e.e+1,2)}function Fo(e,t,n){return new this(e).clamp(t,n)}function Co(e){if(!e||typeof e!="object")throw Error(rr+"Object expected");var t,n,i,r=e.defaults===!0,a=["precision",1,pt,"rounding",0,8,"toExpNeg",-yt,0,"toExpPos",0,yt,"maxE",0,yt,"minE",-yt,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],r&&(this[n]=gr[n]),(i=e[n])!==void 0)if(Oe(i)===i&&i>=a[t+1]&&i<=a[t+2])this[n]=i;else throw Error(ht+n+": "+i);if(n="crypto",r&&(this[n]=gr[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Cn);else this[n]=!1;else throw Error(ht+n+": "+i);return this}function Bo(e){return new this(e).cos()}function _o(e){return new this(e).cosh()}function Tn(e){var t,n,i;function r(a){var f,l,c,D=this;if(!(D instanceof r))return new r(a);if(D.constructor=r,kr(a)){D.s=a.s,ne?!a.d||a.e>r.maxE?(D.e=NaN,D.d=null):a.e<r.minE?(D.e=0,D.d=[0]):(D.e=a.e,D.d=a.d.slice()):(D.e=a.e,D.d=a.d?a.d.slice():a.d);return}if(c=typeof a,c==="number"){if(a===0){D.s=1/a<0?-1:1,D.e=0,D.d=[0];return}if(a<0?(a=-a,D.s=-1):D.s=1,a===~~a&&a<1e7){for(f=0,l=a;l>=10;l/=10)f++;ne?f>r.maxE?(D.e=NaN,D.d=null):f<r.minE?(D.e=0,D.d=[0]):(D.e=f,D.d=[a]):(D.e=f,D.d=[a]);return}else if(a*0!==0){a||(D.s=NaN),D.e=NaN,D.d=null;return}return yr(D,a.toString())}else if(c!=="string")throw Error(ht+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),D.s=-1):(l===43&&(a=a.slice(1)),D.s=1),_n.test(a)?yr(D,a):fo(D,a)}if(r.prototype=U,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=Co,r.clone=Tn,r.isDecimal=kr,r.abs=lo,r.acos=ho,r.acosh=po,r.add=Do,r.asin=vo,r.asinh=wo,r.atan=go,r.atanh=mo,r.atan2=Ao,r.cbrt=yo,r.ceil=Eo,r.clamp=Fo,r.cos=Bo,r.cosh=_o,r.div=No,r.exp=Mo,r.floor=So,r.hypot=xo,r.ln=bo,r.log=To,r.log10=Io,r.log2=Oo,r.max=Po,r.min=zo,r.mod=Ro,r.mul=$o,r.pow=Lo,r.random=qo,r.round=Uo,r.sign=ko,r.sin=Vo,r.sinh=Zo,r.sqrt=Go,r.sub=Ho,r.sum=Wo,r.tan=Xo,r.tanh=Yo,r.trunc=Jo,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}function No(e,t){return new this(e).div(t)}function Mo(e){return new this(e).exp()}function So(e){return j(e=new this(e),e.e+1,3)}function xo(){var e,t,n=new this(0);for(ne=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ne=!0,new this(1/0);n=t}return ne=!0,n.sqrt()}function kr(e){return e instanceof Bt||e&&e.toStringTag===Bn||!1}function bo(e){return new this(e).ln()}function To(e,t){return new this(e).log(t)}function Oo(e){return new this(e).log(2)}function Io(e){return new this(e).log(10)}function Po(){return Sn(this,arguments,"lt")}function zo(){return Sn(this,arguments,"gt")}function Ro(e,t){return new this(e).mod(t)}function $o(e,t){return new this(e).mul(t)}function Lo(e,t){return new this(e).pow(t)}function qo(e){var t,n,i,r,a=0,f=new this(1),l=[];if(e===void 0?e=this.precision:Ue(e,1,pt),i=Math.ceil(e/ee),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)r=t[a],r>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=r%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)r=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(t,a):(l.push(r%1e7),a+=4);a=i/4}else throw Error(Cn);else for(;a<i;)l[a++]=Math.random()*1e7|0;for(i=l[--a],e%=ee,i&&e&&(r=Be(10,ee-e),l[a]=(i/r|0)*r);l[a]===0;a--)l.pop();if(a<0)n=0,l=[0];else{for(n=-1;l[0]===0;n-=ee)l.shift();for(i=1,r=l[0];r>=10;r/=10)i++;i<ee&&(n-=ee-i)}return f.e=n,f.d=l,f}function Uo(e){return j(e=new this(e),e.e+1,this.rounding)}function ko(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Vo(e){return new this(e).sin()}function Zo(e){return new this(e).sinh()}function Go(e){return new this(e).sqrt()}function Ho(e,t){return new this(e).sub(t)}function Wo(){var e=0,t=arguments,n=new this(t[e]);for(ne=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return ne=!0,j(n,this.precision,this.rounding)}function Xo(e){return new this(e).tan()}function Yo(e){return new this(e).tanh()}function Jo(e){return j(e=new this(e),e.e+1,1)}U[Symbol.for("nodejs.util.inspect.custom")]=U.toString;U[Symbol.toStringTag]="Decimal";var Bt=U.constructor=Tn(gr);Wt=new Bt(Wt);Xt=new Bt(Xt);var Ko="BigNumber",Qo=["?on","config"],jo=_e(Ko,Qo,e=>{var{on:t,config:n}=e,i=Bt.clone({precision:n.precision,modulo:Bt.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(r){return new i(r.value)},t&&t("config",function(r,a){r.precision!==a.precision&&i.config({precision:r.precision})}),i},{isClass:!0}),On={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var i=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},r=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var o=Math.PI/4;if(-o>u||u>o)return Math.cos(u)-1;var p=u*u;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},f=function(u,o){var p=Math.abs(u),A=Math.abs(o);return p<3e3&&A<3e3?Math.sqrt(p*p+A*A):(p<A?(p=A,A=u/o):A=o/u,p*Math.sqrt(1+A*A))},l=function(){throw SyntaxError("Invalid Param")};function c(u,o){var p=Math.abs(u),A=Math.abs(o);return u===0?Math.log(A):o===0?Math.log(p):p<3e3&&A<3e3?Math.log(u*u+o*o)*.5:(u=u/2,o=o/2,.5*Math.log(u*u+o*o)+Math.LN2)}var D=function(u,o){var p={re:0,im:0};if(u==null)p.re=p.im=0;else if(o!==void 0)p.re=u,p.im=o;else switch(typeof u){case"object":if("im"in u&&"re"in u)p.re=u.re,p.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return s.INFINITY;p.re=u.abs*Math.cos(u.arg),p.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return s.INFINITY;p.re=u.r*Math.cos(u.phi),p.im=u.r*Math.sin(u.phi)}else u.length===2?(p.re=u[0],p.im=u[1]):l();break;case"string":p.im=p.re=0;var A=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,g=0;A===null&&l();for(var w=0;w<A.length;w++){var m=A[w];m===" "||m==="	"||m===`
`||(m==="+"?h++:m==="-"?g++:m==="i"||m==="I"?(h+g===0&&l(),A[w+1]!==" "&&!isNaN(A[w+1])?(p.im+=parseFloat((g%2?"-":"")+A[w+1]),w++):p.im+=parseFloat((g%2?"-":"")+"1"),h=g=0):((h+g===0||isNaN(m))&&l(),A[w+1]==="i"||A[w+1]==="I"?(p.im+=parseFloat((g%2?"-":"")+m),w++):p.re+=parseFloat((g%2?"-":"")+m),h=g=0))}h+g>0&&l();break;case"number":p.im=0,p.re=u;break;default:l()}return isNaN(p.re)||isNaN(p.im),p};function s(u,o){if(!(this instanceof s))return new s(u,o);var p=D(u,o);this.re=p.re,this.im=p.im}s.prototype={re:0,im:0,sign:function(){var u=this.abs();return new s(this.re/u,this.im/u)},add:function(u,o){var p=new s(u,o);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re+p.re,this.im+p.im)},sub:function(u,o){var p=new s(u,o);return this.isInfinite()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:new s(this.re-p.re,this.im-p.im)},mul:function(u,o){var p=new s(u,o);return this.isInfinite()&&p.isZero()||this.isZero()&&p.isInfinite()?s.NAN:this.isInfinite()||p.isInfinite()?s.INFINITY:p.im===0&&this.im===0?new s(this.re*p.re,0):new s(this.re*p.re-this.im*p.im,this.re*p.im+this.im*p.re)},div:function(u,o){var p=new s(u,o);if(this.isZero()&&p.isZero()||this.isInfinite()&&p.isInfinite())return s.NAN;if(this.isInfinite()||p.isZero())return s.INFINITY;if(this.isZero()||p.isInfinite())return s.ZERO;u=this.re,o=this.im;var A=p.re,h=p.im,g,w;return h===0?new s(u/A,o/A):Math.abs(A)<Math.abs(h)?(w=A/h,g=A*w+h,new s((u*w+o)/g,(o*w-u)/g)):(w=h/A,g=h*w+A,new s((u+o*w)/g,(o-u*w)/g))},pow:function(u,o){var p=new s(u,o);if(u=this.re,o=this.im,p.isZero())return s.ONE;if(p.im===0){if(o===0&&u>0)return new s(Math.pow(u,p.re),0);if(u===0)switch((p.re%4+4)%4){case 0:return new s(Math.pow(o,p.re),0);case 1:return new s(0,Math.pow(o,p.re));case 2:return new s(-Math.pow(o,p.re),0);case 3:return new s(0,-Math.pow(o,p.re))}}if(u===0&&o===0&&p.re>0&&p.im>=0)return s.ZERO;var A=Math.atan2(o,u),h=c(u,o);return u=Math.exp(p.re*h-p.im*A),o=p.im*h+p.re*A,new s(u*Math.cos(o),u*Math.sin(o))},sqrt:function(){var u=this.re,o=this.im,p=this.abs(),A,h;if(u>=0){if(o===0)return new s(Math.sqrt(u),0);A=.5*Math.sqrt(2*(p+u))}else A=Math.abs(o)/Math.sqrt(2*(p-u));return u<=0?h=.5*Math.sqrt(2*(p-u)):h=Math.abs(o)/Math.sqrt(2*(p+u)),new s(A,o<0?-h:h)},exp:function(){var u=Math.exp(this.re);return this.im,new s(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,o=this.im;return new s(Math.expm1(u)*Math.cos(o)+a(o),Math.exp(u)*Math.sin(o))},log:function(){var u=this.re,o=this.im;return new s(c(u,o),Math.atan2(o,u))},abs:function(){return f(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,o=this.im;return new s(Math.sin(u)*i(o),Math.cos(u)*r(o))},cos:function(){var u=this.re,o=this.im;return new s(Math.cos(u)*i(o),-Math.sin(u)*r(o))},tan:function(){var u=2*this.re,o=2*this.im,p=Math.cos(u)+i(o);return new s(Math.sin(u)/p,r(o)/p)},cot:function(){var u=2*this.re,o=2*this.im,p=Math.cos(u)-i(o);return new s(-Math.sin(u)/p,r(o)/p)},sec:function(){var u=this.re,o=this.im,p=.5*i(2*o)+.5*Math.cos(2*u);return new s(Math.cos(u)*i(o)/p,Math.sin(u)*r(o)/p)},csc:function(){var u=this.re,o=this.im,p=.5*i(2*o)-.5*Math.cos(2*u);return new s(Math.sin(u)*i(o)/p,-Math.cos(u)*r(o)/p)},asin:function(){var u=this.re,o=this.im,p=new s(o*o-u*u+1,-2*u*o).sqrt(),A=new s(p.re-o,p.im+u).log();return new s(A.im,-A.re)},acos:function(){var u=this.re,o=this.im,p=new s(o*o-u*u+1,-2*u*o).sqrt(),A=new s(p.re-o,p.im+u).log();return new s(Math.PI/2-A.im,A.re)},atan:function(){var u=this.re,o=this.im;if(u===0){if(o===1)return new s(0,1/0);if(o===-1)return new s(0,-1/0)}var p=u*u+(1-o)*(1-o),A=new s((1-o*o-u*u)/p,-2*u/p).log();return new s(-.5*A.im,.5*A.re)},acot:function(){var u=this.re,o=this.im;if(o===0)return new s(Math.atan2(1,u),0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).atan():new s(u!==0?u/0:0,o!==0?-o/0:0).atan()},asec:function(){var u=this.re,o=this.im;if(u===0&&o===0)return new s(0,1/0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).acos():new s(u!==0?u/0:0,o!==0?-o/0:0).acos()},acsc:function(){var u=this.re,o=this.im;if(u===0&&o===0)return new s(Math.PI/2,1/0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).asin():new s(u!==0?u/0:0,o!==0?-o/0:0).asin()},sinh:function(){var u=this.re,o=this.im;return new s(r(u)*Math.cos(o),i(u)*Math.sin(o))},cosh:function(){var u=this.re,o=this.im;return new s(i(u)*Math.cos(o),r(u)*Math.sin(o))},tanh:function(){var u=2*this.re,o=2*this.im,p=i(u)+Math.cos(o);return new s(r(u)/p,Math.sin(o)/p)},coth:function(){var u=2*this.re,o=2*this.im,p=i(u)-Math.cos(o);return new s(r(u)/p,-Math.sin(o)/p)},csch:function(){var u=this.re,o=this.im,p=Math.cos(2*o)-i(2*u);return new s(-2*r(u)*Math.cos(o)/p,2*i(u)*Math.sin(o)/p)},sech:function(){var u=this.re,o=this.im,p=Math.cos(2*o)+i(2*u);return new s(2*i(u)*Math.cos(o)/p,-2*r(u)*Math.sin(o)/p)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var o=this.asin();return this.re=-this.im,this.im=u,u=o.re,o.re=-o.im,o.im=u,o},acosh:function(){var u=this.acos();if(u.im<=0){var o=u.re;u.re=-u.im,u.im=o}else{var o=u.im;u.im=-u.re,u.re=o}return u},atanh:function(){var u=this.re,o=this.im,p=u>1&&o===0,A=1-u,h=1+u,g=A*A+o*o,w=g!==0?new s((h*A-o*o)/g,(o*A+h*o)/g):new s(u!==-1?u/0:0,o!==0?o/0:0),m=w.re;return w.re=c(w.re,w.im)/2,w.im=Math.atan2(w.im,m)/2,p&&(w.im=-w.im),w},acoth:function(){var u=this.re,o=this.im;if(u===0&&o===0)return new s(0,Math.PI/2);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).atanh():new s(u!==0?u/0:0,o!==0?-o/0:0).atanh()},acsch:function(){var u=this.re,o=this.im;if(o===0)return new s(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var p=u*u+o*o;return p!==0?new s(u/p,-o/p).asinh():new s(u!==0?u/0:0,o!==0?-o/0:0).asinh()},asech:function(){var u=this.re,o=this.im;if(this.isZero())return s.INFINITY;var p=u*u+o*o;return p!==0?new s(u/p,-o/p).acosh():new s(u!==0?u/0:0,o!==0?-o/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var u=this.re,o=this.im,p=u*u+o*o;return new s(u/p,-o/p)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new s(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new s(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new s(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,o){var p=new s(u,o);return Math.abs(p.re-this.re)<=s.EPSILON&&Math.abs(p.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var u=this.re,o=this.im,p="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<s.EPSILON&&(u=0),Math.abs(o)<s.EPSILON&&(o=0),o===0?p+u:(u!==0?(p+=u,p+=" ",o<0?(o=-o,p+="-"):p+="+",p+=" "):o<0&&(o=-o,p+="-"),o!==1&&(p+=o),p+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s})()})(On);var es=On.exports;const Me=Qt(es);var ts="Complex",rs=[],ns=_e(ts,rs,()=>(Object.defineProperty(Me,"name",{value:"Complex"}),Me.prototype.constructor=Me,Me.prototype.type="Complex",Me.prototype.isComplex=!0,Me.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Me.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Me.prototype.format=function(e){var t="",n=this.im,i=this.re,r=dr(this.re,e),a=dr(this.im,e),f=ye(e)?e:e?e.precision:null;if(f!==null){var l=Math.pow(10,-f);Math.abs(i/n)<l&&(i=0),Math.abs(n/i)<l&&(n=0)}return n===0?t=r:i===0?n===1?t="i":n===-1?t="-i":t=a+"i":n<0?n===-1?t=r+" - i":t=r+" - "+a.substring(1)+"i":n===1?t=r+" + i":t=r+" + "+a+"i",t},Me.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Me(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],i=arguments[1];if(ye(n)){if(sn(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),ye(i))return new Me({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Me.prototype.valueOf=Me.prototype.toString,Me.fromJSON=function(e){return new Me(e)},Me.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Me),{isClass:!0}),In={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var i=2e3,r={s:1,n:0,d:1};function a(w,m){if(isNaN(w=parseInt(w,10)))throw h();return w*m}function f(w,m){if(m===0)throw A();var F=Object.create(p.prototype);F.s=w<0?-1:1,w=w<0?-w:w;var I=o(w,m);return F.n=w/I,F.d=m/I,F}function l(w){for(var m={},F=w,I=2,M=4;M<=F;){for(;F%I===0;)F/=I,m[I]=(m[I]||0)+1;M+=1+2*I++}return F!==w?F>1&&(m[F]=(m[F]||0)+1):m[w]=(m[w]||0)+1,m}var c=function(w,m){var F=0,I=1,M=1,T=0,P=0,d=0,v=1,y=1,B=0,C=1,N=1,x=1,_=1e7,E;if(w!=null)if(m!==void 0){if(F=w,I=m,M=F*I,F%1!==0||I%1!==0)throw g()}else switch(typeof w){case"object":{if("d"in w&&"n"in w)F=w.n,I=w.d,"s"in w&&(F*=w.s);else if(0 in w)F=w[0],1 in w&&(I=w[1]);else throw h();M=F*I;break}case"number":{if(w<0&&(M=w,w=-w),w%1===0)F=w;else if(w>0){for(w>=1&&(y=Math.pow(10,Math.floor(1+Math.log(w)/Math.LN10)),w/=y);C<=_&&x<=_;)if(E=(B+N)/(C+x),w===E){C+x<=_?(F=B+N,I=C+x):x>C?(F=N,I=x):(F=B,I=C);break}else w>E?(B+=N,C+=x):(N+=B,x+=C),C>_?(F=N,I=x):(F=B,I=C);F*=y}else(isNaN(w)||isNaN(m))&&(I=F=NaN);break}case"string":{if(C=w.match(/\d+|./g),C===null)throw h();if(C[B]==="-"?(M=-1,B++):C[B]==="+"&&B++,C.length===B+1?P=a(C[B++],M):C[B+1]==="."||C[B]==="."?(C[B]!=="."&&(T=a(C[B++],M)),B++,(B+1===C.length||C[B+1]==="("&&C[B+3]===")"||C[B+1]==="'"&&C[B+3]==="'")&&(P=a(C[B],M),v=Math.pow(10,C[B].length),B++),(C[B]==="("&&C[B+2]===")"||C[B]==="'"&&C[B+2]==="'")&&(d=a(C[B+1],M),y=Math.pow(10,C[B+1].length)-1,B+=3)):C[B+1]==="/"||C[B+1]===":"?(P=a(C[B],M),v=a(C[B+2],1),B+=3):C[B+3]==="/"&&C[B+1]===" "&&(T=a(C[B],M),P=a(C[B+2],M),v=a(C[B+4],1),B+=5),C.length<=B){I=v*y,M=F=d+I*T+y*P;break}}default:throw h()}if(I===0)throw A();r.s=M<0?-1:1,r.n=Math.abs(F),r.d=Math.abs(I)};function D(w,m,F){for(var I=1;m>0;w=w*w%F,m>>=1)m&1&&(I=I*w%F);return I}function s(w,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var F=10%m,I=1;F!==1;I++)if(F=F*10%m,I>i)return 0;return I}function u(w,m,F){for(var I=1,M=D(10,F,m),T=0;T<300;T++){if(I===M)return T;I=I*10%m,M=M*10%m}return 0}function o(w,m){if(!w)return m;if(!m)return w;for(;;){if(w%=m,!w)return m;if(m%=w,!m)return w}}function p(w,m){if(c(w,m),this instanceof p)w=o(r.d,r.n),this.s=r.s,this.n=r.n/w,this.d=r.d/w;else return f(r.s*r.n,r.d)}var A=function(){return new Error("Division by Zero")},h=function(){return new Error("Invalid argument")},g=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return f(this.n,this.d)},neg:function(){return f(-this.s*this.n,this.d)},add:function(w,m){return c(w,m),f(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(w,m){return c(w,m),f(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(w,m){return c(w,m),f(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(w,m){return c(w,m),f(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return f(this.s*this.n,this.d)},mod:function(w,m){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(w===void 0)return f(this.s*this.n%this.d,1);if(c(w,m),r.n===0&&this.d===0)throw A();return f(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(w,m){return c(w,m),f(o(r.n,this.n)*o(r.d,this.d),r.d*this.d)},lcm:function(w,m){return c(w,m),r.n===0&&this.n===0?f(0,1):f(r.n*this.n,o(r.n,this.n)*o(r.d,this.d))},ceil:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.ceil(w*this.s*this.n/this.d),w)},floor:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.floor(w*this.s*this.n/this.d),w)},round:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.round(w*this.s*this.n/this.d),w)},inverse:function(){return f(this.s*this.d,this.n)},pow:function(w,m){if(c(w,m),r.d===1)return r.s<0?f(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):f(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var F=l(this.n),I=l(this.d),M=1,T=1;for(var P in F)if(P!=="1"){if(P==="0"){M=0;break}if(F[P]*=r.n,F[P]%r.d===0)F[P]/=r.d;else return null;M*=Math.pow(P,F[P])}for(var P in I)if(P!=="1"){if(I[P]*=r.n,I[P]%r.d===0)I[P]/=r.d;else return null;T*=Math.pow(P,I[P])}return r.s<0?f(T,M):f(M,T)},equals:function(w,m){return c(w,m),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(w,m){c(w,m);var F=this.s*this.n*r.d-r.s*r.n*this.d;return(0<F)-(F<0)},simplify:function(w){if(isNaN(this.n)||isNaN(this.d))return this;w=w||.001;for(var m=this.abs(),F=m.toContinued(),I=1;I<F.length;I++){for(var M=f(F[I-1],1),T=I-2;T>=0;T--)M=M.inverse().add(F[T]);if(Math.abs(M.sub(m).valueOf())<w)return M.mul(this.s)}return this},divisible:function(w,m){return c(w,m),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(w){var m,F="",I=this.n,M=this.d;return this.s<0&&(F+="-"),M===1?F+=I:(w&&(m=Math.floor(I/M))>0&&(F+=m,F+=" ",I%=M),F+=I,F+="/",F+=M),F},toLatex:function(w){var m,F="",I=this.n,M=this.d;return this.s<0&&(F+="-"),M===1?F+=I:(w&&(m=Math.floor(I/M))>0&&(F+=m,I%=M),F+="\\frac{",F+=I,F+="}{",F+=M,F+="}"),F},toContinued:function(){var w,m=this.n,F=this.d,I=[];if(isNaN(m)||isNaN(F))return I;do I.push(Math.floor(m/F)),w=m%F,m=F,F=w;while(m!==1);return I},toString:function(w){var m=this.n,F=this.d;if(isNaN(m)||isNaN(F))return"NaN";w=w||15;var I=s(m,F),M=u(m,F,I),T=this.s<0?"-":"";if(T+=m/F|0,m%=F,m*=10,m&&(T+="."),I){for(var P=M;P--;)T+=m/F|0,m%=F,m*=10;T+="(";for(var P=I;P--;)T+=m/F|0,m%=F,m*=10;T+=")"}else for(var P=w;m&&P--;)T+=m/F|0,m%=F,m*=10;return T}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,e.exports=p})()})(In);var is=In.exports;const ut=Qt(is);var us="Fraction",os=[],ss=_e(us,os,()=>(Object.defineProperty(ut,"name",{value:"Fraction"}),ut.prototype.constructor=ut,ut.prototype.type="Fraction",ut.prototype.isFraction=!0,ut.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ut.fromJSON=function(e){return new ut(e)},ut),{isClass:!0}),as="Matrix",fs=[],cs=_e(as,fs,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Pn(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var i=(n.match(/,/g)||[]).length+1;return Math.max(t,i)},-1)}var ls="DenseMatrix",hs=["Matrix"],ps=_e(ls,hs,e=>{var{Matrix:t}=e;function n(s,u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!rt(u))throw new Error("Invalid datatype: "+u);if(Pe(s))s.type==="DenseMatrix"?(this._data=Se(s._data),this._size=Se(s._size),this._datatype=u||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=u||s._datatype);else if(s&&me(s.data)&&me(s.size))this._data=s.data,this._size=s.size,Rr(this._data,this._size),this._datatype=u||s.datatype;else if(me(s))this._data=D(s),this._size=et(this._data),Rr(this._data,this._size),this._datatype=u;else{if(s)throw new TypeError("Unsupported type of data ("+bt(s)+")");this._data=[],this._size=[0],this._datatype=u}}n.prototype=new t,n.prototype.createDenseMatrix=function(s,u){return new n(s,u)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Ht(this._data,bt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,u){return new n(s,u)},n.prototype.subset=function(s,u,o){switch(arguments.length){case 1:return i(this,s);case 2:case 3:return a(this,s,u,o);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(s){if(!me(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new we(s.length,this._size.length);for(var u=0;u<s.length;u++)Ae(s[u],this._size[u]);for(var o=this._data,p=0,A=s.length;p<A;p++){var h=s[p];Ae(h,o.length),o=o[h]}return o},n.prototype.set=function(s,u,o){if(!me(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new we(s.length,this._size.length,"<");var p,A,h,g=s.map(function(m){return m+1});c(this,g,o);var w=this._data;for(p=0,A=s.length-1;p<A;p++)h=s[p],Ae(h,w.length),w=w[h];return h=s[s.length-1],Ae(h,w.length),w[h]=u,this};function i(s,u){if(!Fr(u))throw new TypeError("Invalid index");var o=u.isScalar();if(o)return s.get(u.min());var p=u.size();if(p.length!==s._size.length)throw new we(p.length,s._size.length);for(var A=u.min(),h=u.max(),g=0,w=s._size.length;g<w;g++)Ae(A[g],s._size[g]),Ae(h[g],s._size[g]);return new n(r(s._data,u,p.length,0),s._datatype)}function r(s,u,o,p){var A=p===o-1,h=u.dimension(p);return A?h.map(function(g){return Ae(g,s.length),s[g]}).valueOf():h.map(function(g){Ae(g,s.length);var w=s[g];return r(w,u,o,p+1)}).valueOf()}function a(s,u,o,p){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var A=u.size(),h=u.isScalar(),g;if(Pe(o)?(g=o.size(),o=o.valueOf()):g=et(o),h){if(g.length!==0)throw new TypeError("Scalar expected");s.set(u.min(),o,p)}else{if(!Ft(g,A))try{g.length===0?o=Lr([o],A):o=Lr(o,A),g=et(o)}catch{}if(A.length<s._size.length)throw new we(A.length,s._size.length,"<");if(g.length<A.length){for(var w=0,m=0;A[w]===1&&g[w]===1;)w++;for(;A[w]===1;)m++,w++;o=dn(o,A.length,m,g)}if(!Ft(A,g))throw new we(A,g,">");var F=u.max().map(function(T){return T+1});c(s,F,p);var I=A.length,M=0;f(s._data,u,o,I,M)}return s}function f(s,u,o,p,A){var h=A===p-1,g=u.dimension(A);h?g.forEach(function(w,m){Ae(w),s[w]=o[m[0]]}):g.forEach(function(w,m){Ae(w),f(s[w],u,o[m[0]],p,A+1)})}n.prototype.resize=function(s,u,o){if(!Vt(s))throw new TypeError("Array or Matrix expected");var p=s.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),A=o?this.clone():this;return l(A,p,u)};function l(s,u,o){if(u.length===0){for(var p=s._data;me(p);)p=p[0];return p}return s._size=u.slice(0),s._data=$r(s._data,s._size,o),s}n.prototype.reshape=function(s,u){var o=u?this.clone():this;o._data=pn(o._data,s);var p=o._size.reduce((A,h)=>A*h);return o._size=Cr(s,p),o};function c(s,u,o){for(var p=s._size.slice(0),A=!1;p.length<u.length;)p.push(0),A=!0;for(var h=0,g=u.length;h<g;h++)u[h]>p[h]&&(p[h]=u[h],A=!0);A&&l(s,p,o)}n.prototype.clone=function(){var s=new n({data:Se(this._data),size:Se(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s){var u=this,o=Pn(s),p=function g(w,m){return me(w)?w.map(function(F,I){return g(F,m.concat(I))}):o===1?s(w):o===2?s(w,m):s(w,m,u)},A=p(this._data,[]),h=this._datatype!==void 0?Ht(A,bt):void 0;return new n(A,h)},n.prototype.forEach=function(s){var u=this,o=function p(A,h){me(A)?A.forEach(function(g,w){p(g,h.concat(w))}):s(A,h,u)};o(this._data,[])},n.prototype[Symbol.iterator]=function*(){var s=function*u(o,p){if(me(o))for(var A=0;A<o.length;A++)yield*u(o[A],p.concat(A));else yield{value:o,index:p}};yield*s(this._data,[])},n.prototype.rows=function(){var s=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var o=this._data;for(var p of o)s.push(new n([p],this._datatype));return s},n.prototype.columns=function(){var s=this,u=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,A=function(w){var m=p.map(F=>[F[w]]);u.push(new n(m,s._datatype))},h=0;h<o[1];h++)A(h);return u},n.prototype.toArray=function(){return Se(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(s){return qe(this._data,s)},n.prototype.toString=function(){return qe(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if(We(s)&&(s=s.toNumber()),!ye(s)||!xe(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var u=s>0?s:0,o=s<0?-s:0,p=this._size[0],A=this._size[1],h=Math.min(p-o,A-u),g=[],w=0;w<h;w++)g[w]=this._data[w+o][w+u];return new n({data:g,size:[h],datatype:this._datatype})},n.diagonal=function(s,u,o,p){if(!me(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(P){if(We(P)&&(P=P.toNumber()),!ye(P)||!xe(P)||P<1)throw new Error("Size values must be positive integers");return P}),o){if(We(o)&&(o=o.toNumber()),!ye(o)||!xe(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var A=o>0?o:0,h=o<0?-o:0,g=s[0],w=s[1],m=Math.min(g-h,w-A),F;if(me(u)){if(u.length!==m)throw new Error("Invalid value array length");F=function(d){return u[d]}}else if(Pe(u)){var I=u.size();if(I.length!==1||I[0]!==m)throw new Error("Invalid matrix length");F=function(d){return u.get([d])}}else F=function(){return u};p||(p=We(F(0))?F(0).mul(0):0);var M=[];if(s.length>0){M=$r(M,s,p);for(var T=0;T<m;T++)M[T+h][T+A]=F(T)}return new n({data:M,size:[g,w]})},n.fromJSON=function(s){return new n(s)},n.prototype.swapRows=function(s,u){if(!ye(s)||!xe(s)||!ye(u)||!xe(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ae(s,this._size[0]),Ae(u,this._size[0]),n._swapRows(s,u,this._data),this},n._swapRows=function(s,u,o){var p=o[s];o[s]=o[u],o[u]=p};function D(s){return Pe(s)?D(s.valueOf()):me(s)?s.map(D):s}return n},{isClass:!0});function zn(e,t,n){return e&&typeof e.map=="function"?e.map(function(i){return zn(i,t)}):t(e)}var Rn="number, number";function $n(e,t){return e+t}$n.signature=Rn;function Ln(e,t){return e*t}Ln.signature=Rn;function Ds(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var i=e.minus(t).abs();if(i.isZero())return!0;var r=e.constructor.max(e.abs(),t.abs());return i.lte(r.times(n))}return!1}function ds(e,t,n){return Gt(e.re,t.re,n)&&Gt(e.im,t.im,n)}var vs=_e("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(i,r)=>{if(!i.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(n,[i.valueType(),r.valueType()])(i.value,r.value)})}}),Jt="equalScalar",ws=["typed","config"],gs=_e(Jt,ws,e=>{var{typed:t,config:n}=e,i=vs({typed:t});return t(Jt,{"boolean, boolean":function(a,f){return a===f},"number, number":function(a,f){return Gt(a,f,n.epsilon)},"BigNumber, BigNumber":function(a,f){return a.eq(f)||Ds(a,f,n.epsilon)},"Fraction, Fraction":function(a,f){return a.equals(f)},"Complex, Complex":function(a,f){return ds(a,f,n.epsilon)}},i)});_e(Jt,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Jt,{"number, number":function(r,a){return Gt(r,a,n.epsilon)}})});var ms="SparseMatrix",As=["typed","equalScalar","Matrix"],ys=_e(ms,As,e=>{var{typed:t,equalScalar:n,Matrix:i}=e;function r(h,g){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!rt(g))throw new Error("Invalid datatype: "+g);if(Pe(h))a(this,h,g);else if(h&&me(h.index)&&me(h.ptr)&&me(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=g||h.datatype;else if(me(h))f(this,h,g);else{if(h)throw new TypeError("Unsupported type of data ("+bt(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(h,g,w){g.type==="SparseMatrix"?(h._values=g._values?Se(g._values):void 0,h._index=Se(g._index),h._ptr=Se(g._ptr),h._size=Se(g._size),h._datatype=w||g._datatype):f(h,g.valueOf(),w||g._datatype)}function f(h,g,w){h._values=[],h._index=[],h._ptr=[],h._datatype=w;var m=g.length,F=0,I=n,M=0;if(rt(w)&&(I=t.find(n,[w,w])||n,M=t.convert(0,w)),m>0){var T=0;do{h._ptr.push(h._index.length);for(var P=0;P<m;P++){var d=g[P];if(me(d)){if(T===0&&F<d.length&&(F=d.length),T<d.length){var v=d[T];I(v,M)||(h._values.push(v),h._index.push(P))}}else T===0&&F<1&&(F=1),I(d,M)||(h._values.push(d),h._index.push(P))}T++}while(T<F)}h._ptr.push(h._index.length),h._size=[m,F]}r.prototype=new i,r.prototype.createSparseMatrix=function(h,g){return new r(h,g)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return Ht(this._values,bt)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(h,g){return new r(h,g)},r.prototype.density=function(){var h=this._size[0],g=this._size[1];return h!==0&&g!==0?this._index.length/(h*g):0},r.prototype.subset=function(h,g,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,h);case 2:case 3:return c(this,h,g,w);default:throw new SyntaxError("Wrong number of arguments")}};function l(h,g){if(!Fr(g))throw new TypeError("Invalid index");var w=g.isScalar();if(w)return h.get(g.min());var m=g.size();if(m.length!==h._size.length)throw new we(m.length,h._size.length);var F,I,M,T,P=g.min(),d=g.max();for(F=0,I=h._size.length;F<I;F++)Ae(P[F],h._size[F]),Ae(d[F],h._size[F]);var v=h._values,y=h._index,B=h._ptr,C=g.dimension(0),N=g.dimension(1),x=[],_=[];C.forEach(function(R,k){_[R]=k[0],x[R]=!0});var E=v?[]:void 0,O=[],b=[];return N.forEach(function(R){for(b.push(O.length),M=B[R],T=B[R+1];M<T;M++)F=y[M],x[F]===!0&&(O.push(_[F]),E&&E.push(v[M]))}),b.push(O.length),new r({values:E,index:O,ptr:b,size:m,datatype:h._datatype})}function c(h,g,w,m){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var F=g.size(),I=g.isScalar(),M;if(Pe(w)?(M=w.size(),w=w.toArray()):M=et(w),I){if(M.length!==0)throw new TypeError("Scalar expected");h.set(g.min(),w,m)}else{if(F.length!==1&&F.length!==2)throw new we(F.length,h._size.length,"<");if(M.length<F.length){for(var T=0,P=0;F[T]===1&&M[T]===1;)T++;for(;F[T]===1;)P++,T++;w=dn(w,F.length,P,M)}if(!Ft(F,M))throw new we(F,M,">");if(F.length===1){var d=g.dimension(0);d.forEach(function(B,C){Ae(B),h.set([B,0],w[C[0]],m)})}else{var v=g.dimension(0),y=g.dimension(1);v.forEach(function(B,C){Ae(B),y.forEach(function(N,x){Ae(N),h.set([B,N],w[C[0]][x[0]],m)})})}}return h}r.prototype.get=function(h){if(!me(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new we(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=h[0],w=h[1];Ae(g,this._size[0]),Ae(w,this._size[1]);var m=D(g,this._ptr[w],this._ptr[w+1],this._index);return m<this._ptr[w+1]&&this._index[m]===g?this._values[m]:0},r.prototype.set=function(h,g,w){if(!me(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new we(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var m=h[0],F=h[1],I=this._size[0],M=this._size[1],T=n,P=0;rt(this._datatype)&&(T=t.find(n,[this._datatype,this._datatype])||n,P=t.convert(0,this._datatype)),(m>I-1||F>M-1)&&(o(this,Math.max(m+1,I),Math.max(F+1,M),w),I=this._size[0],M=this._size[1]),Ae(m,I),Ae(F,M);var d=D(m,this._ptr[F],this._ptr[F+1],this._index);return d<this._ptr[F+1]&&this._index[d]===m?T(g,P)?s(d,F,this._values,this._index,this._ptr):this._values[d]=g:T(g,P)||u(d,m,F,g,this._values,this._index,this._ptr),this};function D(h,g,w,m){if(w-g===0)return w;for(var F=g;F<w;F++)if(m[F]===h)return F;return g}function s(h,g,w,m,F){w.splice(h,1),m.splice(h,1);for(var I=g+1;I<F.length;I++)F[I]--}function u(h,g,w,m,F,I,M){F.splice(h,0,m),I.splice(h,0,g);for(var T=w+1;T<M.length;T++)M[T]++}r.prototype.resize=function(h,g,w){if(!Vt(h))throw new TypeError("Array or Matrix expected");var m=h.valueOf().map(I=>Array.isArray(I)&&I.length===1?I[0]:I);if(m.length!==2)throw new Error("Only two dimensions matrix are supported");m.forEach(function(I){if(!ye(I)||!xe(I)||I<0)throw new TypeError("Invalid size, must contain positive integers (size: "+qe(m)+")")});var F=w?this.clone():this;return o(F,m[0],m[1],g)};function o(h,g,w,m){var F=m||0,I=n,M=0;rt(h._datatype)&&(I=t.find(n,[h._datatype,h._datatype])||n,M=t.convert(0,h._datatype),F=t.convert(F,h._datatype));var T=!I(F,M),P=h._size[0],d=h._size[1],v,y,B;if(w>d){for(y=d;y<w;y++)if(h._ptr[y]=h._values.length,T)for(v=0;v<P;v++)h._values.push(F),h._index.push(v);h._ptr[w]=h._values.length}else w<d&&(h._ptr.splice(w+1,d-w),h._values.splice(h._ptr[w],h._values.length),h._index.splice(h._ptr[w],h._index.length));if(d=w,g>P){if(T){var C=0;for(y=0;y<d;y++){h._ptr[y]=h._ptr[y]+C,B=h._ptr[y+1]+C;var N=0;for(v=P;v<g;v++,N++)h._values.splice(B+N,0,F),h._index.splice(B+N,0,v),C++}h._ptr[d]=h._values.length}}else if(g<P){var x=0;for(y=0;y<d;y++){h._ptr[y]=h._ptr[y]-x;var _=h._ptr[y],E=h._ptr[y+1]-x;for(B=_;B<E;B++)v=h._index[B],v>g-1&&(h._values.splice(B,1),h._index.splice(B,1),x++)}h._ptr[y]=h._values.length}return h._size[0]=g,h._size[1]=w,h}r.prototype.reshape=function(h,g){if(!me(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(R){if(!ye(R)||!xe(R)||R<=-2||R===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+qe(h)+")")});var w=this._size[0]*this._size[1];h=Cr(h,w);var m=h[0]*h[1];if(w!==m)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var F=g?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return F;for(var I=[],M=0;M<F._ptr.length;M++)for(var T=0;T<F._ptr[M+1]-F._ptr[M];T++)I.push(M);for(var P=F._values.slice(),d=F._index.slice(),v=0;v<F._index.length;v++){var y=d[v],B=I[v],C=y*F._size[1]+B;I[v]=C%h[1],d[v]=Math.floor(C/h[1])}F._values.length=0,F._index.length=0,F._ptr.length=h[1]+1,F._size=h.slice();for(var N=0;N<F._ptr.length;N++)F._ptr[N]=0;for(var x=0;x<P.length;x++){var _=d[x],E=I[x],O=P[x],b=D(_,F._ptr[E],F._ptr[E+1],F._index);u(b,_,E,O,F._values,F._index,F._ptr)}return F},r.prototype.clone=function(){var h=new r({values:this._values?Se(this._values):void 0,index:Se(this._index),ptr:Se(this._ptr),size:Se(this._size),datatype:this._datatype});return h},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(h,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,m=this._size[0],F=this._size[1],I=Pn(h),M=function(P,d,v){return I===1?h(P):I===2?h(P,[d,v]):h(P,[d,v],w)};return p(this,0,m-1,0,F-1,M,g)};function p(h,g,w,m,F,I,M){var T=[],P=[],d=[],v=n,y=0;rt(h._datatype)&&(v=t.find(n,[h._datatype,h._datatype])||n,y=t.convert(0,h._datatype));for(var B=function(K,re,J){K=I(K,re,J),v(K,y)||(T.push(K),P.push(re))},C=m;C<=F;C++){d.push(T.length);var N=h._ptr[C],x=h._ptr[C+1];if(M)for(var _=N;_<x;_++){var E=h._index[_];E>=g&&E<=w&&B(h._values[_],E-g,C-m)}else{for(var O={},b=N;b<x;b++){var R=h._index[b];O[R]=h._values[b]}for(var k=g;k<=w;k++){var G=k in O?O[k]:0;B(G,k-g,C-m)}}}return d.push(T.length),new r({values:T,index:P,ptr:d,size:[w-g+1,F-m+1]})}r.prototype.forEach=function(h,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,m=this._size[0],F=this._size[1],I=0;I<F;I++){var M=this._ptr[I],T=this._ptr[I+1];if(g)for(var P=M;P<T;P++){var d=this._index[P];h(this._values[P],[d,I],w)}else{for(var v={},y=M;y<T;y++){var B=this._index[y];v[B]=this._values[y]}for(var C=0;C<m;C++){var N=C in v?v[C]:0;h(N,[C,I],w)}}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],g=0;g<h;g++)for(var w=this._ptr[g],m=this._ptr[g+1],F=w;F<m;F++){var I=this._index[F];yield{value:this._values[F],index:[I,g]}}},r.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)};function A(h,g,w,m,F){var I=m[0],M=m[1],T=[],P,d;for(P=0;P<I;P++)for(T[P]=[],d=0;d<M;d++)T[P][d]=0;for(d=0;d<M;d++)for(var v=w[d],y=w[d+1],B=v;B<y;B++)P=g[B],T[P][d]=h?F?Se(h[B]):h[B]:1;return T}return r.prototype.format=function(h){for(var g=this._size[0],w=this._size[1],m=this.density(),F="Sparse Matrix ["+qe(g,h)+" x "+qe(w,h)+"] density: "+qe(m,h)+`
`,I=0;I<w;I++)for(var M=this._ptr[I],T=this._ptr[I+1],P=M;P<T;P++){var d=this._index[P];F+=`
    (`+qe(d,h)+", "+qe(I,h)+") ==> "+(this._values?qe(this._values[P],h):"X")}return F},r.prototype.toString=function(){return qe(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(h){if(h){if(We(h)&&(h=h.toNumber()),!ye(h)||!xe(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,w=h<0?-h:0,m=this._size[0],F=this._size[1],I=Math.min(m-w,F-g),M=[],T=[],P=[];P[0]=0;for(var d=g;d<F&&M.length<I;d++)for(var v=this._ptr[d],y=this._ptr[d+1],B=v;B<y;B++){var C=this._index[B];if(C===d-g+w){M.push(this._values[B]),T[M.length-1]=C-w;break}}return P.push(M.length),new r({values:M,index:T,ptr:P,size:[I,1]})},r.fromJSON=function(h){return new r(h)},r.diagonal=function(h,g,w,m,F){if(!me(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(R){if(We(R)&&(R=R.toNumber()),!ye(R)||!xe(R)||R<1)throw new Error("Size values must be positive integers");return R}),w){if(We(w)&&(w=w.toNumber()),!ye(w)||!xe(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var I=n,M=0;rt(F)&&(I=t.find(n,[F,F])||n,M=t.convert(0,F));var T=w>0?w:0,P=w<0?-w:0,d=h[0],v=h[1],y=Math.min(d-P,v-T),B;if(me(g)){if(g.length!==y)throw new Error("Invalid value array length");B=function(k){return g[k]}}else if(Pe(g)){var C=g.size();if(C.length!==1||C[0]!==y)throw new Error("Invalid matrix length");B=function(k){return g.get([k])}}else B=function(){return g};for(var N=[],x=[],_=[],E=0;E<v;E++){_.push(N.length);var O=E-T;if(O>=0&&O<y){var b=B(O);I(b,M)||(x.push(O+P),N.push(b))}}return _.push(N.length),new r({values:N,index:x,ptr:_,size:[d,v]})},r.prototype.swapRows=function(h,g){if(!ye(h)||!xe(h)||!ye(g)||!xe(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ae(h,this._size[0]),Ae(g,this._size[0]),r._swapRows(h,g,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(h,g,w,m,F){for(var I=m[h],M=m[h+1],T=I;T<M;T++)F(w[T],g[T])},r._swapRows=function(h,g,w,m,F,I){for(var M=0;M<w;M++){var T=I[M],P=I[M+1],d=D(h,T,P,F),v=D(g,T,P,F);if(d<P&&v<P&&F[d]===h&&F[v]===g){if(m){var y=m[d];m[d]=m[v],m[v]=y}continue}if(d<P&&F[d]===h&&(v>=P||F[v]!==g)){var B=m?m[d]:void 0;F.splice(v,0,g),m&&m.splice(v,0,B),F.splice(v<=d?d+1:d,1),m&&m.splice(v<=d?d+1:d,1);continue}if(v<P&&F[v]===g&&(d>=P||F[d]!==h)){var C=m?m[v]:void 0;F.splice(d,0,h),m&&m.splice(d,0,C),F.splice(d<=v?v+1:v,1),m&&m.splice(d<=v?v+1:v,1)}}},r},{isClass:!0}),Vr="matrix",Es=["typed","Matrix","DenseMatrix","SparseMatrix"],Fs=_e(Vr,Es,e=>{var{typed:t,Matrix:n,DenseMatrix:i,SparseMatrix:r}=e;return t(Vr,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,c){return a([],l,c)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(f,l,c){if(l==="dense"||l==="default"||l===void 0)return new i(f,c);if(l==="sparse")return new r(f,c);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}}),Zr="addScalar",Cs=["typed"],Bs=_e(Zr,Cs,e=>{var{typed:t}=e;return t(Zr,{"number, number":$n,"Complex, Complex":function(i,r){return i.add(r)},"BigNumber, BigNumber":function(i,r){return i.plus(r)},"Fraction, Fraction":function(i,r){return i.add(r)},"Unit, Unit":t.referToSelf(n=>(i,r)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var a=i.clone();return a.value=t.find(n,[a.valueType(),r.valueType()])(a.value,r.value),a.fixPrefix=!1,a})})}),_s="matAlgo11xS0s",Ns=["typed","equalScalar"],Ms=_e(_s,Ns,e=>{var{typed:t,equalScalar:n}=e;return function(r,a,f,l){var c=r._values,D=r._index,s=r._ptr,u=r._size,o=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=u[0],A=u[1],h,g=n,w=0,m=f;typeof o=="string"&&(h=o,g=t.find(n,[h,h]),w=t.convert(0,h),a=t.convert(a,h),m=t.find(f,[h,h]));for(var F=[],I=[],M=[],T=0;T<A;T++){M[T]=I.length;for(var P=s[T],d=s[T+1],v=P;v<d;v++){var y=D[v],B=l?m(a,c[v]):m(c[v],a);g(B,w)||(I.push(y),F.push(B))}}return M[A]=I.length,r.createSparseMatrix({values:F,index:I,ptr:M,size:[p,A],datatype:h})}}),Ss="matAlgo14xDs",xs=["typed"],bs=_e(Ss,xs,e=>{var{typed:t}=e;return function(r,a,f,l){var c=r._data,D=r._size,s=r._datatype,u,o=f;typeof s=="string"&&(u=s,a=t.convert(a,u),o=t.find(f,[u,u]));var p=D.length>0?n(o,0,D,D[0],c,a,l):[];return r.createDenseMatrix({data:p,size:Se(D),datatype:u})};function n(i,r,a,f,l,c,D){var s=[];if(r===a.length-1)for(var u=0;u<f;u++)s[u]=D?i(c,l[u]):i(l[u],c);else for(var o=0;o<f;o++)s[o]=n(i,r+1,a,a[r+1],l[o],c,D);return s}}),Ts="multiplyScalar",Os=["typed"],Is=_e(Ts,Os,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Ln,"Complex, Complex":function(i,r){return i.mul(r)},"BigNumber, BigNumber":function(i,r){return i.times(r)},"Fraction, Fraction":function(i,r){return i.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(n,i)=>i.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,i)=>n.multiply(i)})}),Gr="multiply",Ps=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],zs=_e(Gr,Ps,e=>{var{typed:t,matrix:n,addScalar:i,multiplyScalar:r,equalScalar:a,dot:f}=e,l=Ms({typed:t,equalScalar:a}),c=bs({typed:t});function D(M,T){switch(M.length){case 1:switch(T.length){case 1:if(M[0]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(M[0]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+M[0]+") must match Matrix rows ("+T[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+T.length+" dimensions)")}break;case 2:switch(T.length){case 1:if(M[1]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+M[1]+") must match Vector length ("+T[0]+")");break;case 2:if(M[1]!==T[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+M[1]+") must match Matrix B rows ("+T[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+T.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+M.length+" dimensions)")}}function s(M,T,P){if(P===0)throw new Error("Cannot multiply two empty vectors");return f(M,T)}function u(M,T){if(T.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return o(M,T)}function o(M,T){var P=M._data,d=M._size,v=M._datatype,y=T._data,B=T._size,C=T._datatype,N=d[0],x=B[1],_,E=i,O=r;v&&C&&v===C&&typeof v=="string"&&(_=v,E=t.find(i,[_,_]),O=t.find(r,[_,_]));for(var b=[],R=0;R<x;R++){for(var k=O(P[0],y[0][R]),G=1;G<N;G++)k=E(k,O(P[G],y[G][R]));b[R]=k}return M.createDenseMatrix({data:b,size:[x],datatype:_})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":m}),A=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":F,"SparseMatrix, SparseMatrix":I});function h(M,T){var P=M._data,d=M._size,v=M._datatype,y=T._data,B=T._datatype,C=d[0],N=d[1],x,_=i,E=r;v&&B&&v===B&&typeof v=="string"&&(x=v,_=t.find(i,[x,x]),E=t.find(r,[x,x]));for(var O=[],b=0;b<C;b++){for(var R=P[b],k=E(R[0],y[0]),G=1;G<N;G++)k=_(k,E(R[G],y[G]));O[b]=k}return M.createDenseMatrix({data:O,size:[C],datatype:x})}function g(M,T){var P=M._data,d=M._size,v=M._datatype,y=T._data,B=T._size,C=T._datatype,N=d[0],x=d[1],_=B[1],E,O=i,b=r;v&&C&&v===C&&typeof v=="string"&&(E=v,O=t.find(i,[E,E]),b=t.find(r,[E,E]));for(var R=[],k=0;k<N;k++){var G=P[k];R[k]=[];for(var Y=0;Y<_;Y++){for(var K=b(G[0],y[0][Y]),re=1;re<x;re++)K=O(K,b(G[re],y[re][Y]));R[k][Y]=K}}return M.createDenseMatrix({data:R,size:[N,_],datatype:E})}function w(M,T){var P=M._data,d=M._size,v=M._datatype,y=T._values,B=T._index,C=T._ptr,N=T._size,x=T._datatype;if(!y)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var _=d[0],E=N[1],O,b=i,R=r,k=a,G=0;v&&x&&v===x&&typeof v=="string"&&(O=v,b=t.find(i,[O,O]),R=t.find(r,[O,O]),k=t.find(a,[O,O]),G=t.convert(0,O));for(var Y=[],K=[],re=[],J=T.createSparseMatrix({values:Y,index:K,ptr:re,size:[_,E],datatype:O}),Q=0;Q<E;Q++){re[Q]=K.length;var te=C[Q],de=C[Q+1];if(de>te)for(var fe=0,se=0;se<_;se++){for(var ce=se+1,ve=void 0,ue=te;ue<de;ue++){var ae=B[ue];fe!==ce?(ve=R(P[se][ae],y[ue]),fe=ce):ve=b(ve,R(P[se][ae],y[ue]))}fe===ce&&!k(ve,G)&&(K.push(se),Y.push(ve))}}return re[E]=K.length,J}function m(M,T){var P=M._values,d=M._index,v=M._ptr,y=M._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=T._data,C=T._datatype,N=M._size[0],x=T._size[0],_=[],E=[],O=[],b,R=i,k=r,G=a,Y=0;y&&C&&y===C&&typeof y=="string"&&(b=y,R=t.find(i,[b,b]),k=t.find(r,[b,b]),G=t.find(a,[b,b]),Y=t.convert(0,b));var K=[],re=[];O[0]=0;for(var J=0;J<x;J++){var Q=B[J];if(!G(Q,Y))for(var te=v[J],de=v[J+1],fe=te;fe<de;fe++){var se=d[fe];re[se]?K[se]=R(K[se],k(Q,P[fe])):(re[se]=!0,E.push(se),K[se]=k(Q,P[fe]))}}for(var ce=E.length,ve=0;ve<ce;ve++){var ue=E[ve];_[ve]=K[ue]}return O[1]=E.length,M.createSparseMatrix({values:_,index:E,ptr:O,size:[N,1],datatype:b})}function F(M,T){var P=M._values,d=M._index,v=M._ptr,y=M._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=T._data,C=T._datatype,N=M._size[0],x=T._size[0],_=T._size[1],E,O=i,b=r,R=a,k=0;y&&C&&y===C&&typeof y=="string"&&(E=y,O=t.find(i,[E,E]),b=t.find(r,[E,E]),R=t.find(a,[E,E]),k=t.convert(0,E));for(var G=[],Y=[],K=[],re=M.createSparseMatrix({values:G,index:Y,ptr:K,size:[N,_],datatype:E}),J=[],Q=[],te=0;te<_;te++){K[te]=Y.length;for(var de=te+1,fe=0;fe<x;fe++){var se=B[fe][te];if(!R(se,k))for(var ce=v[fe],ve=v[fe+1],ue=ce;ue<ve;ue++){var ae=d[ue];Q[ae]!==de?(Q[ae]=de,Y.push(ae),J[ae]=b(se,P[ue])):J[ae]=O(J[ae],b(se,P[ue]))}}for(var oe=K[te],Xe=Y.length,Ye=oe;Ye<Xe;Ye++){var wt=Y[Ye];G[Ye]=J[wt]}}return K[_]=Y.length,re}function I(M,T){var P=M._values,d=M._index,v=M._ptr,y=M._datatype,B=T._values,C=T._index,N=T._ptr,x=T._datatype,_=M._size[0],E=T._size[1],O=P&&B,b,R=i,k=r;y&&x&&y===x&&typeof y=="string"&&(b=y,R=t.find(i,[b,b]),k=t.find(r,[b,b]));for(var G=O?[]:void 0,Y=[],K=[],re=M.createSparseMatrix({values:G,index:Y,ptr:K,size:[_,E],datatype:b}),J=O?[]:void 0,Q=[],te,de,fe,se,ce,ve,ue,ae,oe=0;oe<E;oe++){K[oe]=Y.length;var Xe=oe+1;for(ce=N[oe],ve=N[oe+1],se=ce;se<ve;se++)if(ae=C[se],O)for(de=v[ae],fe=v[ae+1],te=de;te<fe;te++)ue=d[te],Q[ue]!==Xe?(Q[ue]=Xe,Y.push(ue),J[ue]=k(B[se],P[te])):J[ue]=R(J[ue],k(B[se],P[te]));else for(de=v[ae],fe=v[ae+1],te=de;te<fe;te++)ue=d[te],Q[ue]!==Xe&&(Q[ue]=Xe,Y.push(ue));if(O)for(var Ye=K[oe],wt=Y.length,gt=Ye;gt<wt;gt++){var ur=Y[gt];G[gt]=J[ur]}}return K[E]=Y.length,re}return t(Gr,r,{"Array, Array":t.referTo("Matrix, Matrix",M=>(T,P)=>{D(et(T),et(P));var d=M(n(T),n(P));return Pe(d)?d.valueOf():d}),"Matrix, Matrix":function(T,P){var d=T.size(),v=P.size();return D(d,v),d.length===1?v.length===1?s(T,P,d[0]):u(T,P):v.length===1?p(T,P):A(T,P)},"Matrix, Array":t.referTo("Matrix,Matrix",M=>(T,P)=>M(T,n(P))),"Array, Matrix":t.referToSelf(M=>(T,P)=>M(n(T,P.storage()),P)),"SparseMatrix, any":function(T,P){return l(T,P,r,!1)},"DenseMatrix, any":function(T,P){return c(T,P,r,!1)},"any, SparseMatrix":function(T,P){return l(P,T,r,!0)},"any, DenseMatrix":function(T,P){return c(P,T,r,!0)},"Array, any":function(T,P){return c(n(T),P,r,!1).valueOf()},"any, Array":function(T,P){return c(n(P),T,r,!0).valueOf()},"any, any":r,"any, any, ...any":t.referToSelf(M=>(T,P,d)=>{for(var v=M(T,P),y=0;y<d.length;y++)v=M(v,d[y]);return v})})}),Hr="conj",Rs=["typed"],$s=_e(Hr,Rs,e=>{var{typed:t}=e;return t(Hr,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":t.referToSelf(n=>i=>zn(i,n))})});function Ls(){throw new Error('No "matrix" implementation available')}var Wr="size",qs=["typed","config","?matrix"],Us=_e(Wr,qs,e=>{var{typed:t,config:n,matrix:i}=e;return t(Wr,{Matrix:function(a){return a.create(a.size())},Array:et,string:function(a){return n.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return n.matrix==="Array"?[]:i?i([]):Ls()}})}),Xr="dot",ks=["typed","addScalar","multiplyScalar","conj","size"],Vs=_e(Xr,ks,e=>{var{typed:t,addScalar:n,multiplyScalar:i,conj:r,size:a}=e;return t(Xr,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":c});function f(s,u){var o=D(s),p=D(u),A,h;if(o.length===1)A=o[0];else if(o.length===2&&o[1]===1)A=o[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(A!==h)throw new RangeError("Vectors must have equal length ("+A+" != "+h+")");if(A===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function l(s,u){var o=f(s,u),p=Pe(s)?s._data:s,A=Pe(s)?s._datatype:void 0,h=Pe(u)?u._data:u,g=Pe(u)?u._datatype:void 0,w=D(s).length===2,m=D(u).length===2,F=n,I=i;if(A&&g&&A===g&&typeof A=="string"){var M=A;F=t.find(n,[M,M]),I=t.find(i,[M,M])}if(!w&&!m){for(var T=I(r(p[0]),h[0]),P=1;P<o;P++)T=F(T,I(r(p[P]),h[P]));return T}if(!w&&m){for(var d=I(r(p[0]),h[0][0]),v=1;v<o;v++)d=F(d,I(r(p[v]),h[v][0]));return d}if(w&&!m){for(var y=I(r(p[0][0]),h[0]),B=1;B<o;B++)y=F(y,I(r(p[B][0]),h[B]));return y}if(w&&m){for(var C=I(r(p[0][0]),h[0][0]),N=1;N<o;N++)C=F(C,I(r(p[N][0]),h[N][0]));return C}}function c(s,u){f(s,u);for(var o=s._index,p=s._values,A=u._index,h=u._values,g=0,w=n,m=i,F=0,I=0;F<o.length&&I<A.length;){var M=o[F],T=A[I];if(M<T){F++;continue}if(M>T){I++;continue}M===T&&(g=w(g,m(p[F],h[I])),F++,I++)}return g}function D(s){return Pe(s)?s.size():a(s)}}),Zs=jo({config:jt}),Gs=ns({}),Hs=ss({}),_r=cs({}),qn=ps({Matrix:_r}),at=to({BigNumber:Zs,Complex:Gs,DenseMatrix:qn,Fraction:Hs}),Un=Bs({typed:at}),Ws=$s({typed:at}),kn=gs({config:jt,typed:at}),Vn=Is({typed:at}),Xs=ys({Matrix:_r,equalScalar:kn,typed:at}),Kt=Fs({DenseMatrix:qn,Matrix:_r,SparseMatrix:Xs,typed:at}),Ys=Us({matrix:Kt,config:jt,typed:at}),Js=Vs({addScalar:Un,conj:Ws,multiplyScalar:Vn,size:Ys,typed:at}),Ks=zs({addScalar:Un,dot:Js,equalScalar:kn,matrix:Kt,multiplyScalar:Vn,typed:at});const{Matrix:Dr}=Wi();function Qs(e,t,n){let i=Kt(t);const r=Kt(e);for(let a=0;a<n;a++)i=Ks(i,r);return i.toArray().map(a=>parseFloat(Number(a).toFixed(4)))}function js(e,t){const n=e.length,i=new Dr(e).trans(),r=Dr.identity(n),{data:a}=r.minus(i);a.forEach(l=>l.push(0)),a.push(Array(n+1).fill(1));const f=ta(a,t);return new Dr(f).trans().data.at(-1).slice(0,-1)}const ea=e=>{const t=e.length,n=e[0].length;let i=0;for(let r=0;r<t;r++){if(n<=i)return e;let a=r;const f=new rn("1e-1");for(;e[a][i].abs().isLessThanOrEqualTo(f);)if(a++,t===a&&(a=r,i++,n===i))return e;let l=e[a];e[a]=e[r],e[r]=l;let c=e[r][i];for(let D=0;D<n;D++)e[r][D]=e[r][D].div(c);for(let D=0;D<t;D++)if(D!==r){c=e[D][i];for(let s=0;s<n;s++)e[D][s]=e[D][s].minus(c.times(e[r][s]))}i++}return e},ta=(e,t)=>{const n=e.map(r=>r.map(a=>new rn(a)));return ea(n).map(r=>r.map(a=>parseFloat(a.toNumber().toFixed(t))))},ra=e=>{const t=Array.from(e.keys()).reduce((i,r,a)=>i.set(r,a),new Map),n=Array.from(t.entries()).reduce((i,[r,a])=>i.set(a,r),new Map);return{list:Array.from(e).reduce((i,[r,a])=>{const f=t.get(r);return i[f]=a.map(l=>t.get(l)),i},[]),map:n}},na=e=>{const{list:t,map:n}=ra(e),{components:i}=Ui(t),r=i.map(l=>l.map(c=>n.get(c))),{adjacencyMap:a,nodeToComponentMap:f}=ia(r,e);return{stronglyCoupledComponents:r,adjacencyMap:a,nodeToComponentMap:f}},ia=(e,t)=>{const n=new Map,i=new Map;return e.forEach((r,a)=>{r.forEach(f=>{i.set(f,a)})}),e.forEach((r,a)=>{const l=r.map(D=>t.get(D)??[]).flat().filter(D=>i.get(D)!==a).map(D=>i.get(D)??-1),c=new Set(l);n.set(a,[...c])}),{adjacencyMap:n,nodeToComponentMap:i}},ua=e=>{if(e===1)return 1;let t=2;for(;e>=2;){if(e%t===0)return t;t++}return 1},oa=(e,t)=>{const n=sa(e[0],t),i=n.reduce((r,a)=>Zn(r,a),n[0]);return ua(i)},sa=(e,t)=>{var f;const i=[...((f=t.get(e))==null?void 0:f.map(l=>[l,1]))??[]],r=new Map,a=[];for(;i.length>0;){const[l,c]=i.shift();if(r.get(l)===100)continue;if(l===e){a.push(c);continue}const D=r.get(l);r.set(l,D?D+1:1);for(const s of t.get(l)??[])i.push([s,c+1])}return a},Zn=(e,t)=>t===0?e:Zn(t,e%t),aa=(e,t)=>e.reduce((n,i)=>n.set(i.id,t.filter(r=>r.from===i.id).map(r=>r.to)),new Map),fa=(e,t,n)=>{const i=n.find(r=>r.from===e&&r.to===t);return i?i.weight:0},ca=(e,t)=>Array.from(e).reduce((n,[i,r])=>{const a=1/r.length,f=D=>D.id===i?1:0,l=D=>r.includes(D.id)?a:0,c=r.length===0?t.map(f):t.map(l);return n.push(c),n},[]),la=(e,t)=>e.reduce((n,{id:i})=>{const r=e.map(a=>fa(i,a.id,t));return n.push(r),n},[]),ha=(e,t)=>{const n=[];for(let i=0;i<e.length;i++)e[i].reduce((f,l)=>f+l,0)!==1&&n.push(t[i].id);return{valid:n.length===0,illegalStates:n}};function pa(e,t,n){const i={uniformEdgeProbability:!1,steadyStatePrecision:3},r=()=>{const{uniformEdgeProbability:a,steadyStatePrecision:f}=Object.assign(i,(n==null?void 0:n.value)??{}),l=aa(e.value,t.value),c=a?ca(l,e.value):la(e.value,t.value),{stronglyCoupledComponents:D,adjacencyMap:s,nodeToComponentMap:u}=na(l),o=[],p=[];for(const[M,T]of s)T.length===0?p.push(D[M]):o.push(D[M]);const A=o.flat(),h=p.flat(),g=p.map(M=>oa(M,l)),w=p.length===1&&g[0]===1,m=w?js(c,f):void 0,{valid:F,illegalStates:I}=ha(c,e.value);return{valid:F,illegalStates:I,totalStates:e.value.length,transientStates:A,transientStateCount:o.length,recurrentStates:h,recurrentStateCount:h.length,recurrentClasses:p,recurrentClassCount:p.length,communicatingClasses:D,communicatingClassCount:D.length,nodeToCommunicatingClassMap:u,recurrentClassPeriods:g,periodClassifications:g.map(M=>M===1?"APERIODIC":"PERIODIC"),transitionMatrix:c,adjacencyMap:l,uniqueSteadyState:w,steadyStateVector:m}};return{state:qt(r),reCompute:r}}async function Da(e,t,n){for await(const i of e)await t();e.forEach((i,r)=>{i.forEach((a,f)=>{a>0&&n({to:f,from:r,weight:a})})})}function da(e,t){const n=t.nodeToCommunicatingClassMap.get(e.id);if([n===void 0,t.transientStates.includes(e.id)].some(a=>a))return["Gray","border-gray-900"];const r=[["Red","border-red-500"],["Orange","border-yellow-500"],["Green","border-green-500"],["Blue","border-blue-500"],["Indigo","border-indigo-500"],["Purple","border-purple-500"],["Pink","border-pink-500"]];return r[n%r.length]}const va={key:0,class:"absolute top-0 right-0 z-50 text-white text-xl bg-red-500 p-4 opacity-75",style:{"pointer-events":"none"}},wa=Te("br",null,null,-1),ga=Er({__name:"DebugScreen",props:{markov:{}},setup(e){const t=Le(!1);return addEventListener("keydown",n=>{n.key==="d"&&(t.value=!t.value)}),(n,i)=>t.value?(Ce(),Fe("div",va,[(Ce(!0),Fe(St,null,xt(n.markov,(r,a)=>(Ce(),Fe("div",null,[Te("b",null,ot(a)+": ",1),wa,Mi(" "+ot(r??"undefined"),1)]))),256))])):$t("",!0)}}),ma={class:"text-white p-5 pt-8"},Aa=Te("h1",{class:"text-4xl font-bold"}," Your Markov Chain ",-1),ya={class:"text-3xl font-semibold"},Ea={class:"text-xl"},Fa=Er({__name:"InfoScreen",props:{markov:{}},setup(e){const t=e,n=qt(()=>{const i=[],r={title:"States",content:`There are ${t.markov.totalStates} total states. ${t.markov.recurrentStateCount} of them are recurrent and ${t.markov.transientStateCount} of them are transient.`};i.push(r);const a={title:"Recurrent States",content:t.markov.recurrentStates.join(", ")||"None"};i.push(a);const f={title:"Transient States",content:t.markov.transientStates.join(", ")||"None"};i.push(f);const l={title:"Communicating Classes",content:`There are ${t.markov.communicatingClassCount} communicating classes. ${t.markov.communicatingClasses}`};return i.push(l),i});return(i,r)=>(Ce(),Fe("div",ma,[Aa,(Ce(!0),Fe(St,null,xt(n.value,a=>(Ce(),Fe("div",{key:a.title,class:"mt-5"},[Te("h2",ya,ot(a.title),1),Te("p",Ea,ot(a.content),1)]))),128))]))}}),Ca={class:"absolute w-full h-full bg-gray-600",style:{"user-select":"none"}},Ba={class:"flex flex-col items-center justify-center h-full p-12"},_a={class:"w-full h-[900px] bg-gray-700 rounded-xl relative overflow-hidden"},Na=["onMousedown"],Ma=["onKeyup","onMousedown","onMouseover","onMouseup"],Sa=["onMouseover"],xa={key:0,class:"text-white text-3xl"},ba={key:1,class:"text-white text-xl"},Ta=["onUpdate:modelValue"],Ia=Er({__name:"HomeView",setup(e){const t={r:()=>u(),s:()=>d.value.ready=!d.value.ready,n:()=>M(),"+":()=>o.value.steadyStatePrecision++,"-":()=>o.value.steadyStatePrecision--,e:()=>o.value.uniformEdgeProbability=!o.value.uniformEdgeProbability,p:()=>C()};document.addEventListener("keydown",N=>{t[N.key]&&t[N.key]()}),document.addEventListener("dblclick",N=>{M(N.clientX-40,N.clientY-40)});const n=Le(!1),i=Le(0),r=Le([]),a=Le([]);let f=Le([]);const l=Le({hovered:!1,onTheMove:-1,startNode:null,reset:()=>{l.value.onTheMove=-1,l.value.hovered=!1,l.value.startNode=null}}),c=async N=>{if(l.value.onTheMove!==-1)return;l.value.reset(),l.value.startNode=N;const x=N.ref.getBoundingClientRect().x,_=N.ref.getBoundingClientRect().y;f.value=new Array(4).fill(0).map(O=>({})),await new Promise(O=>setTimeout(O,0));const E=[{x:28,y:-10},{x:65,y:30},{x:-10,y:30},{x:28,y:65}];f.value.forEach((O,b)=>{const{style:R}=Sr(O.ref,{initialValue:{x:x+E[b].x,y:_+E[b].y}});f.value[b].style=R})},D=()=>{const N=l.value.startNode,x=f.value[l.value.onTheMove].ref;if(!N||!x)throw new Error("startNode or miniNode is null");const _=x.getBoundingClientRect(),E=r.value.find(O=>{const b=O.ref.getBoundingClientRect(),R=60;return b.x>_.x-R&&b.x<_.x+_.width+R&&b.y>_.y-R&&b.y<_.y+_.height+R});E&&A({from:N.id,to:E.id,weight:1}),f.value=[],l.value.reset()},s=async()=>{await new Promise(N=>setTimeout(N,0)),!(l.value.onTheMove!==-1||l.value.hovered)&&(f.value=[])},u=()=>{r.value=[],a.value=[],i.value=0;const N=Math.floor(Math.random()*10)+1,x=()=>Math.random()<1/N?Number(Math.random().toFixed(2)):0;new Array(N).fill(0).map(()=>new Array(N).fill(0).map(()=>x()));const _=[[1/3,2/3,0],[1/4,1/2,1/4],[0,1/4,3/4]];Da(_,M,A)},o=Le({uniformEdgeProbability:!1,steadyStatePrecision:3}),{state:p}=pa(r,a,o),A=N=>{if(a.value.find(E=>E.from===N.from&&E.to===N.to))return;const _={id:a.value.length,from:N.from,to:N.to,weight:N.weight};a.value.push(_)},h=Le(-1),g=N=>{l.value.onTheMove===-1&&(h.value=N)},w=(N,x,_=60)=>{if(!N||!x)return null;const E=x.getBoundingClientRect(),O=N.getBoundingClientRect(),b=E.x+E.width/2,R=E.y+E.height/2,k=O.x+O.width/2,G=O.y+O.height/2,Y=Math.atan2(G-R,k-b),K=Y*(180/Math.PI),re=Math.sqrt((b-k)**2+(R-G)**2),J=(ue,ae)=>{const oe=ue+Math.PI/2,Xe=ae*Math.cos(oe),Ye=ae*Math.sin(oe);return{distanceX:Xe,distanceY:Ye}},{distanceX:Q,distanceY:te}=J(Y,10),de=Q/Math.sqrt(Q**2+te**2),fe=te/Math.sqrt(Q**2+te**2),se={width:0,height:0,transform:`translate(${re-60}px, -16px)`,"border-top":"20px solid transparent","border-bottom":"20px solid transparent","border-left":"20px solid rgb(17 24 39)"},ce={transform:`rotate(${-1*K}deg) translate(${-Math.cos(Y)*re/3}px, ${-Math.sin(Y)*re/3}px)`};return{line:{width:`${re-_}px`,height:"8px",transform:`rotate(${K}deg)`,transformOrigin:"0 0",top:`${R-fe*4}px`,left:`${b-de*4}px`},arrow:se,weight:ce,y1:R,x1:b,distanceX:Q,distanceY:te,radians:Y}},m=N=>{const x=r.value.find(ce=>ce.id===N.from),_=r.value.find(ce=>ce.id===N.to);if(!x||!_)return null;const E=w(_.ref,x.ref);if(!E)return null;const{line:O,arrow:b,weight:R,y1:k,x1:G,distanceX:Y,distanceY:K,radians:re}=E,J=25,Q=128;if(N.from===N.to)return{line:{position:"absolute",top:`${k-216}px`,left:`${G-65}px`,width:`${K*2+16}px`,height:"100px","transform-origin":"50% 100%",transform:`rotate(${Q}deg)`,"border-radius":`${J}px ${J}px 0 0`,border:"8px solid rgb(17 24 39)",background:"transparent"},arrow:{width:0,height:0,transform:"translate(-24px, 38px)","border-left":"20px solid transparent","border-right":"20px solid transparent","border-top":"20px solid rgb(17 24 39)"},weight:{"transform-origin":"0 0",transform:`rotate(${-1*Q}deg) translate(${Math.cos(re)*10}px, ${-Math.cos(re)*60}px)`}};const te=p.value.adjacencyMap.get(N.to)??[],de=p.value.adjacencyMap.get(N.from)??[],fe=te.includes(N.from)&&de.includes(N.to),se={top:`${k+K}px`,left:`${G+Y}px`};return fe&&(O.top=se.top,O.left=se.left),{line:O,arrow:b,weight:R}},F=Le(null),I=Le("Delete Node"),M=async(N,x)=>{const _={id:i.value++,style:null,children:[],ref:null};r.value.push(_),await new Promise(b=>setTimeout(b,0));const{style:E}=Sr(_.ref,{initialValue:{x:N??250+Math.floor(Math.random()*500),y:x??250+Math.floor(Math.random()*500)}}),O=r.value.findIndex(b=>b.id===_.id);r.value[O].style=E},T=(N,x)=>{const _=F.value.getBoundingClientRect(),E=N.target.getBoundingClientRect();E.x>_.x-60&&E.x<_.x+_.width+60&&E.y>_.y-60&&E.y<_.y+_.height+60&&(I.value=`Node ${x.id} Was Tasty!`,P(x),setTimeout(()=>{I.value="Delete Node"},2e3))},P=N=>{s();const x=r.value.findIndex(_=>_.id===N.id);a.value=a.value.filter(_=>_.from!==N.id&&_.to!==N.id),r.value.splice(x,1)},d=Le({running:!1,ready:!1,step:0,probVector:[],paused:!1}),v=N=>{if(s(),d.value.ready&&!d.value.running){d.value.running=!0,d.value.step=0,d.value.ready=!1;const x=r.value.findIndex(_=>_.id===N.id);d.value.probVector=new Array(r.value.length).fill(0).map((_,E)=>E===x?1:0),B()}};let y;const B=()=>{y=setInterval(()=>{d.value.running?(d.value.step++,d.value.probVector=Qs(p.value.transitionMatrix,d.value.probVector,1)):(clearInterval(y),d.value.probVector=[],d.value.step=0)},500)},C=()=>{d.value.paused=!d.value.paused,d.value.paused?clearInterval(y):B()};return(N,x)=>{var _;return Ce(),Fe("div",Ca,[Te("div",Ba,[Te("h1",{onClick:u,class:"text-5xl font-bold text-white mb-5"}," Create A Markov Chain "),Te("div",_a,[Te("button",{onClick:x[0]||(x[0]=E=>M()),class:"bg-gray-800 absolute top-0 left-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl"}," New Node "),!d.value.running&&!d.value.ready?(Ce(),Fe("button",{key:0,onClick:x[1]||(x[1]=E=>d.value.ready=!0),class:"bg-gray-800 absolute top-0 right-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"}," Run Simulation ")):d.value.running?(Ce(),Fe("button",{key:1,onClick:x[2]||(x[2]=E=>d.value.running=!1),class:"bg-gray-800 absolute top-0 right-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"}," Stop (Steps: "+ot(d.value.step)+") ",1)):d.value.ready?(Ce(),Fe("button",{key:2,onClick:x[3]||(x[3]=E=>d.value.ready=!1),class:"bg-gray-800 absolute top-0 right-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"}," Select A Node ")):$t("",!0),Te("button",{onClick:x[4]||(x[4]=E=>n.value=!n.value),class:"bg-gray-800 absolute bottom-0 left-0 w-60 h-20 hover:bg-gray-900 text-white text-3xl z-10"},ot(n.value?"Hide":"Show")+" Info ",1),Te("div",{ref_key:"killBox",ref:F,class:"bg-red-800 absolute bottom-0 right-0 hover:bg-red-700 text-white text-3xl hover:bg-red-700 px-10 py-5"},ot(I.value),513),(Ce(!0),Fe(St,null,xt(vt(f),(E,O)=>(Ce(),Fe("div",{key:O,onMouseover:x[5]||(x[5]=b=>l.value.hovered=!0),onMouseleave:x[6]||(x[6]=b=>l.value.hovered=!1),onMousedown:b=>l.value.onTheMove=O,onMouseup:x[7]||(x[7]=b=>D()),class:"fixed rounded-full bg-gray-900 w-6 h-6 z-50 cursor-pointer scale-90 hover:scale-110 transition ease-in-out duration-200",style:Dt(E.style+"; opacity:"+(E.style?1:0)),ref_for:!0,ref:b=>E.ref=b},null,44,Na))),128)),l.value.onTheMove!==-1?(Ce(),Fe("div",{key:3,class:"fixed bg-gray-900 z-30",style:Dt(w(vt(f)[l.value.onTheMove].ref,(_=l.value.startNode)==null?void 0:_.ref,0).line)},null,4)):$t("",!0),(Ce(!0),Fe(St,null,xt(r.value,(E,O)=>(Ce(),Fe("div",{key:E.id},[Te("button",{onKeyup:Si(b=>P(E),["delete"]),onMousedown:b=>v(E),onMouseover:b=>g(E.id),onMouseup:b=>{T(b,E),c(E)},class:xi("fixed w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-900 border-4 "+vt(da)(E,vt(p))[1]+" "+(E.id===h.value?"z-40":"z-10")),style:Dt(E.style+"; opacity:"+(E.style?1:0)),ref_for:!0,ref:b=>E.ref=b},[Te("div",{onMouseover:b=>c(E),onMouseleave:x[8]||(x[8]=b=>s()),class:"w-28 h-28 absolute rounded-full"},null,40,Sa),d.value.running?(Ce(),Fe("span",ba,ot(d.value.probVector[O]),1)):(Ce(),Fe("span",xa,ot(E.id),1))],46,Ma)]))),128)),(Ce(!0),Fe(St,null,xt(a.value,E=>(Ce(),Fe("div",{key:E.id},[Te("div",{class:"fixed bg-gray-900",style:Dt(m(E).line)},[Te("div",{style:Dt(m(E).arrow)},[o.value.uniformEdgeProbability?$t("",!0):bi((Ce(),Fe("input",{key:0,"onUpdate:modelValue":O=>E.weight=O,style:Dt(m(E).weight),class:"w-12 bg-transparent text-white font-bold text-xl"},null,12,Ta)),[[Ti,E.weight,void 0,{number:!0}]])],4)],4)]))),128))])]),Mr(ga,{markov:vt(p)},null,8,["markov"]),Te("div",{onClick:x[9]||(x[9]=E=>n.value=!1),style:Dt({opacity:n.value?1:0,"pointer-events":n.value?"all":"none","background-color":"rgba(0, 0, 0, 0.6)"}),class:"fixed z-50 transition-opacity duration-200 absolute top-0 left-0 w-1/3 h-full cursor-pointer"},[Mr(Fa,{markov:vt(p)},null,8,["markov"])],4)])}}});export{Ia as default};
